(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var By=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _p(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fp={exports:{}},ml={},Bp={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do=Symbol.for("react.element"),Vy=Symbol.for("react.portal"),$y=Symbol.for("react.fragment"),Hy=Symbol.for("react.strict_mode"),Wy=Symbol.for("react.profiler"),Uy=Symbol.for("react.provider"),Ky=Symbol.for("react.context"),Jy=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),Qy=Symbol.for("react.memo"),Gy=Symbol.for("react.lazy"),hd=Symbol.iterator;function Yy(t){return t===null||typeof t!="object"?null:(t=hd&&t[hd]||t["@@iterator"],typeof t=="function"?t:null)}var Vp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$p=Object.assign,Hp={};function Ni(t,e,n){this.props=t,this.context=e,this.refs=Hp,this.updater=n||Vp}Ni.prototype.isReactComponent={};Ni.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ni.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wp(){}Wp.prototype=Ni.prototype;function nc(t,e,n){this.props=t,this.context=e,this.refs=Hp,this.updater=n||Vp}var rc=nc.prototype=new Wp;rc.constructor=nc;$p(rc,Ni.prototype);rc.isPureReactComponent=!0;var md=Array.isArray,Up=Object.prototype.hasOwnProperty,ic={current:null},Kp={key:!0,ref:!0,__self:!0,__source:!0};function Jp(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Up.call(e,r)&&!Kp.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Do,type:t,key:o,ref:s,props:i,_owner:ic.current}}function Xy(t,e){return{$$typeof:Do,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Do}function Zy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gd=/\/+/g;function Jl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Zy(""+t.key):e.toString(36)}function hs(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Do:case Vy:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Jl(s,0):r,md(i)?(n="",t!=null&&(n=t.replace(gd,"$&/")+"/"),hs(i,e,n,"",function(u){return u})):i!=null&&(oc(i)&&(i=Xy(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(gd,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",md(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+Jl(o,l);s+=hs(o,e,n,a,i)}else if(a=Yy(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+Jl(o,l++),s+=hs(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function $o(t,e,n){if(t==null)return t;var r=[],i=0;return hs(t,r,"","",function(o){return e.call(n,o,i++)}),r}function e0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rt={current:null},ms={transition:null},t0={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:ms,ReactCurrentOwner:ic};function qp(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:$o,forEach:function(t,e,n){$o(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $o(t,function(){e++}),e},toArray:function(t){return $o(t,function(e){return e})||[]},only:function(t){if(!oc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=Ni;Y.Fragment=$y;Y.Profiler=Wy;Y.PureComponent=nc;Y.StrictMode=Hy;Y.Suspense=qy;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t0;Y.act=qp;Y.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$p({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ic.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Up.call(e,a)&&!Kp.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Do,type:t.type,key:i,ref:o,props:r,_owner:s}};Y.createContext=function(t){return t={$$typeof:Ky,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Uy,_context:t},t.Consumer=t};Y.createElement=Jp;Y.createFactory=function(t){var e=Jp.bind(null,t);return e.type=t,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:Jy,render:t}};Y.isValidElement=oc;Y.lazy=function(t){return{$$typeof:Gy,_payload:{_status:-1,_result:t},_init:e0}};Y.memo=function(t,e){return{$$typeof:Qy,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=ms.transition;ms.transition={};try{t()}finally{ms.transition=e}};Y.unstable_act=qp;Y.useCallback=function(t,e){return rt.current.useCallback(t,e)};Y.useContext=function(t){return rt.current.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t){return rt.current.useDeferredValue(t)};Y.useEffect=function(t,e){return rt.current.useEffect(t,e)};Y.useId=function(){return rt.current.useId()};Y.useImperativeHandle=function(t,e,n){return rt.current.useImperativeHandle(t,e,n)};Y.useInsertionEffect=function(t,e){return rt.current.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return rt.current.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return rt.current.useMemo(t,e)};Y.useReducer=function(t,e,n){return rt.current.useReducer(t,e,n)};Y.useRef=function(t){return rt.current.useRef(t)};Y.useState=function(t){return rt.current.useState(t)};Y.useSyncExternalStore=function(t,e,n){return rt.current.useSyncExternalStore(t,e,n)};Y.useTransition=function(){return rt.current.useTransition()};Y.version="18.3.1";Bp.exports=Y;var G=Bp.exports;const Ue=_p(G);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=G,r0=Symbol.for("react.element"),i0=Symbol.for("react.fragment"),o0=Object.prototype.hasOwnProperty,s0=n0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l0={key:!0,ref:!0,__self:!0,__source:!0};function Qp(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)o0.call(e,r)&&!l0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:r0,type:t,key:o,ref:s,props:i,_owner:s0.current}}ml.Fragment=i0;ml.jsx=Qp;ml.jsxs=Qp;Fp.exports=ml;var k=Fp.exports,Va={},Gp={exports:{}},wt={},Yp={exports:{}},Xp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,I){var z=T.length;T.push(I);e:for(;0<z;){var $=z-1>>>1,ne=T[$];if(0<i(ne,I))T[$]=I,T[z]=ne,z=$;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var I=T[0],z=T.pop();if(z!==I){T[0]=z;e:for(var $=0,ne=T.length,ot=ne>>>1;$<ot;){var st=2*($+1)-1,Qt=T[st],le=st+1,Gt=T[le];if(0>i(Qt,z))le<ne&&0>i(Gt,Qt)?(T[$]=Gt,T[le]=z,$=le):(T[$]=Qt,T[st]=z,$=st);else if(le<ne&&0>i(Gt,z))T[$]=Gt,T[le]=z,$=le;else break e}}return I}function i(T,I){var z=T.sortIndex-I.sortIndex;return z!==0?z:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,d=null,f=3,p=!1,h=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(T){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=T)r(u),I.sortIndex=I.expirationTime,e(a,I);else break;I=n(u)}}function S(T){if(y=!1,v(T),!h)if(n(a)!==null)h=!0,Re(M);else{var I=n(u);I!==null&&V(S,I.startTime-T)}}function M(T,I){h=!1,y&&(y=!1,m(R),R=-1),p=!0;var z=f;try{for(v(I),d=n(a);d!==null&&(!(d.expirationTime>I)||T&&!X());){var $=d.callback;if(typeof $=="function"){d.callback=null,f=d.priorityLevel;var ne=$(d.expirationTime<=I);I=t.unstable_now(),typeof ne=="function"?d.callback=ne:d===n(a)&&r(a),v(I)}else r(a);d=n(a)}if(d!==null)var ot=!0;else{var st=n(u);st!==null&&V(S,st.startTime-I),ot=!1}return ot}finally{d=null,f=z,p=!1}}var N=!1,O=null,R=-1,L=5,B=-1;function X(){return!(t.unstable_now()-B<L)}function me(){if(O!==null){var T=t.unstable_now();B=T;var I=!0;try{I=O(!0,T)}finally{I?te():(N=!1,O=null)}}else N=!1}var te;if(typeof g=="function")te=function(){g(me)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,Ye=Ve.port2;Ve.port1.onmessage=me,te=function(){Ye.postMessage(null)}}else te=function(){x(me,0)};function Re(T){O=T,N||(N=!0,te())}function V(T,I){R=x(function(){T(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,Re(M))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var z=f;f=I;try{return T()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=f;f=T;try{return I()}finally{f=z}},t.unstable_scheduleCallback=function(T,I,z){var $=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?$+z:$):z=$,T){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=z+ne,T={id:c++,callback:I,priorityLevel:T,startTime:z,expirationTime:ne,sortIndex:-1},z>$?(T.sortIndex=z,e(u,T),n(a)===null&&T===n(u)&&(y?(m(R),R=-1):y=!0,V(S,z-$))):(T.sortIndex=ne,e(a,T),h||p||(h=!0,Re(M))),T},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(T){var I=f;return function(){var z=f;f=I;try{return T.apply(this,arguments)}finally{f=z}}}})(Xp);Yp.exports=Xp;var a0=Yp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0=G,St=a0;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zp=new Set,so={};function Ir(t,e){fi(t,e),fi(t+"Capture",e)}function fi(t,e){for(so[t]=e,t=0;t<e.length;t++)Zp.add(e[t])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$a=Object.prototype.hasOwnProperty,c0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yd={},vd={};function d0(t){return $a.call(vd,t)?!0:$a.call(yd,t)?!1:c0.test(t)?vd[t]=!0:(yd[t]=!0,!1)}function f0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function p0(t,e,n,r){if(e===null||typeof e>"u"||f0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function it(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Be[t]=new it(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Be[e]=new it(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Be[t]=new it(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Be[t]=new it(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Be[t]=new it(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Be[t]=new it(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Be[t]=new it(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Be[t]=new it(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Be[t]=new it(t,5,!1,t.toLowerCase(),null,!1,!1)});var sc=/[\-:]([a-z])/g;function lc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sc,lc);Be[e]=new it(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sc,lc);Be[e]=new it(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sc,lc);Be[e]=new it(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Be[t]=new it(t,1,!1,t.toLowerCase(),null,!1,!1)});Be.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Be[t]=new it(t,1,!1,t.toLowerCase(),null,!0,!0)});function ac(t,e,n,r){var i=Be.hasOwnProperty(e)?Be[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(p0(e,n,i,r)&&(n=null),r||i===null?d0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wn=u0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ho=Symbol.for("react.element"),$r=Symbol.for("react.portal"),Hr=Symbol.for("react.fragment"),uc=Symbol.for("react.strict_mode"),Ha=Symbol.for("react.profiler"),eh=Symbol.for("react.provider"),th=Symbol.for("react.context"),cc=Symbol.for("react.forward_ref"),Wa=Symbol.for("react.suspense"),Ua=Symbol.for("react.suspense_list"),dc=Symbol.for("react.memo"),Nn=Symbol.for("react.lazy"),nh=Symbol.for("react.offscreen"),kd=Symbol.iterator;function Ai(t){return t===null||typeof t!="object"?null:(t=kd&&t[kd]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,ql;function Bi(t){if(ql===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ql=e&&e[1]||""}return`
`+ql+t}var Ql=!1;function Gl(t,e){if(!t||Ql)return"";Ql=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{Ql=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bi(t):""}function h0(t){switch(t.tag){case 5:return Bi(t.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 2:case 15:return t=Gl(t.type,!1),t;case 11:return t=Gl(t.type.render,!1),t;case 1:return t=Gl(t.type,!0),t;default:return""}}function Ka(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hr:return"Fragment";case $r:return"Portal";case Ha:return"Profiler";case uc:return"StrictMode";case Wa:return"Suspense";case Ua:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case th:return(t.displayName||"Context")+".Consumer";case eh:return(t._context.displayName||"Context")+".Provider";case cc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dc:return e=t.displayName||null,e!==null?e:Ka(t.type)||"Memo";case Nn:e=t._payload,t=t._init;try{return Ka(t(e))}catch{}}return null}function m0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ka(e);case 8:return e===uc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function g0(t){var e=rh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wo(t){t._valueTracker||(t._valueTracker=g0(t))}function ih(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ja(t,e){var n=e.checked;return he({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oh(t,e){e=e.checked,e!=null&&ac(t,"checked",e,!1)}function qa(t,e){oh(t,e);var n=Qn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qa(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qa(t,e.type,Qn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qa(t,e,n){(e!=="number"||Ps(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vi=Array.isArray;function ni(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ga(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return he({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Vi(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qn(n)}}function sh(t,e){var n=Qn(e.value),r=Qn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ya(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uo,ah=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uo=Uo||document.createElement("div"),Uo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function lo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y0=["Webkit","ms","Moz","O"];Object.keys(Ji).forEach(function(t){y0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ji[e]=Ji[t]})});function uh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ji.hasOwnProperty(t)&&Ji[t]?(""+e).trim():e+"px"}function ch(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var v0=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xa(t,e){if(e){if(v0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Za(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=null;function fc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tu=null,ri=null,ii=null;function Ed(t){if(t=Lo(t)){if(typeof tu!="function")throw Error(D(280));var e=t.stateNode;e&&(e=xl(e),tu(t.stateNode,t.type,e))}}function dh(t){ri?ii?ii.push(t):ii=[t]:ri=t}function fh(){if(ri){var t=ri,e=ii;if(ii=ri=null,Ed(t),e)for(t=0;t<e.length;t++)Ed(e[t])}}function ph(t,e){return t(e)}function hh(){}var Yl=!1;function mh(t,e,n){if(Yl)return t(e,n);Yl=!0;try{return ph(t,e,n)}finally{Yl=!1,(ri!==null||ii!==null)&&(hh(),fh())}}function ao(t,e){var n=t.stateNode;if(n===null)return null;var r=xl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var nu=!1;if(vn)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){nu=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{nu=!1}function k0(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var qi=!1,As=null,Ds=!1,ru=null,x0={onError:function(t){qi=!0,As=t}};function S0(t,e,n,r,i,o,s,l,a){qi=!1,As=null,k0.apply(x0,arguments)}function w0(t,e,n,r,i,o,s,l,a){if(S0.apply(this,arguments),qi){if(qi){var u=As;qi=!1,As=null}else throw Error(D(198));Ds||(Ds=!0,ru=u)}}function Rr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Md(t){if(Rr(t)!==t)throw Error(D(188))}function C0(t){var e=t.alternate;if(!e){if(e=Rr(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Md(i),t;if(o===r)return Md(i),e;o=o.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function yh(t){return t=C0(t),t!==null?vh(t):null}function vh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vh(t);if(e!==null)return e;t=t.sibling}return null}var kh=St.unstable_scheduleCallback,Nd=St.unstable_cancelCallback,E0=St.unstable_shouldYield,M0=St.unstable_requestPaint,ke=St.unstable_now,N0=St.unstable_getCurrentPriorityLevel,pc=St.unstable_ImmediatePriority,xh=St.unstable_UserBlockingPriority,Is=St.unstable_NormalPriority,T0=St.unstable_LowPriority,Sh=St.unstable_IdlePriority,gl=null,on=null;function b0(t){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(gl,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:A0,O0=Math.log,P0=Math.LN2;function A0(t){return t>>>=0,t===0?32:31-(O0(t)/P0|0)|0}var Ko=64,Jo=4194304;function $i(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=$i(l):(o&=s,o!==0&&(r=$i(o)))}else s=n&~i,s!==0?r=$i(s):o!==0&&(r=$i(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ut(e),i=1<<n,r|=t[n],e&=~i;return r}function D0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ut(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=D0(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function iu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wh(){var t=Ko;return Ko<<=1,!(Ko&4194240)&&(Ko=64),t}function Xl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Io(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ut(e),t[e]=n}function R0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ut(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function hc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ut(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var oe=0;function Ch(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Eh,mc,Mh,Nh,Th,ou=!1,qo=[],_n=null,Fn=null,Bn=null,uo=new Map,co=new Map,Pn=[],L0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Td(t,e){switch(t){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":uo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(e.pointerId)}}function Ii(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Lo(e),e!==null&&mc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function j0(t,e,n,r,i){switch(e){case"focusin":return _n=Ii(_n,t,e,n,r,i),!0;case"dragenter":return Fn=Ii(Fn,t,e,n,r,i),!0;case"mouseover":return Bn=Ii(Bn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return uo.set(o,Ii(uo.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,co.set(o,Ii(co.get(o)||null,t,e,n,r,i)),!0}return!1}function bh(t){var e=dr(t.target);if(e!==null){var n=Rr(e);if(n!==null){if(e=n.tag,e===13){if(e=gh(n),e!==null){t.blockedOn=e,Th(t.priority,function(){Mh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=su(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);eu=r,n.target.dispatchEvent(r),eu=null}else return e=Lo(n),e!==null&&mc(e),t.blockedOn=n,!1;e.shift()}return!0}function bd(t,e,n){gs(t)&&n.delete(e)}function z0(){ou=!1,_n!==null&&gs(_n)&&(_n=null),Fn!==null&&gs(Fn)&&(Fn=null),Bn!==null&&gs(Bn)&&(Bn=null),uo.forEach(bd),co.forEach(bd)}function Ri(t,e){t.blockedOn===e&&(t.blockedOn=null,ou||(ou=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,z0)))}function fo(t){function e(i){return Ri(i,t)}if(0<qo.length){Ri(qo[0],t);for(var n=1;n<qo.length;n++){var r=qo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_n!==null&&Ri(_n,t),Fn!==null&&Ri(Fn,t),Bn!==null&&Ri(Bn,t),uo.forEach(e),co.forEach(e),n=0;n<Pn.length;n++)r=Pn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pn.length&&(n=Pn[0],n.blockedOn===null);)bh(n),n.blockedOn===null&&Pn.shift()}var oi=wn.ReactCurrentBatchConfig,Ls=!0;function _0(t,e,n,r){var i=oe,o=oi.transition;oi.transition=null;try{oe=1,gc(t,e,n,r)}finally{oe=i,oi.transition=o}}function F0(t,e,n,r){var i=oe,o=oi.transition;oi.transition=null;try{oe=4,gc(t,e,n,r)}finally{oe=i,oi.transition=o}}function gc(t,e,n,r){if(Ls){var i=su(t,e,n,r);if(i===null)aa(t,e,r,js,n),Td(t,r);else if(j0(i,t,e,n,r))r.stopPropagation();else if(Td(t,r),e&4&&-1<L0.indexOf(t)){for(;i!==null;){var o=Lo(i);if(o!==null&&Eh(o),o=su(t,e,n,r),o===null&&aa(t,e,r,js,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else aa(t,e,r,null,n)}}var js=null;function su(t,e,n,r){if(js=null,t=fc(r),t=dr(t),t!==null)if(e=Rr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return js=t,null}function Oh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N0()){case pc:return 1;case xh:return 4;case Is:case T0:return 16;case Sh:return 536870912;default:return 16}default:return 16}}var In=null,yc=null,ys=null;function Ph(){if(ys)return ys;var t,e=yc,n=e.length,r,i="value"in In?In.value:In.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ys=i.slice(t,1<r?1-r:void 0)}function vs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qo(){return!0}function Od(){return!1}function Ct(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Qo:Od,this.isPropagationStopped=Od,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),e}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=Ct(Ti),Ro=he({},Ti,{view:0,detail:0}),B0=Ct(Ro),Zl,ea,Li,yl=he({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(Zl=t.screenX-Li.screenX,ea=t.screenY-Li.screenY):ea=Zl=0,Li=t),Zl)},movementY:function(t){return"movementY"in t?t.movementY:ea}}),Pd=Ct(yl),V0=he({},yl,{dataTransfer:0}),$0=Ct(V0),H0=he({},Ro,{relatedTarget:0}),ta=Ct(H0),W0=he({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),U0=Ct(W0),K0=he({},Ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),J0=Ct(K0),q0=he({},Ti,{data:0}),Ad=Ct(q0),Q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Y0[t])?!!e[t]:!1}function kc(){return X0}var Z0=he({},Ro,{key:function(t){if(t.key){var e=Q0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kc,charCode:function(t){return t.type==="keypress"?vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),e1=Ct(Z0),t1=he({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dd=Ct(t1),n1=he({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kc}),r1=Ct(n1),i1=he({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),o1=Ct(i1),s1=he({},yl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),l1=Ct(s1),a1=[9,13,27,32],xc=vn&&"CompositionEvent"in window,Qi=null;vn&&"documentMode"in document&&(Qi=document.documentMode);var u1=vn&&"TextEvent"in window&&!Qi,Ah=vn&&(!xc||Qi&&8<Qi&&11>=Qi),Id=" ",Rd=!1;function Dh(t,e){switch(t){case"keyup":return a1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ih(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wr=!1;function c1(t,e){switch(t){case"compositionend":return Ih(e);case"keypress":return e.which!==32?null:(Rd=!0,Id);case"textInput":return t=e.data,t===Id&&Rd?null:t;default:return null}}function d1(t,e){if(Wr)return t==="compositionend"||!xc&&Dh(t,e)?(t=Ph(),ys=yc=In=null,Wr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ah&&e.locale!=="ko"?null:e.data;default:return null}}var f1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!f1[t.type]:e==="textarea"}function Rh(t,e,n,r){dh(r),e=zs(e,"onChange"),0<e.length&&(n=new vc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gi=null,po=null;function p1(t){Uh(t,0)}function vl(t){var e=Jr(t);if(ih(e))return t}function h1(t,e){if(t==="change")return e}var Lh=!1;if(vn){var na;if(vn){var ra="oninput"in document;if(!ra){var jd=document.createElement("div");jd.setAttribute("oninput","return;"),ra=typeof jd.oninput=="function"}na=ra}else na=!1;Lh=na&&(!document.documentMode||9<document.documentMode)}function zd(){Gi&&(Gi.detachEvent("onpropertychange",jh),po=Gi=null)}function jh(t){if(t.propertyName==="value"&&vl(po)){var e=[];Rh(e,po,t,fc(t)),mh(p1,e)}}function m1(t,e,n){t==="focusin"?(zd(),Gi=e,po=n,Gi.attachEvent("onpropertychange",jh)):t==="focusout"&&zd()}function g1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vl(po)}function y1(t,e){if(t==="click")return vl(e)}function v1(t,e){if(t==="input"||t==="change")return vl(e)}function k1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jt=typeof Object.is=="function"?Object.is:k1;function ho(t,e){if(Jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$a.call(e,i)||!Jt(t[i],e[i]))return!1}return!0}function _d(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fd(t,e){var n=_d(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_d(n)}}function zh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _h(){for(var t=window,e=Ps();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ps(t.document)}return e}function Sc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function x1(t){var e=_h(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zh(n.ownerDocument.documentElement,n)){if(r!==null&&Sc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Fd(n,o);var s=Fd(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var S1=vn&&"documentMode"in document&&11>=document.documentMode,Ur=null,lu=null,Yi=null,au=!1;function Bd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;au||Ur==null||Ur!==Ps(r)||(r=Ur,"selectionStart"in r&&Sc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yi&&ho(Yi,r)||(Yi=r,r=zs(lu,"onSelect"),0<r.length&&(e=new vc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ur)))}function Go(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kr={animationend:Go("Animation","AnimationEnd"),animationiteration:Go("Animation","AnimationIteration"),animationstart:Go("Animation","AnimationStart"),transitionend:Go("Transition","TransitionEnd")},ia={},Fh={};vn&&(Fh=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function kl(t){if(ia[t])return ia[t];if(!Kr[t])return t;var e=Kr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Fh)return ia[t]=e[n];return t}var Bh=kl("animationend"),Vh=kl("animationiteration"),$h=kl("animationstart"),Hh=kl("transitionend"),Wh=new Map,Vd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(t,e){Wh.set(t,e),Ir(e,[t])}for(var oa=0;oa<Vd.length;oa++){var sa=Vd[oa],w1=sa.toLowerCase(),C1=sa[0].toUpperCase()+sa.slice(1);Xn(w1,"on"+C1)}Xn(Bh,"onAnimationEnd");Xn(Vh,"onAnimationIteration");Xn($h,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(Hh,"onTransitionEnd");fi("onMouseEnter",["mouseout","mouseover"]);fi("onMouseLeave",["mouseout","mouseover"]);fi("onPointerEnter",["pointerout","pointerover"]);fi("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hi));function $d(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,w0(r,e,void 0,t),t.currentTarget=null}function Uh(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;$d(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;$d(i,l,u),o=a}}}if(Ds)throw t=ru,Ds=!1,ru=null,t}function ue(t,e){var n=e[pu];n===void 0&&(n=e[pu]=new Set);var r=t+"__bubble";n.has(r)||(Kh(e,t,2,!1),n.add(r))}function la(t,e,n){var r=0;e&&(r|=4),Kh(n,t,r,e)}var Yo="_reactListening"+Math.random().toString(36).slice(2);function mo(t){if(!t[Yo]){t[Yo]=!0,Zp.forEach(function(n){n!=="selectionchange"&&(E1.has(n)||la(n,!1,t),la(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yo]||(e[Yo]=!0,la("selectionchange",!1,e))}}function Kh(t,e,n,r){switch(Oh(e)){case 1:var i=_0;break;case 4:i=F0;break;default:i=gc}n=i.bind(null,e,n,t),i=void 0,!nu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function aa(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=dr(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}mh(function(){var u=o,c=fc(n),d=[];e:{var f=Wh.get(t);if(f!==void 0){var p=vc,h=t;switch(t){case"keypress":if(vs(n)===0)break e;case"keydown":case"keyup":p=e1;break;case"focusin":h="focus",p=ta;break;case"focusout":h="blur",p=ta;break;case"beforeblur":case"afterblur":p=ta;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=$0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=r1;break;case Bh:case Vh:case $h:p=U0;break;case Hh:p=o1;break;case"scroll":p=B0;break;case"wheel":p=l1;break;case"copy":case"cut":case"paste":p=J0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Dd}var y=(e&4)!==0,x=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var g=u,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,m!==null&&(S=ao(g,m),S!=null&&y.push(go(g,S,v)))),x)break;g=g.return}0<y.length&&(f=new p(f,h,null,n,c),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==eu&&(h=n.relatedTarget||n.fromElement)&&(dr(h)||h[kn]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=u,h=h?dr(h):null,h!==null&&(x=Rr(h),h!==x||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(y=Pd,S="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=Dd,S="onPointerLeave",m="onPointerEnter",g="pointer"),x=p==null?f:Jr(p),v=h==null?f:Jr(h),f=new y(S,g+"leave",p,n,c),f.target=x,f.relatedTarget=v,S=null,dr(c)===u&&(y=new y(m,g+"enter",h,n,c),y.target=v,y.relatedTarget=x,S=y),x=S,p&&h)t:{for(y=p,m=h,g=0,v=y;v;v=zr(v))g++;for(v=0,S=m;S;S=zr(S))v++;for(;0<g-v;)y=zr(y),g--;for(;0<v-g;)m=zr(m),v--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=zr(y),m=zr(m)}y=null}else y=null;p!==null&&Hd(d,f,p,y,!1),h!==null&&x!==null&&Hd(d,x,h,y,!0)}}e:{if(f=u?Jr(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var M=h1;else if(Ld(f))if(Lh)M=v1;else{M=g1;var N=m1}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=y1);if(M&&(M=M(t,u))){Rh(d,M,n,c);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Qa(f,"number",f.value)}switch(N=u?Jr(u):window,t){case"focusin":(Ld(N)||N.contentEditable==="true")&&(Ur=N,lu=u,Yi=null);break;case"focusout":Yi=lu=Ur=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,Bd(d,n,c);break;case"selectionchange":if(S1)break;case"keydown":case"keyup":Bd(d,n,c)}var O;if(xc)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Wr?Dh(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Ah&&n.locale!=="ko"&&(Wr||R!=="onCompositionStart"?R==="onCompositionEnd"&&Wr&&(O=Ph()):(In=c,yc="value"in In?In.value:In.textContent,Wr=!0)),N=zs(u,R),0<N.length&&(R=new Ad(R,t,null,n,c),d.push({event:R,listeners:N}),O?R.data=O:(O=Ih(n),O!==null&&(R.data=O)))),(O=u1?c1(t,n):d1(t,n))&&(u=zs(u,"onBeforeInput"),0<u.length&&(c=new Ad("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=O))}Uh(d,e)})}function go(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zs(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ao(t,n),o!=null&&r.unshift(go(t,o,i)),o=ao(t,e),o!=null&&r.push(go(t,o,i))),t=t.return}return r}function zr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hd(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=ao(n,o),a!=null&&s.unshift(go(n,a,l))):i||(a=ao(n,o),a!=null&&s.push(go(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var M1=/\r\n?/g,N1=/\u0000|\uFFFD/g;function Wd(t){return(typeof t=="string"?t:""+t).replace(M1,`
`).replace(N1,"")}function Xo(t,e,n){if(e=Wd(e),Wd(t)!==e&&n)throw Error(D(425))}function _s(){}var uu=null,cu=null;function du(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fu=typeof setTimeout=="function"?setTimeout:void 0,T1=typeof clearTimeout=="function"?clearTimeout:void 0,Ud=typeof Promise=="function"?Promise:void 0,b1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ud<"u"?function(t){return Ud.resolve(null).then(t).catch(O1)}:fu;function O1(t){setTimeout(function(){throw t})}function ua(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fo(e)}function Vn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bi=Math.random().toString(36).slice(2),tn="__reactFiber$"+bi,yo="__reactProps$"+bi,kn="__reactContainer$"+bi,pu="__reactEvents$"+bi,P1="__reactListeners$"+bi,A1="__reactHandles$"+bi;function dr(t){var e=t[tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kn]||n[tn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kd(t);t!==null;){if(n=t[tn])return n;t=Kd(t)}return e}t=n,n=t.parentNode}return null}function Lo(t){return t=t[tn]||t[kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function xl(t){return t[yo]||null}var hu=[],qr=-1;function Zn(t){return{current:t}}function ce(t){0>qr||(t.current=hu[qr],hu[qr]=null,qr--)}function ae(t,e){qr++,hu[qr]=t.current,t.current=e}var Gn={},qe=Zn(Gn),ct=Zn(!1),Mr=Gn;function pi(t,e){var n=t.type.contextTypes;if(!n)return Gn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dt(t){return t=t.childContextTypes,t!=null}function Fs(){ce(ct),ce(qe)}function Jd(t,e,n){if(qe.current!==Gn)throw Error(D(168));ae(qe,e),ae(ct,n)}function Jh(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(D(108,m0(t)||"Unknown",i));return he({},n,r)}function Bs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gn,Mr=qe.current,ae(qe,t),ae(ct,ct.current),!0}function qd(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=Jh(t,e,Mr),r.__reactInternalMemoizedMergedChildContext=t,ce(ct),ce(qe),ae(qe,t)):ce(ct),ae(ct,n)}var pn=null,Sl=!1,ca=!1;function qh(t){pn===null?pn=[t]:pn.push(t)}function D1(t){Sl=!0,qh(t)}function er(){if(!ca&&pn!==null){ca=!0;var t=0,e=oe;try{var n=pn;for(oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pn=null,Sl=!1}catch(i){throw pn!==null&&(pn=pn.slice(t+1)),kh(pc,er),i}finally{oe=e,ca=!1}}return null}var Qr=[],Gr=0,Vs=null,$s=0,Tt=[],bt=0,Nr=null,hn=1,mn="";function lr(t,e){Qr[Gr++]=$s,Qr[Gr++]=Vs,Vs=t,$s=e}function Qh(t,e,n){Tt[bt++]=hn,Tt[bt++]=mn,Tt[bt++]=Nr,Nr=t;var r=hn;t=mn;var i=32-Ut(r)-1;r&=~(1<<i),n+=1;var o=32-Ut(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,hn=1<<32-Ut(e)+i|n<<i|r,mn=o+t}else hn=1<<o|n<<i|r,mn=t}function wc(t){t.return!==null&&(lr(t,1),Qh(t,1,0))}function Cc(t){for(;t===Vs;)Vs=Qr[--Gr],Qr[Gr]=null,$s=Qr[--Gr],Qr[Gr]=null;for(;t===Nr;)Nr=Tt[--bt],Tt[bt]=null,mn=Tt[--bt],Tt[bt]=null,hn=Tt[--bt],Tt[bt]=null}var xt=null,kt=null,de=!1,$t=null;function Gh(t,e){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xt=t,kt=Vn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xt=t,kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Nr!==null?{id:hn,overflow:mn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xt=t,kt=null,!0):!1;default:return!1}}function mu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gu(t){if(de){var e=kt;if(e){var n=e;if(!Qd(t,e)){if(mu(t))throw Error(D(418));e=Vn(n.nextSibling);var r=xt;e&&Qd(t,e)?Gh(r,n):(t.flags=t.flags&-4097|2,de=!1,xt=t)}}else{if(mu(t))throw Error(D(418));t.flags=t.flags&-4097|2,de=!1,xt=t}}}function Gd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xt=t}function Zo(t){if(t!==xt)return!1;if(!de)return Gd(t),de=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!du(t.type,t.memoizedProps)),e&&(e=kt)){if(mu(t))throw Yh(),Error(D(418));for(;e;)Gh(t,e),e=Vn(e.nextSibling)}if(Gd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kt=Vn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kt=null}}else kt=xt?Vn(t.stateNode.nextSibling):null;return!0}function Yh(){for(var t=kt;t;)t=Vn(t.nextSibling)}function hi(){kt=xt=null,de=!1}function Ec(t){$t===null?$t=[t]:$t.push(t)}var I1=wn.ReactCurrentBatchConfig;function ji(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function es(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yd(t){var e=t._init;return e(t._payload)}function Xh(t){function e(m,g){if(t){var v=m.deletions;v===null?(m.deletions=[g],m.flags|=16):v.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=Un(m,g),m.index=0,m.sibling=null,m}function o(m,g,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<g?(m.flags|=2,g):v):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,g,v,S){return g===null||g.tag!==6?(g=ya(v,m.mode,S),g.return=m,g):(g=i(g,v),g.return=m,g)}function a(m,g,v,S){var M=v.type;return M===Hr?c(m,g,v.props.children,S,v.key):g!==null&&(g.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Nn&&Yd(M)===g.type)?(S=i(g,v.props),S.ref=ji(m,g,v),S.return=m,S):(S=Ms(v.type,v.key,v.props,null,m.mode,S),S.ref=ji(m,g,v),S.return=m,S)}function u(m,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=va(v,m.mode,S),g.return=m,g):(g=i(g,v.children||[]),g.return=m,g)}function c(m,g,v,S,M){return g===null||g.tag!==7?(g=vr(v,m.mode,S,M),g.return=m,g):(g=i(g,v),g.return=m,g)}function d(m,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ya(""+g,m.mode,v),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ho:return v=Ms(g.type,g.key,g.props,null,m.mode,v),v.ref=ji(m,null,g),v.return=m,v;case $r:return g=va(g,m.mode,v),g.return=m,g;case Nn:var S=g._init;return d(m,S(g._payload),v)}if(Vi(g)||Ai(g))return g=vr(g,m.mode,v,null),g.return=m,g;es(m,g)}return null}function f(m,g,v,S){var M=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return M!==null?null:l(m,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ho:return v.key===M?a(m,g,v,S):null;case $r:return v.key===M?u(m,g,v,S):null;case Nn:return M=v._init,f(m,g,M(v._payload),S)}if(Vi(v)||Ai(v))return M!==null?null:c(m,g,v,S,null);es(m,v)}return null}function p(m,g,v,S,M){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(v)||null,l(g,m,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ho:return m=m.get(S.key===null?v:S.key)||null,a(g,m,S,M);case $r:return m=m.get(S.key===null?v:S.key)||null,u(g,m,S,M);case Nn:var N=S._init;return p(m,g,v,N(S._payload),M)}if(Vi(S)||Ai(S))return m=m.get(v)||null,c(g,m,S,M,null);es(g,S)}return null}function h(m,g,v,S){for(var M=null,N=null,O=g,R=g=0,L=null;O!==null&&R<v.length;R++){O.index>R?(L=O,O=null):L=O.sibling;var B=f(m,O,v[R],S);if(B===null){O===null&&(O=L);break}t&&O&&B.alternate===null&&e(m,O),g=o(B,g,R),N===null?M=B:N.sibling=B,N=B,O=L}if(R===v.length)return n(m,O),de&&lr(m,R),M;if(O===null){for(;R<v.length;R++)O=d(m,v[R],S),O!==null&&(g=o(O,g,R),N===null?M=O:N.sibling=O,N=O);return de&&lr(m,R),M}for(O=r(m,O);R<v.length;R++)L=p(O,m,R,v[R],S),L!==null&&(t&&L.alternate!==null&&O.delete(L.key===null?R:L.key),g=o(L,g,R),N===null?M=L:N.sibling=L,N=L);return t&&O.forEach(function(X){return e(m,X)}),de&&lr(m,R),M}function y(m,g,v,S){var M=Ai(v);if(typeof M!="function")throw Error(D(150));if(v=M.call(v),v==null)throw Error(D(151));for(var N=M=null,O=g,R=g=0,L=null,B=v.next();O!==null&&!B.done;R++,B=v.next()){O.index>R?(L=O,O=null):L=O.sibling;var X=f(m,O,B.value,S);if(X===null){O===null&&(O=L);break}t&&O&&X.alternate===null&&e(m,O),g=o(X,g,R),N===null?M=X:N.sibling=X,N=X,O=L}if(B.done)return n(m,O),de&&lr(m,R),M;if(O===null){for(;!B.done;R++,B=v.next())B=d(m,B.value,S),B!==null&&(g=o(B,g,R),N===null?M=B:N.sibling=B,N=B);return de&&lr(m,R),M}for(O=r(m,O);!B.done;R++,B=v.next())B=p(O,m,R,B.value,S),B!==null&&(t&&B.alternate!==null&&O.delete(B.key===null?R:B.key),g=o(B,g,R),N===null?M=B:N.sibling=B,N=B);return t&&O.forEach(function(me){return e(m,me)}),de&&lr(m,R),M}function x(m,g,v,S){if(typeof v=="object"&&v!==null&&v.type===Hr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ho:e:{for(var M=v.key,N=g;N!==null;){if(N.key===M){if(M=v.type,M===Hr){if(N.tag===7){n(m,N.sibling),g=i(N,v.props.children),g.return=m,m=g;break e}}else if(N.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Nn&&Yd(M)===N.type){n(m,N.sibling),g=i(N,v.props),g.ref=ji(m,N,v),g.return=m,m=g;break e}n(m,N);break}else e(m,N);N=N.sibling}v.type===Hr?(g=vr(v.props.children,m.mode,S,v.key),g.return=m,m=g):(S=Ms(v.type,v.key,v.props,null,m.mode,S),S.ref=ji(m,g,v),S.return=m,m=S)}return s(m);case $r:e:{for(N=v.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(m,g.sibling),g=i(g,v.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=va(v,m.mode,S),g.return=m,m=g}return s(m);case Nn:return N=v._init,x(m,g,N(v._payload),S)}if(Vi(v))return h(m,g,v,S);if(Ai(v))return y(m,g,v,S);es(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,v),g.return=m,m=g):(n(m,g),g=ya(v,m.mode,S),g.return=m,m=g),s(m)):n(m,g)}return x}var mi=Xh(!0),Zh=Xh(!1),Hs=Zn(null),Ws=null,Yr=null,Mc=null;function Nc(){Mc=Yr=Ws=null}function Tc(t){var e=Hs.current;ce(Hs),t._currentValue=e}function yu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function si(t,e){Ws=t,Mc=Yr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ut=!0),t.firstContext=null)}function Rt(t){var e=t._currentValue;if(Mc!==t)if(t={context:t,memoizedValue:e,next:null},Yr===null){if(Ws===null)throw Error(D(308));Yr=t,Ws.dependencies={lanes:0,firstContext:t}}else Yr=Yr.next=t;return e}var fr=null;function bc(t){fr===null?fr=[t]:fr.push(t)}function em(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,bc(e)):(n.next=i.next,i.next=n),e.interleaved=n,xn(t,r)}function xn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tn=!1;function Oc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $n(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xn(t,n)}return i=r.interleaved,i===null?(e.next=e,bc(r)):(e.next=i.next,i.next=e),r.interleaved=e,xn(t,n)}function ks(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hc(t,n)}}function Xd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Us(t,e,n,r){var i=t.updateQueue;Tn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var d=i.baseState;s=0,c=u=a=null,l=o;do{var f=l.lane,p=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=t,y=l;switch(f=e,p=n,y.tag){case 1:if(h=y.payload,typeof h=="function"){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,f=typeof h=="function"?h.call(p,d,f):h,f==null)break e;d=he({},d,f);break e;case 2:Tn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,a=d):c=c.next=p,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);br|=s,t.lanes=s,t.memoizedState=d}}function Zd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var jo={},sn=Zn(jo),vo=Zn(jo),ko=Zn(jo);function pr(t){if(t===jo)throw Error(D(174));return t}function Pc(t,e){switch(ae(ko,e),ae(vo,t),ae(sn,jo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ya(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ya(e,t)}ce(sn),ae(sn,e)}function gi(){ce(sn),ce(vo),ce(ko)}function nm(t){pr(ko.current);var e=pr(sn.current),n=Ya(e,t.type);e!==n&&(ae(vo,t),ae(sn,n))}function Ac(t){vo.current===t&&(ce(sn),ce(vo))}var fe=Zn(0);function Ks(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var da=[];function Dc(){for(var t=0;t<da.length;t++)da[t]._workInProgressVersionPrimary=null;da.length=0}var xs=wn.ReactCurrentDispatcher,fa=wn.ReactCurrentBatchConfig,Tr=0,pe=null,we=null,be=null,Js=!1,Xi=!1,xo=0,R1=0;function $e(){throw Error(D(321))}function Ic(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jt(t[n],e[n]))return!1;return!0}function Rc(t,e,n,r,i,o){if(Tr=o,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xs.current=t===null||t.memoizedState===null?_1:F1,t=n(r,i),Xi){o=0;do{if(Xi=!1,xo=0,25<=o)throw Error(D(301));o+=1,be=we=null,e.updateQueue=null,xs.current=B1,t=n(r,i)}while(Xi)}if(xs.current=qs,e=we!==null&&we.next!==null,Tr=0,be=we=pe=null,Js=!1,e)throw Error(D(300));return t}function Lc(){var t=xo!==0;return xo=0,t}function Zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?pe.memoizedState=be=t:be=be.next=t,be}function Lt(){if(we===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=be===null?pe.memoizedState:be.next;if(e!==null)be=e,we=t;else{if(t===null)throw Error(D(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},be===null?pe.memoizedState=be=t:be=be.next=t}return be}function So(t,e){return typeof e=="function"?e(t):e}function pa(t){var e=Lt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=we,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((Tr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,pe.lanes|=c,br|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,Jt(r,e.memoizedState)||(ut=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,pe.lanes|=o,br|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ha(t){var e=Lt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Jt(o,e.memoizedState)||(ut=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function rm(){}function im(t,e){var n=pe,r=Lt(),i=e(),o=!Jt(r.memoizedState,i);if(o&&(r.memoizedState=i,ut=!0),r=r.queue,jc(lm.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,wo(9,sm.bind(null,n,r,i,e),void 0,null),Pe===null)throw Error(D(349));Tr&30||om(n,e,i)}return i}function om(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sm(t,e,n,r){e.value=n,e.getSnapshot=r,am(e)&&um(t)}function lm(t,e,n){return n(function(){am(e)&&um(t)})}function am(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jt(t,n)}catch{return!0}}function um(t){var e=xn(t,1);e!==null&&Kt(e,t,1,-1)}function ef(t){var e=Zt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:t},e.queue=t,t=t.dispatch=z1.bind(null,pe,t),[e.memoizedState,t]}function wo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cm(){return Lt().memoizedState}function Ss(t,e,n,r){var i=Zt();pe.flags|=t,i.memoizedState=wo(1|e,n,void 0,r===void 0?null:r)}function wl(t,e,n,r){var i=Lt();r=r===void 0?null:r;var o=void 0;if(we!==null){var s=we.memoizedState;if(o=s.destroy,r!==null&&Ic(r,s.deps)){i.memoizedState=wo(e,n,o,r);return}}pe.flags|=t,i.memoizedState=wo(1|e,n,o,r)}function tf(t,e){return Ss(8390656,8,t,e)}function jc(t,e){return wl(2048,8,t,e)}function dm(t,e){return wl(4,2,t,e)}function fm(t,e){return wl(4,4,t,e)}function pm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hm(t,e,n){return n=n!=null?n.concat([t]):null,wl(4,4,pm.bind(null,e,t),n)}function zc(){}function mm(t,e){var n=Lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ic(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gm(t,e){var n=Lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ic(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ym(t,e,n){return Tr&21?(Jt(n,e)||(n=wh(),pe.lanes|=n,br|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ut=!0),t.memoizedState=n)}function L1(t,e){var n=oe;oe=n!==0&&4>n?n:4,t(!0);var r=fa.transition;fa.transition={};try{t(!1),e()}finally{oe=n,fa.transition=r}}function vm(){return Lt().memoizedState}function j1(t,e,n){var r=Wn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},km(t))xm(e,n);else if(n=em(t,e,n,r),n!==null){var i=Ze();Kt(n,t,r,i),Sm(n,e,r)}}function z1(t,e,n){var r=Wn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(km(t))xm(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Jt(l,s)){var a=e.interleaved;a===null?(i.next=i,bc(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=em(t,e,i,r),n!==null&&(i=Ze(),Kt(n,t,r,i),Sm(n,e,r))}}function km(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function xm(t,e){Xi=Js=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Sm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hc(t,n)}}var qs={readContext:Rt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},_1={readContext:Rt,useCallback:function(t,e){return Zt().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:tf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ss(4194308,4,pm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ss(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ss(4,2,t,e)},useMemo:function(t,e){var n=Zt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=j1.bind(null,pe,t),[r.memoizedState,t]},useRef:function(t){var e=Zt();return t={current:t},e.memoizedState=t},useState:ef,useDebugValue:zc,useDeferredValue:function(t){return Zt().memoizedState=t},useTransition:function(){var t=ef(!1),e=t[0];return t=L1.bind(null,t[1]),Zt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pe,i=Zt();if(de){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),Pe===null)throw Error(D(349));Tr&30||om(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,tf(lm.bind(null,r,o,t),[t]),r.flags|=2048,wo(9,sm.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Zt(),e=Pe.identifierPrefix;if(de){var n=mn,r=hn;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=R1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},F1={readContext:Rt,useCallback:mm,useContext:Rt,useEffect:jc,useImperativeHandle:hm,useInsertionEffect:dm,useLayoutEffect:fm,useMemo:gm,useReducer:pa,useRef:cm,useState:function(){return pa(So)},useDebugValue:zc,useDeferredValue:function(t){var e=Lt();return ym(e,we.memoizedState,t)},useTransition:function(){var t=pa(So)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:rm,useSyncExternalStore:im,useId:vm,unstable_isNewReconciler:!1},B1={readContext:Rt,useCallback:mm,useContext:Rt,useEffect:jc,useImperativeHandle:hm,useInsertionEffect:dm,useLayoutEffect:fm,useMemo:gm,useReducer:ha,useRef:cm,useState:function(){return ha(So)},useDebugValue:zc,useDeferredValue:function(t){var e=Lt();return we===null?e.memoizedState=t:ym(e,we.memoizedState,t)},useTransition:function(){var t=ha(So)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:rm,useSyncExternalStore:im,useId:vm,unstable_isNewReconciler:!1};function Bt(t,e){if(t&&t.defaultProps){e=he({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:he({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cl={isMounted:function(t){return(t=t._reactInternals)?Rr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ze(),i=Wn(t),o=gn(r,i);o.payload=e,n!=null&&(o.callback=n),e=$n(t,o,i),e!==null&&(Kt(e,t,i,r),ks(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ze(),i=Wn(t),o=gn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=$n(t,o,i),e!==null&&(Kt(e,t,i,r),ks(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ze(),r=Wn(t),i=gn(n,r);i.tag=2,e!=null&&(i.callback=e),e=$n(t,i,r),e!==null&&(Kt(e,t,r,n),ks(e,t,r))}};function nf(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ho(n,r)||!ho(i,o):!0}function wm(t,e,n){var r=!1,i=Gn,o=e.contextType;return typeof o=="object"&&o!==null?o=Rt(o):(i=dt(e)?Mr:qe.current,r=e.contextTypes,o=(r=r!=null)?pi(t,i):Gn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function rf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cl.enqueueReplaceState(e,e.state,null)}function ku(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Oc(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Rt(o):(o=dt(e)?Mr:qe.current,i.context=pi(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(vu(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cl.enqueueReplaceState(i,i.state,null),Us(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yi(t,e){try{var n="",r=e;do n+=h0(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function ma(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var V1=typeof WeakMap=="function"?WeakMap:Map;function Cm(t,e,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gs||(Gs=!0,Pu=r),xu(t,e)},n}function Em(t,e,n){n=gn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xu(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){xu(t,e),typeof r!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function of(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new V1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tv.bind(null,t,e,n),e.then(t,t))}function sf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gn(-1,1),e.tag=2,$n(n,e,1))),n.lanes|=1),t)}var $1=wn.ReactCurrentOwner,ut=!1;function Xe(t,e,n,r){e.child=t===null?Zh(e,null,n,r):mi(e,t.child,n,r)}function af(t,e,n,r,i){n=n.render;var o=e.ref;return si(e,i),r=Rc(t,e,n,r,o,i),n=Lc(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sn(t,e,i)):(de&&n&&wc(e),e.flags|=1,Xe(t,e,r,i),e.child)}function uf(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Uc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Mm(t,e,o,r,i)):(t=Ms(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ho,n(s,r)&&t.ref===e.ref)return Sn(t,e,i)}return e.flags|=1,t=Un(o,r),t.ref=e.ref,t.return=e,e.child=t}function Mm(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ho(o,r)&&t.ref===e.ref)if(ut=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(ut=!0);else return e.lanes=t.lanes,Sn(t,e,i)}return Su(t,e,n,r,i)}function Nm(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Zr,yt),yt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae(Zr,yt),yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ae(Zr,yt),yt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ae(Zr,yt),yt|=r;return Xe(t,e,i,n),e.child}function Tm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Su(t,e,n,r,i){var o=dt(n)?Mr:qe.current;return o=pi(e,o),si(e,i),n=Rc(t,e,n,r,o,i),r=Lc(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sn(t,e,i)):(de&&r&&wc(e),e.flags|=1,Xe(t,e,n,i),e.child)}function cf(t,e,n,r,i){if(dt(n)){var o=!0;Bs(e)}else o=!1;if(si(e,i),e.stateNode===null)ws(t,e),wm(e,n,r),ku(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rt(u):(u=dt(n)?Mr:qe.current,u=pi(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&rf(e,s,r,u),Tn=!1;var f=e.memoizedState;s.state=f,Us(e,r,s,i),a=e.memoizedState,l!==r||f!==a||ct.current||Tn?(typeof c=="function"&&(vu(e,n,c,r),a=e.memoizedState),(l=Tn||nf(e,n,l,r,f,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,tm(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Bt(e.type,l),s.props=u,d=e.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Rt(a):(a=dt(n)?Mr:qe.current,a=pi(e,a));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&rf(e,s,r,a),Tn=!1,f=e.memoizedState,s.state=f,Us(e,r,s,i);var h=e.memoizedState;l!==d||f!==h||ct.current||Tn?(typeof p=="function"&&(vu(e,n,p,r),h=e.memoizedState),(u=Tn||nf(e,n,u,r,f,h,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,h,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,h,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),s.props=r,s.state=h,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return wu(t,e,n,r,o,i)}function wu(t,e,n,r,i,o){Tm(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&qd(e,n,!1),Sn(t,e,o);r=e.stateNode,$1.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=mi(e,t.child,null,o),e.child=mi(e,null,l,o)):Xe(t,e,l,o),e.memoizedState=r.state,i&&qd(e,n,!0),e.child}function bm(t){var e=t.stateNode;e.pendingContext?Jd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jd(t,e.context,!1),Pc(t,e.containerInfo)}function df(t,e,n,r,i){return hi(),Ec(i),e.flags|=256,Xe(t,e,n,r),e.child}var Cu={dehydrated:null,treeContext:null,retryLane:0};function Eu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Om(t,e,n){var r=e.pendingProps,i=fe.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ae(fe,i&1),t===null)return gu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Nl(s,r,0,null),t=vr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Eu(n),e.memoizedState=Cu,t):_c(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return H1(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Un(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Un(l,o):(o=vr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Eu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Cu,r}return o=t.child,t=o.sibling,r=Un(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _c(t,e){return e=Nl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ts(t,e,n,r){return r!==null&&Ec(r),mi(e,t.child,null,n),t=_c(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function H1(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=ma(Error(D(422))),ts(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Nl({mode:"visible",children:r.children},i,0,null),o=vr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&mi(e,t.child,null,s),e.child.memoizedState=Eu(s),e.memoizedState=Cu,o);if(!(e.mode&1))return ts(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(D(419)),r=ma(o,r,void 0),ts(t,e,s,r)}if(l=(s&t.childLanes)!==0,ut||l){if(r=Pe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,xn(t,i),Kt(r,t,i,-1))}return Wc(),r=ma(Error(D(421))),ts(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nv.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,kt=Vn(i.nextSibling),xt=e,de=!0,$t=null,t!==null&&(Tt[bt++]=hn,Tt[bt++]=mn,Tt[bt++]=Nr,hn=t.id,mn=t.overflow,Nr=e),e=_c(e,r.children),e.flags|=4096,e)}function ff(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yu(t.return,e,n)}function ga(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Pm(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Xe(t,e,r.children,n),r=fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ff(t,n,e);else if(t.tag===19)ff(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ae(fe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ks(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ga(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ks(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ga(e,!0,n,null,o);break;case"together":ga(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ws(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),br|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=Un(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Un(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function W1(t,e,n){switch(e.tag){case 3:bm(e),hi();break;case 5:nm(e);break;case 1:dt(e.type)&&Bs(e);break;case 4:Pc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ae(Hs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ae(fe,fe.current&1),e.flags|=128,null):n&e.child.childLanes?Om(t,e,n):(ae(fe,fe.current&1),t=Sn(t,e,n),t!==null?t.sibling:null);ae(fe,fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Pm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(fe,fe.current),r)break;return null;case 22:case 23:return e.lanes=0,Nm(t,e,n)}return Sn(t,e,n)}var Am,Mu,Dm,Im;Am=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mu=function(){};Dm=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,pr(sn.current);var o=null;switch(n){case"input":i=Ja(t,i),r=Ja(t,r),o=[];break;case"select":i=he({},i,{value:void 0}),r=he({},r,{value:void 0}),o=[];break;case"textarea":i=Ga(t,i),r=Ga(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_s)}Xa(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(so.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(so.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ue("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Im=function(t,e,n,r){n!==r&&(e.flags|=4)};function zi(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function He(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function U1(t,e,n){var r=e.pendingProps;switch(Cc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return dt(e.type)&&Fs(),He(e),null;case 3:return r=e.stateNode,gi(),ce(ct),ce(qe),Dc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$t!==null&&(Iu($t),$t=null))),Mu(t,e),He(e),null;case 5:Ac(e);var i=pr(ko.current);if(n=e.type,t!==null&&e.stateNode!=null)Dm(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return He(e),null}if(t=pr(sn.current),Zo(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[tn]=e,r[yo]=o,t=(e.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(i=0;i<Hi.length;i++)ue(Hi[i],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":xd(r,o),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ue("invalid",r);break;case"textarea":wd(r,o),ue("invalid",r)}Xa(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Xo(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Xo(r.textContent,l,t),i=["children",""+l]):so.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ue("scroll",r)}switch(n){case"input":Wo(r),Sd(r,o,!0);break;case"textarea":Wo(r),Cd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=_s)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[tn]=e,t[yo]=r,Am(t,e,!1,!1),e.stateNode=t;e:{switch(s=Za(n,r),n){case"dialog":ue("cancel",t),ue("close",t),i=r;break;case"iframe":case"object":case"embed":ue("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hi.length;i++)ue(Hi[i],t);i=r;break;case"source":ue("error",t),i=r;break;case"img":case"image":case"link":ue("error",t),ue("load",t),i=r;break;case"details":ue("toggle",t),i=r;break;case"input":xd(t,r),i=Ja(t,r),ue("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=he({},r,{value:void 0}),ue("invalid",t);break;case"textarea":wd(t,r),i=Ga(t,r),ue("invalid",t);break;default:i=r}Xa(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?ch(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&ah(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&lo(t,a):typeof a=="number"&&lo(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(so.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ue("scroll",t):a!=null&&ac(t,o,a,s))}switch(n){case"input":Wo(t),Sd(t,r,!1);break;case"textarea":Wo(t),Cd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ni(t,!!r.multiple,o,!1):r.defaultValue!=null&&ni(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_s)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(t&&e.stateNode!=null)Im(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=pr(ko.current),pr(sn.current),Zo(e)){if(r=e.stateNode,n=e.memoizedProps,r[tn]=e,(o=r.nodeValue!==n)&&(t=xt,t!==null))switch(t.tag){case 3:Xo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xo(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tn]=e,e.stateNode=r}return He(e),null;case 13:if(ce(fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(de&&kt!==null&&e.mode&1&&!(e.flags&128))Yh(),hi(),e.flags|=98560,o=!1;else if(o=Zo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(D(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(D(317));o[tn]=e}else hi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),o=!1}else $t!==null&&(Iu($t),$t=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?Ee===0&&(Ee=3):Wc())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return gi(),Mu(t,e),t===null&&mo(e.stateNode.containerInfo),He(e),null;case 10:return Tc(e.type._context),He(e),null;case 17:return dt(e.type)&&Fs(),He(e),null;case 19:if(ce(fe),o=e.memoizedState,o===null)return He(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)zi(o,!1);else{if(Ee!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ks(t),s!==null){for(e.flags|=128,zi(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ae(fe,fe.current&1|2),e.child}t=t.sibling}o.tail!==null&&ke()>vi&&(e.flags|=128,r=!0,zi(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ks(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!de)return He(e),null}else 2*ke()-o.renderingStartTime>vi&&n!==1073741824&&(e.flags|=128,r=!0,zi(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ke(),e.sibling=null,n=fe.current,ae(fe,r?n&1|2:n&1),e):(He(e),null);case 22:case 23:return Hc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yt&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function K1(t,e){switch(Cc(e),e.tag){case 1:return dt(e.type)&&Fs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gi(),ce(ct),ce(qe),Dc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ac(e),null;case 13:if(ce(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));hi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ce(fe),null;case 4:return gi(),null;case 10:return Tc(e.type._context),null;case 22:case 23:return Hc(),null;case 24:return null;default:return null}}var ns=!1,Ke=!1,J1=typeof WeakSet=="function"?WeakSet:Set,_=null;function Xr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(t,e,r)}else n.current=null}function Nu(t,e,n){try{n()}catch(r){ye(t,e,r)}}var pf=!1;function q1(t,e){if(uu=Ls,t=_h(),Sc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(l=s+i),d!==o||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(l=s),f===o&&++c===r&&(a=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(cu={focusedElem:t,selectionRange:n},Ls=!1,_=e;_!==null;)if(e=_,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_=t;else for(;_!==null;){e=_;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,x=h.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:Bt(e.type,y),x);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(S){ye(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,_=t;break}_=e.return}return h=pf,pf=!1,h}function Zi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Nu(e,n,o)}i=i.next}while(i!==r)}}function El(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Tu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Rm(t){var e=t.alternate;e!==null&&(t.alternate=null,Rm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tn],delete e[yo],delete e[pu],delete e[P1],delete e[A1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Lm(t){return t.tag===5||t.tag===3||t.tag===4}function hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_s));else if(r!==4&&(t=t.child,t!==null))for(bu(t,e,n),t=t.sibling;t!==null;)bu(t,e,n),t=t.sibling}function Ou(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ou(t,e,n),t=t.sibling;t!==null;)Ou(t,e,n),t=t.sibling}var Le=null,Vt=!1;function En(t,e,n){for(n=n.child;n!==null;)jm(t,e,n),n=n.sibling}function jm(t,e,n){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(gl,n)}catch{}switch(n.tag){case 5:Ke||Xr(n,e);case 6:var r=Le,i=Vt;Le=null,En(t,e,n),Le=r,Vt=i,Le!==null&&(Vt?(t=Le,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(Vt?(t=Le,n=n.stateNode,t.nodeType===8?ua(t.parentNode,n):t.nodeType===1&&ua(t,n),fo(t)):ua(Le,n.stateNode));break;case 4:r=Le,i=Vt,Le=n.stateNode.containerInfo,Vt=!0,En(t,e,n),Le=r,Vt=i;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Nu(n,e,s),i=i.next}while(i!==r)}En(t,e,n);break;case 1:if(!Ke&&(Xr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ye(n,e,l)}En(t,e,n);break;case 21:En(t,e,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,En(t,e,n),Ke=r):En(t,e,n);break;default:En(t,e,n)}}function mf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new J1),e.forEach(function(r){var i=rv.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ft(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Le=l.stateNode,Vt=!1;break e;case 3:Le=l.stateNode.containerInfo,Vt=!0;break e;case 4:Le=l.stateNode.containerInfo,Vt=!0;break e}l=l.return}if(Le===null)throw Error(D(160));jm(o,s,i),Le=null,Vt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ye(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zm(e,t),e=e.sibling}function zm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ft(e,t),Xt(t),r&4){try{Zi(3,t,t.return),El(3,t)}catch(y){ye(t,t.return,y)}try{Zi(5,t,t.return)}catch(y){ye(t,t.return,y)}}break;case 1:Ft(e,t),Xt(t),r&512&&n!==null&&Xr(n,n.return);break;case 5:if(Ft(e,t),Xt(t),r&512&&n!==null&&Xr(n,n.return),t.flags&32){var i=t.stateNode;try{lo(i,"")}catch(y){ye(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&oh(i,o),Za(l,s);var u=Za(l,o);for(s=0;s<a.length;s+=2){var c=a[s],d=a[s+1];c==="style"?ch(i,d):c==="dangerouslySetInnerHTML"?ah(i,d):c==="children"?lo(i,d):ac(i,c,d,u)}switch(l){case"input":qa(i,o);break;case"textarea":sh(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ni(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?ni(i,!!o.multiple,o.defaultValue,!0):ni(i,!!o.multiple,o.multiple?[]:"",!1))}i[yo]=o}catch(y){ye(t,t.return,y)}}break;case 6:if(Ft(e,t),Xt(t),r&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){ye(t,t.return,y)}}break;case 3:if(Ft(e,t),Xt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fo(e.containerInfo)}catch(y){ye(t,t.return,y)}break;case 4:Ft(e,t),Xt(t);break;case 13:Ft(e,t),Xt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Vc=ke())),r&4&&mf(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ke=(u=Ke)||c,Ft(e,t),Ke=u):Ft(e,t),Xt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(_=t,c=t.child;c!==null;){for(d=_=c;_!==null;){switch(f=_,p=f.child,f.tag){case 0:case 11:case 14:case 15:Zi(4,f,f.return);break;case 1:Xr(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(y){ye(r,n,y)}}break;case 5:Xr(f,f.return);break;case 22:if(f.memoizedState!==null){yf(d);continue}}p!==null?(p.return=f,_=p):yf(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=uh("display",s))}catch(y){ye(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){ye(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ft(e,t),Xt(t),r&4&&mf(t);break;case 21:break;default:Ft(e,t),Xt(t)}}function Xt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Lm(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(lo(i,""),r.flags&=-33);var o=hf(t);Ou(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=hf(t);bu(t,l,s);break;default:throw Error(D(161))}}catch(a){ye(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Q1(t,e,n){_=t,_m(t)}function _m(t,e,n){for(var r=(t.mode&1)!==0;_!==null;){var i=_,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ns;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ke;l=ns;var u=Ke;if(ns=s,(Ke=a)&&!u)for(_=i;_!==null;)s=_,a=s.child,s.tag===22&&s.memoizedState!==null?vf(i):a!==null?(a.return=s,_=a):vf(i);for(;o!==null;)_=o,_m(o),o=o.sibling;_=i,ns=l,Ke=u}gf(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,_=o):gf(t)}}function gf(t){for(;_!==null;){var e=_;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ke||El(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Zd(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zd(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&fo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Ke||e.flags&512&&Tu(e)}catch(f){ye(e,e.return,f)}}if(e===t){_=null;break}if(n=e.sibling,n!==null){n.return=e.return,_=n;break}_=e.return}}function yf(t){for(;_!==null;){var e=_;if(e===t){_=null;break}var n=e.sibling;if(n!==null){n.return=e.return,_=n;break}_=e.return}}function vf(t){for(;_!==null;){var e=_;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{El(4,e)}catch(a){ye(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ye(e,i,a)}}var o=e.return;try{Tu(e)}catch(a){ye(e,o,a)}break;case 5:var s=e.return;try{Tu(e)}catch(a){ye(e,s,a)}}}catch(a){ye(e,e.return,a)}if(e===t){_=null;break}var l=e.sibling;if(l!==null){l.return=e.return,_=l;break}_=e.return}}var G1=Math.ceil,Qs=wn.ReactCurrentDispatcher,Fc=wn.ReactCurrentOwner,At=wn.ReactCurrentBatchConfig,ee=0,Pe=null,xe=null,Fe=0,yt=0,Zr=Zn(0),Ee=0,Co=null,br=0,Ml=0,Bc=0,eo=null,at=null,Vc=0,vi=1/0,dn=null,Gs=!1,Pu=null,Hn=null,rs=!1,Rn=null,Ys=0,to=0,Au=null,Cs=-1,Es=0;function Ze(){return ee&6?ke():Cs!==-1?Cs:Cs=ke()}function Wn(t){return t.mode&1?ee&2&&Fe!==0?Fe&-Fe:I1.transition!==null?(Es===0&&(Es=wh()),Es):(t=oe,t!==0||(t=window.event,t=t===void 0?16:Oh(t.type)),t):1}function Kt(t,e,n,r){if(50<to)throw to=0,Au=null,Error(D(185));Io(t,n,r),(!(ee&2)||t!==Pe)&&(t===Pe&&(!(ee&2)&&(Ml|=n),Ee===4&&An(t,Fe)),ft(t,r),n===1&&ee===0&&!(e.mode&1)&&(vi=ke()+500,Sl&&er()))}function ft(t,e){var n=t.callbackNode;I0(t,e);var r=Rs(t,t===Pe?Fe:0);if(r===0)n!==null&&Nd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nd(n),e===1)t.tag===0?D1(kf.bind(null,t)):qh(kf.bind(null,t)),b1(function(){!(ee&6)&&er()}),n=null;else{switch(Ch(r)){case 1:n=pc;break;case 4:n=xh;break;case 16:n=Is;break;case 536870912:n=Sh;break;default:n=Is}n=Km(n,Fm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Fm(t,e){if(Cs=-1,Es=0,ee&6)throw Error(D(327));var n=t.callbackNode;if(li()&&t.callbackNode!==n)return null;var r=Rs(t,t===Pe?Fe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xs(t,r);else{e=r;var i=ee;ee|=2;var o=Vm();(Pe!==t||Fe!==e)&&(dn=null,vi=ke()+500,yr(t,e));do try{Z1();break}catch(l){Bm(t,l)}while(!0);Nc(),Qs.current=o,ee=i,xe!==null?e=0:(Pe=null,Fe=0,e=Ee)}if(e!==0){if(e===2&&(i=iu(t),i!==0&&(r=i,e=Du(t,i))),e===1)throw n=Co,yr(t,0),An(t,r),ft(t,ke()),n;if(e===6)An(t,r);else{if(i=t.current.alternate,!(r&30)&&!Y1(i)&&(e=Xs(t,r),e===2&&(o=iu(t),o!==0&&(r=o,e=Du(t,o))),e===1))throw n=Co,yr(t,0),An(t,r),ft(t,ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:ar(t,at,dn);break;case 3:if(An(t,r),(r&130023424)===r&&(e=Vc+500-ke(),10<e)){if(Rs(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ze(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fu(ar.bind(null,t,at,dn),e);break}ar(t,at,dn);break;case 4:if(An(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ut(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*G1(r/1960))-r,10<r){t.timeoutHandle=fu(ar.bind(null,t,at,dn),r);break}ar(t,at,dn);break;case 5:ar(t,at,dn);break;default:throw Error(D(329))}}}return ft(t,ke()),t.callbackNode===n?Fm.bind(null,t):null}function Du(t,e){var n=eo;return t.current.memoizedState.isDehydrated&&(yr(t,e).flags|=256),t=Xs(t,e),t!==2&&(e=at,at=n,e!==null&&Iu(e)),t}function Iu(t){at===null?at=t:at.push.apply(at,t)}function Y1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Jt(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function An(t,e){for(e&=~Bc,e&=~Ml,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ut(e),r=1<<n;t[n]=-1,e&=~r}}function kf(t){if(ee&6)throw Error(D(327));li();var e=Rs(t,0);if(!(e&1))return ft(t,ke()),null;var n=Xs(t,e);if(t.tag!==0&&n===2){var r=iu(t);r!==0&&(e=r,n=Du(t,r))}if(n===1)throw n=Co,yr(t,0),An(t,e),ft(t,ke()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ar(t,at,dn),ft(t,ke()),null}function $c(t,e){var n=ee;ee|=1;try{return t(e)}finally{ee=n,ee===0&&(vi=ke()+500,Sl&&er())}}function Or(t){Rn!==null&&Rn.tag===0&&!(ee&6)&&li();var e=ee;ee|=1;var n=At.transition,r=oe;try{if(At.transition=null,oe=1,t)return t()}finally{oe=r,At.transition=n,ee=e,!(ee&6)&&er()}}function Hc(){yt=Zr.current,ce(Zr)}function yr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,T1(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(Cc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fs();break;case 3:gi(),ce(ct),ce(qe),Dc();break;case 5:Ac(r);break;case 4:gi();break;case 13:ce(fe);break;case 19:ce(fe);break;case 10:Tc(r.type._context);break;case 22:case 23:Hc()}n=n.return}if(Pe=t,xe=t=Un(t.current,null),Fe=yt=e,Ee=0,Co=null,Bc=Ml=br=0,at=eo=null,fr!==null){for(e=0;e<fr.length;e++)if(n=fr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}fr=null}return t}function Bm(t,e){do{var n=xe;try{if(Nc(),xs.current=qs,Js){for(var r=pe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Js=!1}if(Tr=0,be=we=pe=null,Xi=!1,xo=0,Fc.current=null,n===null||n.return===null){Ee=1,Co=e,xe=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=Fe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=sf(s);if(p!==null){p.flags&=-257,lf(p,s,l,o,e),p.mode&1&&of(o,u,e),e=p,a=u;var h=e.updateQueue;if(h===null){var y=new Set;y.add(a),e.updateQueue=y}else h.add(a);break e}else{if(!(e&1)){of(o,u,e),Wc();break e}a=Error(D(426))}}else if(de&&l.mode&1){var x=sf(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),lf(x,s,l,o,e),Ec(yi(a,l));break e}}o=a=yi(a,l),Ee!==4&&(Ee=2),eo===null?eo=[o]:eo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=Cm(o,a,e);Xd(o,m);break e;case 1:l=a;var g=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Hn===null||!Hn.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=Em(o,l,e);Xd(o,S);break e}}o=o.return}while(o!==null)}Hm(n)}catch(M){e=M,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function Vm(){var t=Qs.current;return Qs.current=qs,t===null?qs:t}function Wc(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Pe===null||!(br&268435455)&&!(Ml&268435455)||An(Pe,Fe)}function Xs(t,e){var n=ee;ee|=2;var r=Vm();(Pe!==t||Fe!==e)&&(dn=null,yr(t,e));do try{X1();break}catch(i){Bm(t,i)}while(!0);if(Nc(),ee=n,Qs.current=r,xe!==null)throw Error(D(261));return Pe=null,Fe=0,Ee}function X1(){for(;xe!==null;)$m(xe)}function Z1(){for(;xe!==null&&!E0();)$m(xe)}function $m(t){var e=Um(t.alternate,t,yt);t.memoizedProps=t.pendingProps,e===null?Hm(t):xe=e,Fc.current=null}function Hm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=K1(n,e),n!==null){n.flags&=32767,xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ee=6,xe=null;return}}else if(n=U1(n,e,yt),n!==null){xe=n;return}if(e=e.sibling,e!==null){xe=e;return}xe=e=t}while(e!==null);Ee===0&&(Ee=5)}function ar(t,e,n){var r=oe,i=At.transition;try{At.transition=null,oe=1,ev(t,e,n,r)}finally{At.transition=i,oe=r}return null}function ev(t,e,n,r){do li();while(Rn!==null);if(ee&6)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(R0(t,o),t===Pe&&(xe=Pe=null,Fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rs||(rs=!0,Km(Is,function(){return li(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=At.transition,At.transition=null;var s=oe;oe=1;var l=ee;ee|=4,Fc.current=null,q1(t,n),zm(n,t),x1(cu),Ls=!!uu,cu=uu=null,t.current=n,Q1(n),M0(),ee=l,oe=s,At.transition=o}else t.current=n;if(rs&&(rs=!1,Rn=t,Ys=i),o=t.pendingLanes,o===0&&(Hn=null),b0(n.stateNode),ft(t,ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,t=Pu,Pu=null,t;return Ys&1&&t.tag!==0&&li(),o=t.pendingLanes,o&1?t===Au?to++:(to=0,Au=t):to=0,er(),null}function li(){if(Rn!==null){var t=Ch(Ys),e=At.transition,n=oe;try{if(At.transition=null,oe=16>t?16:t,Rn===null)var r=!1;else{if(t=Rn,Rn=null,Ys=0,ee&6)throw Error(D(331));var i=ee;for(ee|=4,_=t.current;_!==null;){var o=_,s=o.child;if(_.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(_=u;_!==null;){var c=_;switch(c.tag){case 0:case 11:case 15:Zi(8,c,o)}var d=c.child;if(d!==null)d.return=c,_=d;else for(;_!==null;){c=_;var f=c.sibling,p=c.return;if(Rm(c),c===u){_=null;break}if(f!==null){f.return=p,_=f;break}_=p}}}var h=o.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}_=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,_=s;else e:for(;_!==null;){if(o=_,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zi(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,_=m;break e}_=o.return}}var g=t.current;for(_=g;_!==null;){s=_;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,_=v;else e:for(s=g;_!==null;){if(l=_,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:El(9,l)}}catch(M){ye(l,l.return,M)}if(l===s){_=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,_=S;break e}_=l.return}}if(ee=i,er(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(gl,t)}catch{}r=!0}return r}finally{oe=n,At.transition=e}}return!1}function xf(t,e,n){e=yi(n,e),e=Cm(t,e,1),t=$n(t,e,1),e=Ze(),t!==null&&(Io(t,1,e),ft(t,e))}function ye(t,e,n){if(t.tag===3)xf(t,t,n);else for(;e!==null;){if(e.tag===3){xf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hn===null||!Hn.has(r))){t=yi(n,t),t=Em(e,t,1),e=$n(e,t,1),t=Ze(),e!==null&&(Io(e,1,t),ft(e,t));break}}e=e.return}}function tv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ze(),t.pingedLanes|=t.suspendedLanes&n,Pe===t&&(Fe&n)===n&&(Ee===4||Ee===3&&(Fe&130023424)===Fe&&500>ke()-Vc?yr(t,0):Bc|=n),ft(t,e)}function Wm(t,e){e===0&&(t.mode&1?(e=Jo,Jo<<=1,!(Jo&130023424)&&(Jo=4194304)):e=1);var n=Ze();t=xn(t,e),t!==null&&(Io(t,e,n),ft(t,n))}function nv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Wm(t,n)}function rv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),Wm(t,n)}var Um;Um=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ct.current)ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ut=!1,W1(t,e,n);ut=!!(t.flags&131072)}else ut=!1,de&&e.flags&1048576&&Qh(e,$s,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ws(t,e),t=e.pendingProps;var i=pi(e,qe.current);si(e,n),i=Rc(null,e,r,t,i,n);var o=Lc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dt(r)?(o=!0,Bs(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Oc(e),i.updater=Cl,e.stateNode=i,i._reactInternals=e,ku(e,r,t,n),e=wu(null,e,r,!0,o,n)):(e.tag=0,de&&o&&wc(e),Xe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ws(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ov(r),t=Bt(r,t),i){case 0:e=Su(null,e,r,t,n);break e;case 1:e=cf(null,e,r,t,n);break e;case 11:e=af(null,e,r,t,n);break e;case 14:e=uf(null,e,r,Bt(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Su(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),cf(t,e,r,i,n);case 3:e:{if(bm(e),t===null)throw Error(D(387));r=e.pendingProps,o=e.memoizedState,i=o.element,tm(t,e),Us(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=yi(Error(D(423)),e),e=df(t,e,r,n,i);break e}else if(r!==i){i=yi(Error(D(424)),e),e=df(t,e,r,n,i);break e}else for(kt=Vn(e.stateNode.containerInfo.firstChild),xt=e,de=!0,$t=null,n=Zh(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hi(),r===i){e=Sn(t,e,n);break e}Xe(t,e,r,n)}e=e.child}return e;case 5:return nm(e),t===null&&gu(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,du(r,i)?s=null:o!==null&&du(r,o)&&(e.flags|=32),Tm(t,e),Xe(t,e,s,n),e.child;case 6:return t===null&&gu(e),null;case 13:return Om(t,e,n);case 4:return Pc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mi(e,null,r,n):Xe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),af(t,e,r,i,n);case 7:return Xe(t,e,e.pendingProps,n),e.child;case 8:return Xe(t,e,e.pendingProps.children,n),e.child;case 12:return Xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ae(Hs,r._currentValue),r._currentValue=s,o!==null)if(Jt(o.value,s)){if(o.children===i.children&&!ct.current){e=Sn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=gn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yu(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(D(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),yu(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Xe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,si(e,n),i=Rt(i),r=r(i),e.flags|=1,Xe(t,e,r,n),e.child;case 14:return r=e.type,i=Bt(r,e.pendingProps),i=Bt(r.type,i),uf(t,e,r,i,n);case 15:return Mm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),ws(t,e),e.tag=1,dt(r)?(t=!0,Bs(e)):t=!1,si(e,n),wm(e,r,i),ku(e,r,i,n),wu(null,e,r,!0,t,n);case 19:return Pm(t,e,n);case 22:return Nm(t,e,n)}throw Error(D(156,e.tag))};function Km(t,e){return kh(t,e)}function iv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,e,n,r){return new iv(t,e,n,r)}function Uc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ov(t){if(typeof t=="function")return Uc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cc)return 11;if(t===dc)return 14}return 2}function Un(t,e){var n=t.alternate;return n===null?(n=Ot(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ms(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Uc(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Hr:return vr(n.children,i,o,e);case uc:s=8,i|=8;break;case Ha:return t=Ot(12,n,e,i|2),t.elementType=Ha,t.lanes=o,t;case Wa:return t=Ot(13,n,e,i),t.elementType=Wa,t.lanes=o,t;case Ua:return t=Ot(19,n,e,i),t.elementType=Ua,t.lanes=o,t;case nh:return Nl(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eh:s=10;break e;case th:s=9;break e;case cc:s=11;break e;case dc:s=14;break e;case Nn:s=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Ot(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function vr(t,e,n,r){return t=Ot(7,t,r,e),t.lanes=n,t}function Nl(t,e,n,r){return t=Ot(22,t,r,e),t.elementType=nh,t.lanes=n,t.stateNode={isHidden:!1},t}function ya(t,e,n){return t=Ot(6,t,null,e),t.lanes=n,t}function va(t,e,n){return e=Ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sv(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xl(0),this.expirationTimes=Xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kc(t,e,n,r,i,o,s,l,a){return t=new sv(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ot(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oc(o),t}function lv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$r,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Jm(t){if(!t)return Gn;t=t._reactInternals;e:{if(Rr(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(dt(n))return Jh(t,n,e)}return e}function qm(t,e,n,r,i,o,s,l,a){return t=Kc(n,r,!0,t,i,o,s,l,a),t.context=Jm(null),n=t.current,r=Ze(),i=Wn(n),o=gn(r,i),o.callback=e??null,$n(n,o,i),t.current.lanes=i,Io(t,i,r),ft(t,r),t}function Tl(t,e,n,r){var i=e.current,o=Ze(),s=Wn(i);return n=Jm(n),e.context===null?e.context=n:e.pendingContext=n,e=gn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$n(i,e,s),t!==null&&(Kt(t,i,s,o),ks(t,i,s)),s}function Zs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jc(t,e){Sf(t,e),(t=t.alternate)&&Sf(t,e)}function av(){return null}var Qm=typeof reportError=="function"?reportError:function(t){console.error(t)};function qc(t){this._internalRoot=t}bl.prototype.render=qc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Tl(t,e,null,null)};bl.prototype.unmount=qc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Or(function(){Tl(null,t,null,null)}),e[kn]=null}};function bl(t){this._internalRoot=t}bl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Nh();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pn.length&&e!==0&&e<Pn[n].priority;n++);Pn.splice(n,0,t),n===0&&bh(t)}};function Qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ol(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wf(){}function uv(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Zs(s);o.call(u)}}var s=qm(e,r,t,0,null,!1,!1,"",wf);return t._reactRootContainer=s,t[kn]=s.current,mo(t.nodeType===8?t.parentNode:t),Or(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Zs(a);l.call(u)}}var a=Kc(t,0,!1,null,null,!1,!1,"",wf);return t._reactRootContainer=a,t[kn]=a.current,mo(t.nodeType===8?t.parentNode:t),Or(function(){Tl(e,a,n,r)}),a}function Pl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Zs(s);l.call(a)}}Tl(e,s,t,i)}else s=uv(n,e,t,i,r);return Zs(s)}Eh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$i(e.pendingLanes);n!==0&&(hc(e,n|1),ft(e,ke()),!(ee&6)&&(vi=ke()+500,er()))}break;case 13:Or(function(){var r=xn(t,1);if(r!==null){var i=Ze();Kt(r,t,1,i)}}),Jc(t,1)}};mc=function(t){if(t.tag===13){var e=xn(t,134217728);if(e!==null){var n=Ze();Kt(e,t,134217728,n)}Jc(t,134217728)}};Mh=function(t){if(t.tag===13){var e=Wn(t),n=xn(t,e);if(n!==null){var r=Ze();Kt(n,t,e,r)}Jc(t,e)}};Nh=function(){return oe};Th=function(t,e){var n=oe;try{return oe=t,e()}finally{oe=n}};tu=function(t,e,n){switch(e){case"input":if(qa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xl(r);if(!i)throw Error(D(90));ih(r),qa(r,i)}}}break;case"textarea":sh(t,n);break;case"select":e=n.value,e!=null&&ni(t,!!n.multiple,e,!1)}};ph=$c;hh=Or;var cv={usingClientEntryPoint:!1,Events:[Lo,Jr,xl,dh,fh,$c]},_i={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dv={bundleType:_i.bundleType,version:_i.version,rendererPackageName:_i.rendererPackageName,rendererConfig:_i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yh(t),t===null?null:t.stateNode},findFiberByHostInstance:_i.findFiberByHostInstance||av,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!is.isDisabled&&is.supportsFiber)try{gl=is.inject(dv),on=is}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cv;wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qc(e))throw Error(D(200));return lv(t,e,null,n)};wt.createRoot=function(t,e){if(!Qc(t))throw Error(D(299));var n=!1,r="",i=Qm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Kc(t,1,!1,null,null,n,!1,r,i),t[kn]=e.current,mo(t.nodeType===8?t.parentNode:t),new qc(e)};wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=yh(e),t=t===null?null:t.stateNode,t};wt.flushSync=function(t){return Or(t)};wt.hydrate=function(t,e,n){if(!Ol(e))throw Error(D(200));return Pl(null,t,e,!0,n)};wt.hydrateRoot=function(t,e,n){if(!Qc(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Qm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=qm(e,null,t,1,n??null,i,!1,o,s),t[kn]=e.current,mo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new bl(e)};wt.render=function(t,e,n){if(!Ol(e))throw Error(D(200));return Pl(null,t,e,!1,n)};wt.unmountComponentAtNode=function(t){if(!Ol(t))throw Error(D(40));return t._reactRootContainer?(Or(function(){Pl(null,null,t,!1,function(){t._reactRootContainer=null,t[kn]=null})}),!0):!1};wt.unstable_batchedUpdates=$c;wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ol(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Pl(t,e,n,!1,r)};wt.version="18.3.1-next-f1338f8080-20240426";function Gm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gm)}catch(t){console.error(t)}}Gm(),Gp.exports=wt;var Al=Gp.exports;const fv=_p(Al);var Cf=Al;Va.createRoot=Cf.createRoot,Va.hydrateRoot=Cf.hydrateRoot;function zo({sectionName:t,sectionTitle:e,isOpen:n,setOpen:r,iconName:i,isOptional:o}){return k.jsxs("div",{className:"section-header",onClick:()=>r(n?null:t),children:[k.jsxs("h2",{className:`section-title ${o=="true"?"is-optional":""} `,children:[o=="false"?"":k.jsx("p",{children:"*"}),i=="none"?"":k.jsx("i",{className:i}),e]}),k.jsx("h2",{className:`expand-arrow stretch ${n?"open":""}`,children:"v"})]})}function pv({onChange:t,name:e,email:n,phoneNumber:r,address:i,setOpen:o,isOpen:s}){return k.jsxs("div",{className:"personal-section content-box",children:[k.jsx(zo,{setOpen:o,isOpen:s,sectionTitle:"Personal Information",sectionName:"Personal",iconName:"fas fa-user",isOptional:"false"}),k.jsxs("form",{className:`section-content ${s?"open":""}`,children:[k.jsxs("div",{className:"input-group",children:[k.jsx("label",{htmlFor:"name",children:"Name "}),k.jsx("input",{type:"text",id:"name","data-key":"name",placeholder:"Enter first and last name",value:e,onChange:t})]}),k.jsxs("div",{className:"input-group",children:[k.jsx("label",{htmlFor:"email",children:"Email "}),k.jsx("input",{type:"email",id:"email","data-key":"email",placeholder:"Enter email",value:n,onChange:t})]}),k.jsxs("div",{className:"input-group",children:[k.jsx("label",{htmlFor:"phoneNumber",children:"Phone Number "}),k.jsx("input",{type:"tel",id:"phoneNumber","data-key":"phoneNumber",placeholder:"Enter phone number",value:r,onChange:t})]}),k.jsxs("div",{className:"input-group",children:[k.jsx("label",{htmlFor:"address",children:"Address "}),k.jsx("input",{type:"text",id:"address","data-key":"address",placeholder:"Enter address",value:i,onChange:t})]})]})]})}function hv({onChange:t,education:e,setOpen:n,isOpen:r}){return k.jsxs("div",{className:"education-section content-box",children:[k.jsx(zo,{setOpen:n,isOpen:r,sectionTitle:"Education",sectionName:"Education",iconName:"fas fa-book",isOptional:"false"}),k.jsxs("form",{className:`section-content ${r?"open":""}`,children:[k.jsxs("div",{className:"school-info",children:[k.jsxs("div",{className:"input-group school-title",children:[k.jsx("label",{htmlFor:"schoolName",children:"School "}),k.jsx("input",{type:"text",id:"schoolName","data-key":"schoolName",placeholder:"Enter school",value:e.schoolName,onChange:t})]}),k.jsxs("div",{className:"school-dates",children:[k.jsxs("div",{className:"input-group",children:[k.jsx("label",{htmlFor:"schoolStart",children:"Start "}),k.jsx("input",{type:"text",id:"schoolStart","data-key":"schoolStart",placeholder:"xxxx",value:e.schoolStart,onChange:t})]}),k.jsxs("div",{className:"input-group",id:"schoolEndGroup",children:[k.jsx("label",{htmlFor:"schoolEnd",children:"End "}),k.jsx("input",{type:"text",id:"schoolEnd","data-key":"schoolEnd",placeholder:"xxxx",value:e.schoolEnd,onChange:t})]})]})]}),k.jsxs("div",{className:"input-group school-gpa",children:[k.jsx("label",{htmlFor:"schoolGpa",children:"GPA "}),k.jsx("input",{type:"text",id:"schoolGpa","data-key":"gpa",placeholder:"x.xx",value:e.gpa,onChange:t})]}),k.jsxs("div",{className:"school-location",children:[k.jsxs("div",{className:"input-group school-city",children:[k.jsx("label",{htmlFor:"schoolCity",children:"City "}),k.jsx("input",{type:"text",id:"schoolCity","data-key":"city",placeholder:"Enter city",value:e.city,onChange:t})]}),k.jsxs("div",{className:"input-group school-state",children:[k.jsx("label",{htmlFor:"schoolState",children:"State "}),k.jsx("input",{type:"text",id:"schoolState","data-key":"state",placeholder:"Enter state",value:e.state,onChange:t})]})]})]})]})}const mv="/a2c-resume-builder/assets/trash-CAhCM50R.png";function gv({onUp:t,onDown:e}){return k.jsxs("div",{className:"move-forms",children:[k.jsx("div",{className:"move-up",onClick:t,children:" v "}),k.jsx("div",{className:"move-down",onClick:e,children:" v "})]})}function yv({title:t,index:e,onChange:n,onRemove:r,section:i,onUp:o,onDown:s}){return k.jsxs("div",{className:"collapsed-form",onClick:n,"data-index":e,"data-section":i,children:[k.jsx("p",{className:"form-title",onClick:n,"data-index":e,"data-section":i,children:t}),k.jsxs("div",{className:"right-collapsed",children:[k.jsx(gv,{onUp:o,onDown:s}),k.jsx("img",{src:mv,className:"remove",onClick:r,"data-index":e,"data-section":i})]})]})}function Ym({forms:t,FormComponent:e,onCollapsedChange:n,section:r,onChange:i,onRemove:o,onSave:s,onCancel:l,onUp:a,onDown:u,changeExtracurricularDescription:c}){return k.jsx("div",{className:"form-container",children:t.isEditing!==-1?r!="extracurriculars"?k.jsx(e,{onChange:i,forms:t,onSave:s,onCancel:l}):k.jsx(e,{onChange:i,forms:t,onSave:s,onCancel:l,changeExtracurricularDescription:c}):t.content.map((d,f)=>k.jsx(yv,{title:d.title,index:f,onChange:n,onRemove:o,section:r,onUp:a,onDown:u}))})}function Xm({save:t,cancel:e,section:n}){return k.jsxs("div",{className:"buttons",children:[k.jsx("button",{type:"submit",className:"save",onClick:t,"data-section":n,children:" Save "}),k.jsx("button",{type:"button",className:"cancel",onClick:e,"data-section":n,children:" Cancel "})]})}function vv({forms:t,onSave:e,onCancel:n,onChange:r}){const i=new Date,o=i.getFullYear()+"-"+i.getMonth(),s=parseInt(o.slice(0,4))-4+"-12",l=parseInt(o.slice(0,4))+4+"-12";return console.log("awardsForm: ",o),k.jsx(k.Fragment,{children:k.jsxs("form",{children:[k.jsxs("div",{className:"input-group",children:[k.jsx("label",{htmlFor:"award",children:"Award "}),k.jsx("input",{required:!0,type:"text",id:"award","data-key":"title","data-section":"awards",placeholder:"Enter award title",value:t.content[t.isEditing].title,onChange:r})]}),k.jsxs("div",{className:"input-group",children:[k.jsx("label",{htmlFor:"awardDate",children:"Date "}),k.jsx("input",{type:"month",id:"awardDate","data-key":"date","data-section":"awards",placeholder:"Enter date",min:s,max:l,value:t.content[t.isEditing].date,onChange:r})]}),k.jsx(Xm,{section:"awards",save:e,cancel:n})]})})}function Zm({buttonContent:t,onClick:e,section:n,isEditing:r}){return r!==-1?null:k.jsx("button",{onClick:e,"data-section":n,className:"add-form",children:t})}function kv({awards:t,onChange:e,onCollapsedChange:n,onSave:r,onRemove:i,onCancel:o,onAdd:s,onUp:l,onDown:a,setOpen:u,isOpen:c}){return k.jsxs("div",{className:"awards-section content-box",children:[k.jsx(zo,{setOpen:u,isOpen:c,sectionTitle:"Awards & Honors",sectionName:"Awards",iconName:"fas fa-medal",isOptional:"false"}),k.jsxs("div",{className:`section-content ${c?"open":""}`,children:[k.jsx(Ym,{forms:t,FormComponent:vv,onCollapsedChange:n,section:"awards",onChange:e,onSave:r,onRemove:i,onCancel:o,onUp:l,onDown:a}),k.jsx(Zm,{section:"awards",buttonContent:"+",onClick:s,isEditing:t.isEditing})]})]})}function je(t){this.content=t}je.prototype={constructor:je,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new je(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new je(n)},addToStart:function(t,e){return new je([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new je(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new je(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=je.from(t),t.size?new je(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=je.from(t),t.size?new je(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=je.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};je.from=function(t){if(t instanceof je)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new je(e)};function eg(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=eg(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function tg(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),l=e.child(--o),a=s.nodeSize;if(s==l){n-=a,r-=a;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let u=0,c=Math.min(s.text.length,l.text.length);for(;u<c&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let u=tg(s.content,l.content,n-1,r-1);if(u)return u}n-=a,r-=a}}class A{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,l=0;l<n;s++){let a=this.content[s],u=l+a.nodeSize;if(u>e&&r(a,i+l,o||null,s)!==!1&&a.content.size){let c=l+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,n-c),r,i+c)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(l,a)=>{let u=l.isText?l.text.slice(Math.max(e,a)-a,n-a):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(s?s=!1:o+=r),o+=u},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new A(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let l=this.content[o],a=s+l.nodeSize;a>e&&((s<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),r.push(l),i+=l.nodeSize),s=a}return new A(r,i)}cutByIndex(e,n){return e==n?A.empty:e==0&&n==this.content.length?this:new A(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new A(i,o)}addToStart(e){return new A([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new A(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return eg(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return tg(this,e,n,r)}findIndex(e,n=-1){if(e==0)return ss(0,e);if(e==this.size)return ss(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?ss(r+1,s):ss(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return A.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new A(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return A.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new A(n||e,r)}static from(e){if(!e)return A.empty;if(e instanceof A)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new A([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}A.empty=new A([],0);const ka={index:0,offset:0};function ss(t,e){return ka.index=t,ka.offset=e,ka}function el(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!el(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!el(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let se=class Ru{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&el(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ru.none;if(e instanceof Ru)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};se.none=[];class tl extends Error{}class j{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=rg(this.content,e+this.openStart,n);return r&&new j(r,this.openStart,this.openEnd)}removeBetween(e,n){return new j(ng(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return j.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new j(A.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new j(e,r,i)}}j.empty=new j(A.empty,0,0);function ng(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:l}=t.findIndex(n);if(i==e||o.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(ng(o.content,e-i-1,n-i-1)))}function rg(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return t.cut(0,e).append(n).append(t.cut(e));let l=rg(s.content,e-o-1,n);return l&&t.replaceChild(i,s.copy(l))}function xv(t,e,n){if(n.openStart>t.depth)throw new tl("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new tl("Inconsistent open depths");return ig(t,e,n,0)}function ig(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=ig(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,l=s.content;return xr(s,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=Sv(n,t);return xr(o,sg(t,s,l,e,r))}else return xr(o,nl(t,e,r))}function og(t,e){if(!e.type.compatibleContent(t.type))throw new tl("Cannot join "+e.type.name+" onto "+t.type.name)}function Lu(t,e,n){let r=t.node(n);return og(r,e.node(n)),r}function kr(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function no(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(kr(t.nodeAfter,r),o++));for(let l=o;l<s;l++)kr(i.child(l),r);e&&e.depth==n&&e.textOffset&&kr(e.nodeBefore,r)}function xr(t,e){return t.type.checkContent(e),t.copy(e)}function sg(t,e,n,r,i){let o=t.depth>i&&Lu(t,e,i+1),s=r.depth>i&&Lu(n,r,i+1),l=[];return no(null,t,i,l),o&&s&&e.index(i)==n.index(i)?(og(o,s),kr(xr(o,sg(t,e,n,r,i+1)),l)):(o&&kr(xr(o,nl(t,e,i+1)),l),no(e,n,i,l),s&&kr(xr(s,nl(n,r,i+1)),l)),no(r,null,i,l),new A(l)}function nl(t,e,n){let r=[];if(no(null,t,n,r),t.depth>n){let i=Lu(t,e,n+1);kr(xr(i,nl(t,e,n+1)),r)}return no(e,null,n,r),new A(r)}function Sv(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(A.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Eo{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return se.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new rl(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:l,offset:a}=s.content.findIndex(o),u=o-a;if(r.push(s,l,i+a),!u||(s=s.child(l),s.isText))break;o=u-1,i+=a+1}return new Eo(n,r,o)}static resolveCached(e,n){let r=Ef.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==n)return s}else Ef.set(e,r=new wv);let i=r.elts[r.i]=Eo.resolve(e,n);return r.i=(r.i+1)%Cv,i}}class wv{constructor(){this.elts=[],this.i=0}}const Cv=12,Ef=new WeakMap;class rl{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Ev=Object.create(null);let Sr=class ju{constructor(e,n,r,i=se.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||A.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&el(this.attrs,n||e.defaultAttrs||Ev)&&se.sameSet(this.marks,r||se.none)}copy(e=null){return e==this.content?this:new ju(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ju(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return j.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),l=i.start(s),u=i.node(s).content.cut(i.pos-l,o.pos-l);return new j(u,i.depth-s,o.depth-s)}replace(e,n,r){return xv(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Eo.resolveCached(this,e)}resolveNoCache(e){return Eo.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),lg(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=A.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=i;a<o;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=se.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!se.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=A.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};Sr.prototype.text=void 0;class il extends Sr{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):lg(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new il(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new il(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function lg(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Pr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Mv(e,n);if(r.next==null)return Pr.empty;let i=ag(r);r.next&&r.err("Unexpected trailing text");let o=Dv(Av(i));return Iv(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,l){let a=s.matchFragment(e,r);if(a&&(!n||a.validEnd))return A.from(l.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:d}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,l.concat(c));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let l=i;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:a}=o.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}Pr.empty=new Pr(!0);class Mv{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function ag(t){let e=[];do e.push(Nv(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Nv(t){let e=[];do e.push(Tv(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Tv(t){let e=Pv(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=bv(t,e);else break;return e}function Mf(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function bv(t,e){let n=Mf(t),r=n;return t.eat(",")&&(t.next!="}"?r=Mf(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Ov(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Pv(t){if(t.eat("(")){let e=ag(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Ov(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Av(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,l,a){let u={term:a,to:l};return e[s].push(u),u}function i(s,l){s.forEach(a=>a.to=l)}function o(s,l){if(s.type=="choice")return s.exprs.reduce((a,u)=>a.concat(o(u,l)),[]);if(s.type=="seq")for(let a=0;;a++){let u=o(s.exprs[a],l);if(a==s.exprs.length-1)return u;i(u,l=n())}else if(s.type=="star"){let a=n();return r(l,a),i(o(s.expr,a),a),[r(a)]}else if(s.type=="plus"){let a=n();return i(o(s.expr,l),a),i(o(s.expr,a),a),[r(a)]}else{if(s.type=="opt")return[r(l)].concat(o(s.expr,l));if(s.type=="range"){let a=l;for(let u=0;u<s.min;u++){let c=n();i(o(s.expr,a),c),a=c}if(s.max==-1)i(o(s.expr,a),a);else for(let u=s.min;u<s.max;u++){let c=n();r(a,c),i(o(s.expr,a),c),a=c}return[r(a)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function ug(t,e){return e-t}function Nf(t,e){let n=[];return r(e),n.sort(ug);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:l,to:a}=o[s];!l&&n.indexOf(a)==-1&&r(a)}}}function Dv(t){let e=Object.create(null);return n(Nf(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let c=0;c<i.length;c++)i[c][0]==l&&(u=i[c][1]);Nf(t,a).forEach(c=>{u||i.push([l,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new Pr(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let l=i[s][1].sort(ug);o.next.push({type:i[s][0],next:e[l.join(",")]||n(l)})}return o}}function Iv(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let l=0;l<i.next.length;l++){let{type:a,next:u}=i.next[l];s.push(a.name),o&&!(a.isText||a.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function cg(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function dg(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function fg(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function pg(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new Lv(t,r,e[r]);return n}let Tf=class hg{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=pg(e,r.attrs),this.defaultAttrs=cg(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Pr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:dg(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Sr(this,this.computeAttrs(e),A.from(n),se.setFrom(r))}createChecked(e=null,n,r){return n=A.from(n),this.checkContent(n),new Sr(this,this.computeAttrs(e),n,se.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=A.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(A.empty,!0);return o?new Sr(this,e,n.append(o),se.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){fg(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:se.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new hg(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Rv(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class Lv{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Rv(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Dl{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=pg(e,i.attrs),this.excluded=null;let o=cg(this.attrs);this.instance=o?new se(this,o):null}create(e=null){return!e&&this.instance?this.instance:new se(this,dg(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new Dl(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){fg(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class mg{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=je.from(e.nodes),n.marks=je.from(e.marks||{}),this.nodes=Tf.compile(this.spec.nodes,this),this.marks=Dl.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",l=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=Pr.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=l=="_"?null:l?bf(this,l.split(" ")):l==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:bf(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Tf){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new il(r,r.defaultAttrs,e,se.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Sr.fromJSON(this,e)}markFromJSON(e){return se.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function bf(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let l in t.marks){let a=t.marks[l];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=a)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function jv(t){return t.tag!=null}function zv(t){return t.style!=null}class ki{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(jv(i))this.tags.push(i);else if(zv(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new Pf(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Pf(this,n,!0);return r.addAll(e,n.from,n.to),j.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(Bv(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let a=s.getAttrs(n);if(a===!1)continue;s.attrs=a||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Af(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Af(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ki(e,ki.schemaRules(e)))}}const gg={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},_v={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},yg={ol:!0,ul:!0},ol=1,sl=2,ro=4;function Of(t,e,n){return e!=null?(e?ol:0)|(e==="full"?sl:0):t&&t.whitespace=="pre"?ol|sl:n&~ro}class ls{constructor(e,n,r,i,o,s,l){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=l,this.content=[],this.activeMarks=se.none,this.stashMarks=[],this.match=s||(l&ro?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(A.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ol)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=A.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(A.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):Vv(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!gg.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Pf{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=Of(null,n.preserveWhitespace,0)|(r?ro:0);i?o=new ls(i.type,i.attrs,se.none,se.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new ls(null,null,se.none,se.none,!0,null,s):o=new ls(e.schema.topNodeType,null,se.none,se.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.style;if(!r||!r.length)return n();let i=this.readStyles(e.style);if(!i)return;let[o,s]=i,l=this.top;for(let a=0;a<s.length;a++)this.removePendingMark(s[a],l);for(let a=0;a<o.length;a++)this.addPendingMark(o[a]);n();for(let a=0;a<o.length;a++)this.removePendingMark(o[a],l);for(let a=0;a<s.length;a++)this.addPendingMark(s[a])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&sl||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&ol)r.options&sl?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;yg.hasOwnProperty(r)&&this.parser.normalizeLists&&Fv(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:_v.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,l=this.top,a=this.needsBlock;if(gg.hasOwnProperty(r))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),s=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}o&&o.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),s&&this.sync(l),this.needsBlock=a}else this.withStyleRules(e,()=>{this.addElementByRule(e,o,o.consuming===!1?i:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=se.none,r=se.none;if(e.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=e.getPropertyValue(o);if(s)for(let l=void 0;;){let a=this.parser.matchStyle(o,s,this,l);if(!a)break;if(a.ignore)return null;if(a.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(u=>{a.clearMark(u)&&(r=u.addToSet(r))}):n=this.parser.schema.marks[a.mark].create(a.attrs).addToSet(n),a.consuming===!1)l=a;else break}}return[n,r]}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a)}i&&this.sync(l)&&this.open--,s&&this.removePendingMark(s,l)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=Of(e,i,o.options);o.options&ro&&o.content.length==0&&(s|=ro),this.nodes.push(new ls(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(l,a)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;a>=o;a--)if(s(l-1,a))return!0;return!1}else{let c=a>0||a==0&&i?this.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;a--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=$v(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function Fv(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&yg.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Bv(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Af(t){let e={};for(let n in t)e[n]=t[n];return e}function Vv(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=l=>{o.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:c}=l.edge(a);if(u==e||o.indexOf(c)<0&&s(c))return!0}};if(s(i.contentMatch))return!0}}function $v(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class Lr{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=xa(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let l=0,a=0;for(;l<o.length&&a<s.marks.length;){let u=s.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(o[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<o.length;)i=o.pop()[1];for(;a<s.marks.length;){let u=s.marks[a++],c=this.serializeMark(u,s.isInline,n);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Ns(xa(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Ns(xa(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Ns(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Lr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Df(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Df(e.marks)}}function Df(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function xa(t){return t.document||window.document}const If=new WeakMap;function Hv(t){let e=If.get(t);return e===void 0&&If.set(t,e=Wv(t)),e}function Wv(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Ns(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=Hv(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let l,a=n?t.createElementNS(n,i):t.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let d in u)if(u[d]!=null){let f=d.indexOf(" ");f>0?a.setAttributeNS(d.slice(0,f),d.slice(f+1),u[d]):a.setAttribute(d,u[d])}}for(let d=c;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:p,contentDOM:h}=Ns(t,f,n,r);if(a.appendChild(p),h){if(l)throw new RangeError("Multiple content holes");l=h}}}return{dom:a,contentDOM:l}}const vg=65535,kg=Math.pow(2,16);function Uv(t,e){return t+e*kg}function Rf(t){return t&vg}function Kv(t){return(t-(t&vg))/kg}const xg=1,Sg=2,Ts=4,wg=8;class zu{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&wg)>0}get deletedBefore(){return(this.delInfo&(xg|Ts))>0}get deletedAfter(){return(this.delInfo&(Sg|Ts))>0}get deletedAcross(){return(this.delInfo&Ts)>0}}class vt{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&vt.empty)return vt.empty}recover(e){let n=0,r=Rf(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Kv(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[l+o],c=this.ranges[l+s],d=a+u;if(e<=d){let f=u?e==a?-1:e==d?1:n:n,p=a+i+(f<0?0:c);if(r)return p;let h=e==(n<0?a:d)?null:Uv(l/3,e-a),y=e==a?Sg:e==d?xg:Ts;return(n<0?e!=a:e!=d)&&(y|=wg),new zu(p,y,h)}i+=c-u}return r?e+i:new zu(e+i,0,null)}touches(e,n){let r=0,i=Rf(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+o],c=a+u;if(e<=c&&l==i*3)return!0;r+=this.ranges[l+s]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],l=s-(this.inverted?o:0),a=s+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];e(l,l+u,a,a+c),o+=c-u}}invert(){return new vt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?vt.empty:new vt(e<0?[0,-e,0]:[0,0,e])}}vt.empty=new vt([]);class ai{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new ai(this.maps,this.mirror,e,n)}copy(){return new ai(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new ai;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],l=s.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(o);if(a!=null&&a>o&&a<this.to){o=a,e=this.maps[a].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new zu(e,i,null)}}const Sa=Object.create(null);class Ge{getMap(){return vt.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Sa[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Sa)throw new RangeError("Duplicate use of step JSON ID "+e);return Sa[e]=n,n.prototype.jsonID=e,n}}class Se{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Se(e,null)}static fail(e){return new Se(null,e)}static fromReplace(e,n,r,i){try{return Se.ok(e.replace(n,r,i))}catch(o){if(o instanceof tl)return Se.fail(o.message);throw o}}}function Gc(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Gc(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return A.fromArray(r)}class Ln extends Ge{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new j(Gc(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return Se.fromReplace(e,this.from,this.to,o)}invert(){return new rn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ln(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ln&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ln(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ln(n.from,n.to,e.markFromJSON(n.mark))}}Ge.jsonID("addMark",Ln);class rn extends Ge{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new j(Gc(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Se.fromReplace(e,this.from,this.to,r)}invert(){return new Ln(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new rn(n.pos,r.pos,this.mark)}merge(e){return e instanceof rn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new rn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new rn(n.from,n.to,e.markFromJSON(n.mark))}}Ge.jsonID("removeMark",rn);class jn extends Ge{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Se.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Se.fromReplace(e,this.pos,this.pos+1,new j(A.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new jn(this.pos,n.marks[i]);return new jn(this.pos,this.mark)}}return new xi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new jn(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new jn(n.pos,e.markFromJSON(n.mark))}}Ge.jsonID("addNodeMark",jn);class xi extends Ge{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Se.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Se.fromReplace(e,this.pos,this.pos+1,new j(A.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new jn(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new xi(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new xi(n.pos,e.markFromJSON(n.mark))}}Ge.jsonID("removeNodeMark",xi);class Oe extends Ge{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&_u(e,this.from,this.to)?Se.fail("Structure replace would overwrite content"):Se.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new vt([this.from,this.to-this.from,this.slice.size])}invert(e){return new Oe(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Oe(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Oe)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?j.empty:new j(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Oe(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?j.empty:new j(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Oe(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Oe(n.from,n.to,j.fromJSON(e,n.slice),!!n.structure)}}Ge.jsonID("replace",Oe);class Ae extends Ge{constructor(e,n,r,i,o,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=l}apply(e){if(this.structure&&(_u(e,this.from,this.gapFrom)||_u(e,this.gapTo,this.to)))return Se.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Se.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Se.fromReplace(e,this.from,this.to,r):Se.fail("Content does not fit in gap")}getMap(){return new vt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ae(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Ae(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ae(n.from,n.to,n.gapFrom,n.gapTo,j.fromJSON(e,n.slice),n.insert,!!n.structure)}}Ge.jsonID("replaceAround",Ae);function _u(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function Jv(t,e,n,r){let i=[],o=[],s,l;t.doc.nodesBetween(e,n,(a,u,c)=>{if(!a.isInline)return;let d=a.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,e),p=Math.min(u+a.nodeSize,n),h=r.addToSet(d);for(let y=0;y<d.length;y++)d[y].isInSet(h)||(s&&s.to==f&&s.mark.eq(d[y])?s.to=p:i.push(s=new rn(f,p,d[y])));l&&l.to==f?l.to=p:o.push(l=new Ln(f,p,r))}}),i.forEach(a=>t.step(a)),o.forEach(a=>t.step(a))}function qv(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;o++;let a=null;if(r instanceof Dl){let u=s.marks,c;for(;c=r.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(s.marks)&&(a=[r]):a=s.marks;if(a&&a.length){let u=Math.min(l+s.nodeSize,n);for(let c=0;c<a.length;c++){let d=a[c],f;for(let p=0;p<i.length;p++){let h=i[p];h.step==o-1&&d.eq(i[p].style)&&(f=h)}f?(f.to=u,f.step=o):i.push({style:d,from:Math.max(l,e),to:u,step:o})}}}),i.forEach(s=>t.step(new rn(s.from,s.to,s.style)))}function Cg(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),s=[],l=e+1;for(let a=0;a<o.childCount;a++){let u=o.child(a),c=l+u.nodeSize,d=r.matchType(u.type);if(!d)s.push(new Oe(l,c,j.empty));else{r=d;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||t.step(new rn(l,c,u.marks[f]));if(i&&u.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,h;for(;f=p.exec(u.text);)h||(h=new j(A.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),s.push(new Oe(l+f.index,l+f.index+f[0].length,h))}}l=c}if(!r.validEnd){let a=r.fillBefore(A.empty,!0);t.replace(l,l,new j(a,0,0))}for(let a=s.length-1;a>=0;a--)t.step(s[a])}function Qv(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Oi(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!Qv(i,o,s))break}return null}function Gv(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),l=i.after(o+1),a=s,u=l,c=A.empty,d=0;for(let h=o,y=!1;h>n;h--)y||r.index(h)>0?(y=!0,c=A.from(r.node(h).copy(c)),d++):a--;let f=A.empty,p=0;for(let h=o,y=!1;h>n;h--)y||i.after(h+1)<i.end(h)?(y=!0,f=A.from(i.node(h).copy(f)),p++):u++;t.step(new Ae(a,u,s,l,new j(c.append(f),d,p),c.size-d,!0))}function Yc(t,e,n=null,r=t){let i=Yv(t,e),o=i&&Xv(r,e);return o?i.map(Lf).concat({type:e,attrs:n}).concat(o.map(Lf)):null}function Lf(t){return{type:t,attrs:null}}function Yv(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function Xv(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let u=r;a&&u<i;u++)a=a.matchType(n.child(u).type);return!a||!a.validEnd?null:s}function Zv(t,e,n){let r=A.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=A.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Ae(i,o,i,o,new j(r,0,0),n.length,!0))}function ek(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,l)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&rk(t.doc,t.mapping.slice(o).map(l),r)){let a=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!p?a=!1:!f&&p&&(a=!0)}a===!1&&nk(t,s,l,o),Cg(t,t.mapping.slice(o).map(l,1),r,void 0,a===null);let u=t.mapping.slice(o),c=u.map(l,1),d=u.map(l+s.nodeSize,1);return t.step(new Ae(c,d,c+1,d-1,new j(A.from(r.create(i,null,s.marks)),0,0),1,!0)),a===!0&&tk(t,s,l,o),!1}})}function tk(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let s,l=/\r?\n|\r/g;for(;s=l.exec(i.text);){let a=t.mapping.slice(r).map(n+1+o+s.index);t.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function nk(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+o);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function rk(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function ik(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ae(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new j(A.from(s),0,0),1,!0))}function ui(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),h=r&&r[c+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let y=r&&r[c]||d;if(!d.canReplace(f+1,d.childCount)||!y.type.validContent(p))return!1}let l=i.indexAfter(o),a=r&&r[0];return i.node(o).canReplaceWith(l,l,a?a.type:i.node(o+1).type)}function ok(t,e,n=1,r){let i=t.doc.resolve(e),o=A.empty,s=A.empty;for(let l=i.depth,a=i.depth-n,u=n-1;l>a;l--,u--){o=A.from(i.node(l).copy(o));let c=r&&r[u];s=A.from(c?c.type.create(c.attrs,s):i.node(l).copy(s))}t.step(new Oe(e,e,new j(o.append(s),n,n),!0))}function tr(t,e){let n=t.resolve(e),r=n.index();return Eg(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Eg(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function Il(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,l=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),l++,s=r.node(i).maybeChild(l)):(o=r.node(i).maybeChild(l-1),s=r.node(i+1)),o&&!o.isTextblock&&Eg(o,s)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function sk(t,e,n){let r=new Oe(e-n,e+n,j.empty,!0);t.step(r)}function lk(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function Mg(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,a=r.index(s)+(l>0?1:0),u=r.node(s),c=!1;if(o==1)c=u.canReplace(a,a,i);else{let d=u.contentMatchAt(a).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(a,a,d[0])}if(c)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function Rl(t,e,n=e,r=j.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return Ng(i,o,r)?new Oe(e,n,r):new ak(i,o,r).fit()}function Ng(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class ak{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=A.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=A.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,l=i.depth;for(;s&&l&&o.childCount==1;)o=o.firstChild.content,s--,l--;let a=new j(o,s,l);return e>-1?new Ae(r.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new Oe(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=wa(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:u}=this.frontier[l],c,d=null;if(n==1&&(s?u.matchType(s.type)||(d=u.fillBefore(A.from(s),!1)):o&&a.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:l,parent:o,inject:d};if(n==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:l,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=wa(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new j(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=wa(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new j(Wi(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new j(Wi(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let y=0;y<o.length;y++)this.openFrontierNode(o[y]);let s=this.unplaced,l=r?r.content:s.content,a=s.openStart-e,u=0,c=[],{match:d,type:f}=this.frontier[n];if(i){for(let y=0;y<i.childCount;y++)c.push(i.child(y));d=d.matchFragment(i)}let p=l.size+e-(s.content.size-s.openEnd);for(;u<l.childCount;){let y=l.child(u),x=d.matchType(y.type);if(!x)break;u++,(u>1||a==0||y.content.size)&&(d=x,c.push(Tg(y.mark(f.allowedMarks(y.marks)),u==1?a:0,u==l.childCount?p:-1)))}let h=u==l.childCount;h||(p=-1),this.placed=Ui(this.placed,n,A.from(c)),this.frontier[n].match=d,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,x=l;y<p;y++){let m=x.lastChild;this.frontier.push({type:m.type,match:m.contentMatchAt(m.childCount)}),x=m.content}this.unplaced=h?e==0?j.empty:new j(Wi(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new j(Wi(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Ca(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Ca(e,n,i,r,o);if(s){for(let l=n-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],c=Ca(e,l,u,a,!0);if(!c||c.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ui(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ui(this.placed,this.depth,A.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(A.empty,!0);n.childCount&&(this.placed=Ui(this.placed,this.frontier.length,n))}}function Wi(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Wi(t.firstChild.content,e-1,n)))}function Ui(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ui(t.lastChild.content,e-1,n)))}function wa(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Tg(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Tg(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(A.empty,!0)))),t.copy(r)}function Ca(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let l=r.fillBefore(o.content,!0,s);return l&&!uk(n,o.content,s)?l:null}function uk(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function ck(t){return t.spec.defining||t.spec.definingForContent}function dk(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(Ng(i,o,r))return t.step(new Oe(e,n,r));let s=Og(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(i.depth+1);s.unshift(l);for(let f=i.depth,p=i.pos-1;f>0;f--,p--){let h=i.node(f).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;s.indexOf(f)>-1?l=f:i.before(f)==p&&s.splice(1,0,-f)}let a=s.indexOf(l),u=[],c=r.openStart;for(let f=r.content,p=0;;p++){let h=f.firstChild;if(u.push(h),p==r.openStart)break;f=h.content}for(let f=c-1;f>=0;f--){let p=u[f],h=ck(p.type);if(h&&!p.sameMarkup(i.node(Math.abs(l)-1)))c=f;else if(h||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+c+1)%(r.openStart+1),h=u[p];if(h)for(let y=0;y<s.length;y++){let x=s[(y+a)%s.length],m=!0;x<0&&(m=!1,x=-x);let g=i.node(x-1),v=i.index(x-1);if(g.canReplaceWith(v,v,h.type,h.marks))return t.replace(i.before(x),m?o.after(x):n,new j(bg(r.content,0,r.openStart,p),p,r.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let p=s[f];p<0||(e=i.before(p),n=o.after(p))}}function bg(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(bg(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(A.empty,!0))}return t}function fk(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=lk(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new j(A.from(r),0,0))}function pk(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=Og(r,i);for(let s=0;s<o.length;s++){let l=o[s],a=s==o.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function Og(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class ci extends Ge{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Se.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Se.fromReplace(e,this.pos,this.pos+1,new j(A.from(i),0,n.isLeaf?0:1))}getMap(){return vt.empty}invert(e){return new ci(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ci(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ci(n.pos,n.attr,n.value)}}Ge.jsonID("attr",ci);class Mo extends Ge{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Se.ok(r)}getMap(){return vt.empty}invert(e){return new Mo(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Mo(n.attr,n.value)}}Ge.jsonID("docAttr",Mo);let Si=class extends Error{};Si=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Si.prototype=Object.create(Error.prototype);Si.prototype.constructor=Si;Si.prototype.name="TransformError";class hk{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ai}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Si(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=j.empty){let i=Rl(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new j(A.from(r),0,0))}delete(e,n){return this.replace(e,n,j.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return dk(this,e,n,r),this}replaceRangeWith(e,n,r){return fk(this,e,n,r),this}deleteRange(e,n){return pk(this,e,n),this}lift(e,n){return Gv(this,e,n),this}join(e,n=1){return sk(this,e,n),this}wrap(e,n){return Zv(this,e,n),this}setBlockType(e,n=e,r,i=null){return ek(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return ik(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new ci(e,n,r)),this}setDocAttribute(e,n){return this.step(new Mo(e,n)),this}addNodeMark(e,n){return this.step(new jn(e,n)),this}removeNodeMark(e,n){if(!(n instanceof se)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new xi(e,n)),this}split(e,n=1,r){return ok(this,e,n,r),this}addMark(e,n,r){return Jv(this,e,n,r),this}removeMark(e,n,r){return qv(this,e,n,r),this}clearIncompatible(e,n,r){return Cg(this,e,n,r),this}}const Ea=Object.create(null);class q{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new mk(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=j.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:a,$to:u}=s[l],c=e.mapping.slice(o);e.replaceRange(c.map(a.pos),c.map(u.pos),l?j.empty:n),l==0&&_f(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:l}=i[o],a=e.mapping.slice(r),u=a.map(s.pos),c=a.map(l.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),_f(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new J(e):Br(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?Br(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Br(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Dt(e.node(0))}static atStart(e){return Br(e,e,0,0,1)||new Dt(e)}static atEnd(e){return Br(e,e,e.content.size,e.childCount,-1)||new Dt(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Ea[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Ea)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ea[e]=n,n.prototype.jsonID=e,n}getBookmark(){return J.between(this.$anchor,this.$head).getBookmark()}}q.prototype.visible=!0;class mk{constructor(e,n){this.$from=e,this.$to=n}}let jf=!1;function zf(t){!jf&&!t.parent.inlineContent&&(jf=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class J extends q{constructor(e,n=e){zf(e),zf(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return q.near(r);let i=e.resolve(n.map(this.anchor));return new J(i.parent.inlineContent?i:r,r)}replace(e,n=j.empty){if(super.replace(e,n),n==j.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof J&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ll(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new J(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=q.findFrom(n,r,!0)||q.findFrom(n,-r,!0);if(o)n=o.$head;else return q.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(q.findFrom(e,-r,!0)||q.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new J(e,n)}}q.jsonID("text",J);class Ll{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Ll(e.map(this.anchor),e.map(this.head))}resolve(e){return J.between(e.resolve(this.anchor),e.resolve(this.head))}}class W extends q{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?q.near(o):new W(o)}content(){return new j(A.from(this.node),0,0)}eq(e){return e instanceof W&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Xc(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new W(e.resolve(n.anchor))}static create(e,n){return new W(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}W.prototype.visible=!1;q.jsonID("node",W);class Xc{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Ll(r,r):new Xc(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&W.isSelectable(r)?new W(n):q.near(n)}}class Dt extends q{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=j.empty){if(n==j.empty){e.delete(0,e.doc.content.size);let r=q.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Dt(e)}map(e){return new Dt(e)}eq(e){return e instanceof Dt}getBookmark(){return gk}}q.jsonID("all",Dt);const gk={map(){return this},resolve(t){return new Dt(t)}};function Br(t,e,n,r,i,o=!1){if(e.inlineContent)return J.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let l=e.child(s);if(l.isAtom){if(!o&&W.isSelectable(l))return W.create(t,n-(i<0?l.nodeSize:0))}else{let a=Br(t,l,n+i,i<0?l.childCount:0,i,o);if(a)return a}n+=l.nodeSize*i}return null}function _f(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Oe||i instanceof Ae))return;let o=t.mapping.maps[r],s;o.forEach((l,a,u,c)=>{s==null&&(s=c)}),t.setSelection(q.near(t.doc.resolve(s),n))}const Ff=1,as=2,Bf=4;class yk extends hk{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Ff)&~as,this.storedMarks=null,this}get selectionSet(){return(this.updated&Ff)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=as,this}ensureMarks(e){return se.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&as)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~as,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||se.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(q.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Bf,this}get scrolledIntoView(){return(this.updated&Bf)>0}}function Vf(t,e){return!e||!t?t:t.bind(e)}class Ki{constructor(e,n,r){this.name=e,this.init=Vf(n.init,r),this.apply=Vf(n.apply,r)}}const vk=[new Ki("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Ki("selection",{init(t,e){return t.selection||q.atStart(e.doc)},apply(t){return t.selection}}),new Ki("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Ki("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Ma{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=vk.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ki(r.key,r.spec.state,r))})}}class ei{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let a=i?i[s].n:0,u=i?i[s].state:this,c=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,u,r);if(c&&r.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ei(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new yk(this)}static create(e){let n=new Ma(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ei(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Ma(this.schema,e.plugins),r=n.fields,i=new ei(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Ma(e.schema,e.plugins),o=new ei(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=Sr.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=q.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],u=a.spec.state;if(a.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[s.name]=u.fromJSON.call(a,e,n[l],o);return}}o[s.name]=s.init(e,o)}}),o}}function Pg(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Pg(i,e,{})),n[r]=i}return n}class jt{constructor(e){this.spec=e,this.props={},e.props&&Pg(e.props,this,this.props),this.key=e.key?e.key.key:Ag("plugin")}getState(e){return e[this.key]}}const Na=Object.create(null);function Ag(t){return t in Na?t+"$"+ ++Na[t]:(Na[t]=0,t+"$")}class nr{constructor(e="key"){this.key=Ag(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ze=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},No=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Fu=null;const fn=function(t,e,n){let r=Fu||(Fu=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},kk=function(){Fu=null},Ar=function(t,e,n,r){return n&&($f(t,e,n,r,-1)||$f(t,e,n,r,1))},xk=/^(img|br|input|textarea|hr)$/i;function $f(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:nn(t))){let o=t.parentNode;if(!o||o.nodeType!=1||_o(t)||xk.test(t.nodeName)||t.contentEditable=="false")return!1;e=ze(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?nn(t):0}else return!1}}function nn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Sk(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=nn(t)}else if(t.parentNode&&!_o(t))e=ze(t),t=t.parentNode;else return null}}function wk(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!_o(t))e=ze(t)+1,t=t.parentNode;else return null}}function Ck(t,e,n){for(let r=e==0,i=e==nn(t);r||i;){if(t==n)return!0;let o=ze(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==nn(t)}}function _o(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const jl=function(t){return t.focusNode&&Ar(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ur(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Ek(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Mk(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const ln=typeof navigator<"u"?navigator:null,Hf=typeof document<"u"?document:null,rr=ln&&ln.userAgent||"",Bu=/Edge\/(\d+)/.exec(rr),Dg=/MSIE \d/.exec(rr),Vu=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(rr),pt=!!(Dg||Vu||Bu),Kn=Dg?document.documentMode:Vu?+Vu[1]:Bu?+Bu[1]:0,qt=!pt&&/gecko\/(\d+)/i.test(rr);qt&&+(/Firefox\/(\d+)/.exec(rr)||[0,0])[1];const $u=!pt&&/Chrome\/(\d+)/.exec(rr),Je=!!$u,Ig=$u?+$u[1]:0,et=!pt&&!!ln&&/Apple Computer/.test(ln.vendor),wi=et&&(/Mobile\/\w+/.test(rr)||!!ln&&ln.maxTouchPoints>2),Nt=wi||(ln?/Mac/.test(ln.platform):!1),Nk=ln?/Win/.test(ln.platform):!1,Ht=/Android \d/.test(rr),Fo=!!Hf&&"webkitFontSmoothing"in Hf.documentElement.style,Tk=Fo?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function bk(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function cn(t,e){return typeof t=="number"?t:t[e]}function Ok(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Wf(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=No(s)){if(s.nodeType!=1)continue;let l=s,a=l==o.body,u=a?bk(o):Ok(l),c=0,d=0;if(e.top<u.top+cn(r,"top")?d=-(u.top-e.top+cn(i,"top")):e.bottom>u.bottom-cn(r,"bottom")&&(d=e.bottom-e.top>u.bottom-u.top?e.top+cn(i,"top")-u.top:e.bottom-u.bottom+cn(i,"bottom")),e.left<u.left+cn(r,"left")?c=-(u.left-e.left+cn(i,"left")):e.right>u.right-cn(r,"right")&&(c=e.right-u.right+cn(i,"right")),c||d)if(a)o.defaultView.scrollBy(c,d);else{let f=l.scrollLeft,p=l.scrollTop;d&&(l.scrollTop+=d),c&&(l.scrollLeft+=c);let h=l.scrollLeft-f,y=l.scrollTop-p;e={left:e.left-h,top:e.top-y,right:e.right-h,bottom:e.bottom-y}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function Pk(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(o,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,i=a.top;break}}return{refDOM:r,refTop:i,stack:Rg(t.dom)}}function Rg(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=No(r));return e}function Ak({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Lg(n,r==0?0:r-e)}function Lg(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let _r=null;function Dk(t){if(t.setActive)return t.setActive();if(_r)return t.focus(_r);let e=Rg(t);t.focus(_r==null?{get preventScroll(){return _r={preventScroll:!0},!0}}:void 0),_r||(_r=!1,Lg(e,0))}function jg(t,e){let n,r=2e8,i,o=0,s=e.top,l=e.top,a,u;for(let c=t.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=fn(c).getClientRects();else continue;for(let p=0;p<f.length;p++){let h=f[p];if(h.top<=s&&h.bottom>=l){s=Math.max(h.bottom,s),l=Math.min(h.top,l);let y=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(y<r){n=c,r=y,i=y&&n.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,c.nodeType==1&&y&&(o=d+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!a&&h.left<=e.left&&h.right>=e.left&&(a=c,u={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(o=d+1)}}return!n&&a&&(n=a,i=u,r=0),n&&n.nodeType==3?Ik(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:jg(n,i)}function Ik(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=Mn(r,1);if(o.top!=o.bottom&&Zc(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function Zc(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Rk(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Lk(t,e,n){let{node:r,offset:i}=jg(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function jk(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let l=t.docView.nearestDesc(o,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&(!s&&a.left>r.left||a.top>r.top?i=l.posBefore:(!s&&a.right<r.left||a.bottom<r.top)&&(i=l.posAfter),s=!0),!l.contentDOM&&i<0&&!l.node.isText)return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}o=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function zg(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let l=s.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(Zc(e,u))return zg(s,e,u)}}if((o=(o+1)%r)==i)break}return t}function zk(t,e){let n=t.dom.ownerDocument,r,i=0,o=Mk(n,e.left,e.top);o&&({node:r,offset:i}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=t.dom.getBoundingClientRect();if(!Zc(e,u)||(s=zg(t.dom,e,u),!s))return null}if(et)for(let u=s;r&&u;u=No(u))u.draggable&&(r=void 0);if(s=Rk(s,e),r){if(qt&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let u;Fo&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=jk(t,r,i,e))}l==null&&(l=Lk(t,s,e));let a=t.docView.nearestDesc(s,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function Uf(t){return t.top<t.bottom||t.left<t.right}function Mn(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Uf(r))return r}return Array.prototype.find.call(n,Uf)||t.getBoundingClientRect()}const _k=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function _g(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=Fo||qt;if(r.nodeType==3)if(s&&(_k.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let a=Mn(fn(r,i,i),n);if(qt&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Mn(fn(r,i-1,i-1),-1);if(u.top==a.top){let c=Mn(fn(r,i,i+1),-1);if(c.top!=a.top)return Fi(c,c.left<u.left)}}return a}else{let a=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(a--,c=1):n<0?a--:u++,Fi(Mn(fn(r,a,u),c),c<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==nn(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return Ta(a.getBoundingClientRect(),!1)}if(o==null&&i<nn(r)){let a=r.childNodes[i];if(a.nodeType==1)return Ta(a.getBoundingClientRect(),!0)}return Ta(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==nn(r))){let a=r.childNodes[i-1],u=a.nodeType==3?fn(a,nn(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return Fi(Mn(u,1),!1)}if(o==null&&i<nn(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?fn(a,0,s?0:1):a.nodeType==1?a:null:null;if(u)return Fi(Mn(u,-1),!0)}return Fi(Mn(r.nodeType==3?fn(r):r,-n),n>=0)}function Fi(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Ta(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Fg(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function Fk(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return Fg(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(o,!0);if(!l)break;if(l.node.isBlock){o=l.contentDOM||l.dom;break}o=l.dom.parentNode}let s=_g(t,i.pos,1);for(let l=o.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=fn(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let c=a[u];if(c.bottom>c.top+1&&(n=="up"?s.top-c.top>(c.bottom-s.top)*2:c.bottom-s.bottom>(s.bottom-c.top)*2))return!1}}return!0})}const Bk=/[\u0590-\u08ac]/;function Vk(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,l=t.domSelection();return!Bk.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?o:s:Fg(t,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:c,anchorOffset:d}=t.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:h,focusOffset:y}=t.domSelectionRange(),x=h&&!p.contains(h.nodeType==1?h:h.parentNode)||a==h&&u==y;try{l.collapse(c,d),a&&(a!=c||u!=d)&&l.extend&&l.extend(a,u)}catch{}return f!=null&&(l.caretBidiLevel=f),x})}let Kf=null,Jf=null,qf=!1;function $k(t,e,n){return Kf==e&&Jf==n?qf:(Kf=e,Jf=n,qf=n=="up"||n=="down"?Fk(t,e,n):Vk(t,e,n))}const It=0,Qf=1,hr=2,an=3;class Bo{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=It,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>ze(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.size;if(l>e||s instanceof Vg){i=e-o;break}o=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Bg&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?ze(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?ze(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,l=0;;l++){let a=this.children[l],u=s+a.size;if(i==-1&&e<=u){let c=s+a.border;if(e>=c&&n<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,c);e=s;for(let d=l;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=ze(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(u>n||l==this.children.length-1)){n=u;for(let c=l+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=ze(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let f=0,p=0;f<this.children.length;f++){let h=this.children[f],y=p+h.size;if(o>p&&s<y)return h.setSelection(e-p-h.border,n-p-h.border,r,i);p=y}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((qt||et)&&e==n){let{node:f,offset:p}=l;if(f.nodeType==3){if(c=!!(p&&f.nodeValue[p-1]==`
`),c&&p==f.nodeValue.length)for(let h=f,y;h;h=h.parentNode){if(y=h.nextSibling){y.nodeName=="BR"&&(l=a={node:y.parentNode,offset:ze(y)+1});break}let x=h.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let h=f.childNodes[p-1];c=h&&(h.nodeName=="BR"||h.contentEditable=="false")}}if(qt&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||c&&et)&&Ar(l.node,l.offset,u.anchorNode,u.anchorOffset)&&Ar(a.node,a.offset,u.focusNode,u.focusOffset))return;let d=!1;if((u.extend||e==n)&&!c){u.collapse(l.node,l.offset);try{e!=n&&u.extend(a.node,a.offset),d=!0}catch{}}if(!d){if(e>n){let p=l;l=a,a=p}let f=document.createRange();f.setEnd(a.node,a.offset),f.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let l=r+o.border,a=s-o.border;if(e>=l&&n<=a){this.dirty=e==r||n==s?hr:Qf,e==l&&n==a&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=an:o.markDirty(e-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?hr:an}r=s}this.dirty=hr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?hr:Qf;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class Bg extends Bo{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==It&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Hk extends Bo{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Dr extends Bo{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=Lr.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Dr(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&an||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=an&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=It){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=It}}slice(e,n,r){let i=Dr.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=Uu(o,n,s,r)),e>0&&(o=Uu(o,0,e,r));for(let l=0;l<o.length;l++)o[l].parent=i;return i.children=o,i}}class Jn extends Bo{constructor(e,n,r,i,o,s,l,a,u){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,o,s){let l=o.nodeViews[n.type.name],a,u=l&&l(n,o,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)},r,i),c=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=Lr.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=Wg(c,r,n),u?a=new Wk(e,n,r,i,c,d||null,f,u,o,s+1):n.isText?new zl(e,n,r,i,c,f,o):new Jn(e,n,r,i,c,d||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>A.empty)}return e}matchesNode(e,n,r){return this.dirty==It&&e.eq(this.node)&&Wu(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,l=o&&o.pos<0,a=new Kk(this,s&&s.node,e);Qk(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!d&&a.syncToMarks(c==this.node.childCount?se.none:this.node.child(c).marks,r,e),a.placeWidget(u,e,i)},(u,c,d,f)=>{a.syncToMarks(u.marks,r,e);let p;a.findNodeMatch(u,c,d,f)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(u,c,d,p,e)||a.updateNextNode(u,c,d,e,f,i)||a.addNode(u,c,d,e,i),i+=u.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==hr)&&(s&&this.protectLocalComposition(e,s),$g(this.contentDOM,this.children,e),wi&&Gk(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof J)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,l=Yk(this.node.content,s,r-n,i-n);return l<0?null:{node:o,pos:l,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new Hk(this,o,n,i);e.input.compositionNodes.push(s),this.children=Uu(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==an||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=It}updateOuterDeco(e){if(Wu(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Hg(this.dom,this.nodeDOM,Hu(this.outerDeco,this.node,n),Hu(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Gf(t,e,n,r,i){Wg(r,e,t);let o=new Jn(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class zl extends Jn{constructor(e,n,r,i,o,s,l){super(e,n,r,i,o,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==an||this.dirty!=It&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=It||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=It,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new zl(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=an)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Vg extends Bo{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==It&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Wk extends Jn{constructor(e,n,r,i,o,s,l,a,u,c){super(e,n,r,i,o,s,l,u,c),this.spec=a}update(e,n,r,i){if(this.dirty==an)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function $g(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],l=s.dom;if(l.parentNode==t){for(;l!=r;)r=Yf(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(s instanceof Dr){let a=r?r.previousSibling:t.lastChild;$g(s.contentDOM,s.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=Yf(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const io=function(t){t&&(this.nodeName=t)};io.prototype=Object.create(null);const mr=[new io];function Hu(t,e,n){if(t.length==0)return mr;let r=n?mr[0]:new io,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new io(s.nodeName));for(let l in s){let a=s[l];a!=null&&(n&&i.length==1&&i.push(r=new io(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return i}function Hg(t,e,n,r){if(n==mr&&r==mr)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],l=n[o];if(o){let a;l&&l.nodeName==s.nodeName&&i!=t&&(a=i.parentNode)&&a.nodeName.toLowerCase()==s.nodeName||(a=document.createElement(s.nodeName),a.pmIsDeco=!0,a.appendChild(i),l=mr[0]),i=a}Uk(i,l||mr[0],s)}return i}function Uk(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function Wg(t,e,n){return Hg(t,t,mr,Hu(e,n,t.nodeType!=1))}function Wu(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Yf(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Kk{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Jk(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=It,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let u=this.top.children[a];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=Dr.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==an&&s.dom==s.contentDOM&&(s.dirty=hr),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof Jn){let u=this.preMatch.matched.get(a);if(u!=null&&u!=o)return!1;let c=a.dom,d,f=this.isLocked(c)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=an&&Wu(n,a.outerDeco));if(!f&&a.update(e,n,r,i))return this.destroyBetween(this.index,l),a.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(a,e,n,r,i,s)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=hr,d.updateChildren(i,s+1),d.dirty=It),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let l=Jn.create(this.top,n,r,i,o,s);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,n,r,i,o){let s=Jn.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Bg(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Dr;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof zl)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((et||Je)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Vg(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Jk(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof Dr)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(i-1))break;--i,o.set(l,i),s.push(l)}}return{index:i,matched:o,matches:s.reverse()}}function qk(t,e){return t.type.side-e.type.side}function Qk(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let s=0,l=[],a=null;for(let u=0;;){let c,d;for(;s<i.length&&i[s].to==o;){let x=i[s++];x.widget&&(c?(d||(d=[c])).push(x):c=x)}if(c)if(d){d.sort(qk);for(let x=0;x<d.length;x++)n(d[x],u,!!a)}else n(c,u,!!a);let f,p;if(a)p=-1,f=a,a=null;else if(u<t.childCount)p=u,f=t.child(u++);else break;for(let x=0;x<l.length;x++)l[x].to<=o&&l.splice(x--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)l.push(i[s++]);let h=o+f.nodeSize;if(f.isText){let x=h;s<i.length&&i[s].from<x&&(x=i[s].from);for(let m=0;m<l.length;m++)l[m].to<x&&(x=l[m].to);x<h&&(a=f.cut(x-o),f=f.cut(0,x-o),h=x,p=-1)}else for(;s<i.length&&i[s].to<h;)s++;let y=f.isInline&&!f.isLeaf?l.filter(x=>!x.inline):l.slice();r(f,y,e.forChild(o,f),p),o=h}}function Gk(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Yk(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),l=o;if(o+=s.nodeSize,!s.isText)continue;let a=s.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;a+=u.text}if(o>=n){if(o>=r&&a.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?a.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function Uu(t,e,n,r,i){let o=[];for(let s=0,l=0;s<t.length;s++){let a=t[s],u=l,c=l+=a.size;u>=n||c<=e?o.push(a):(u<e&&o.push(a.slice(0,e-u,r)),i&&(o.push(i),i=void 0),c>n&&o.push(a.slice(n-u,a.size,r)))}return o}function ed(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),a,u;if(jl(n)){for(a=l;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&W.isSelectable(c)&&i.parent&&!(c.isInline&&Ck(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;u=new W(s==d?l:r.resolve(d))}}else{let c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;a=r.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<l.pos&&!o?1:-1;u=td(t,a,l,c)}return u}function Ug(t){return t.editable?t.hasFocus():Jg(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function yn(t,e=!1){let n=t.state.selection;if(Kg(t,n),!!Ug(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Je){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Ar(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Zk(t);else{let{anchor:r,head:i}=n,o,s;Xf&&!(n instanceof J)&&(n.$from.parent.inlineContent||(o=Zf(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=Zf(t,n.to))),t.docView.setSelection(r,i,t.root,e),Xf&&(o&&ep(o),s&&ep(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Xk(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Xf=et||Je&&Ig<63;function Zf(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(et&&i&&i.contentEditable=="false")return ba(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return ba(i);if(o)return ba(o)}}function ba(t){return t.contentEditable="true",et&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function ep(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Xk(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Ug(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Zk(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,ze(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&pt&&Kn<=11&&(r.disabled=!0,r.disabled=!1)}function Kg(t,e){if(e instanceof W){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(tp(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else tp(t)}function tp(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function td(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||J.between(e,n,r)}function np(t){return t.editable&&!t.hasFocus()?!1:Jg(t)}function Jg(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function ex(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Ar(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Ku(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&q.findFrom(o,e)}function bn(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function rp(t,e,n){let r=t.state.selection;if(r instanceof J)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return bn(t,new J(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Ku(t.state,e);return i&&i instanceof W?bn(t,i):!1}else if(!(Nt&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?W.isSelectable(o)?bn(t,new W(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Fo?bn(t,new J(t.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof W&&r.node.isInline)return bn(t,new J(e>0?r.$to:r.$from));{let i=Ku(t.state,e);return i?bn(t,i):!1}}}function ll(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function oo(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Fr(t,e){return e<0?tx(t):nx(t)}function tx(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(qt&&n.nodeType==1&&r<ll(n)&&oo(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(oo(l,-1))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(qg(n))break;{let l=n.previousSibling;for(;l&&oo(l,-1);)i=n.parentNode,o=ze(l),l=l.previousSibling;if(l)n=l,r=ll(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?Ju(t,n,r):i&&Ju(t,i,o)}function nx(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=ll(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(oo(l,1))o=n,s=++r;else break}else{if(qg(n))break;{let l=n.nextSibling;for(;l&&oo(l,1);)o=l.parentNode,s=ze(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=ll(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&Ju(t,o,s)}function qg(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function rx(t,e){for(;t&&e==t.childNodes.length&&!_o(t);)e=ze(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function ix(t,e){for(;t&&!e&&!_o(t);)e=ze(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Ju(t,e,n){if(e.nodeType!=3){let o,s;(s=rx(e,n))?(e=s,n=0):(o=ix(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(jl(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&yn(t)},50)}function ip(t,e){let n=t.state.doc.resolve(e);if(!(Je||Nk)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function op(t,e,n){let r=t.state.selection;if(r instanceof J&&!r.empty||n.indexOf("s")>-1||Nt&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Ku(t.state,e);if(s&&s instanceof W)return bn(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,l=r instanceof Dt?q.near(s,e):q.findFrom(s,e);return l?bn(t,l):!1}return!1}function sp(t,e){if(!(t.state.selection instanceof J))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function lp(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function ox(t){if(!et||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;lp(t,r,"true"),setTimeout(()=>lp(t,r,"false"),20)}return!1}function sx(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function lx(t,e){let n=e.keyCode,r=sx(e);if(n==8||Nt&&n==72&&r=="c")return sp(t,-1)||Fr(t,-1);if(n==46&&!e.shiftKey||Nt&&n==68&&r=="c")return sp(t,1)||Fr(t,1);if(n==13||n==27)return!0;if(n==37||Nt&&n==66&&r=="c"){let i=n==37?ip(t,t.state.selection.from)=="ltr"?-1:1:-1;return rp(t,i,r)||Fr(t,i)}else if(n==39||Nt&&n==70&&r=="c"){let i=n==39?ip(t,t.state.selection.from)=="ltr"?1:-1:1;return rp(t,i,r)||Fr(t,i)}else{if(n==38||Nt&&n==80&&r=="c")return op(t,-1,r)||Fr(t,-1);if(n==40||Nt&&n==78&&r=="c")return ox(t)||op(t,1,r)||Fr(t,1);if(r==(Nt?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Qg(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let s=t.someProp("clipboardSerializer")||Lr.fromSchema(t.state.schema),l=ty(),a=l.createElement("div");a.appendChild(s.serializeFragment(r,{document:l}));let u=a.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=ey[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=l.createElement(c[p]);for(;a.firstChild;)h.appendChild(a.firstChild);a.appendChild(h),d++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:f,slice:e}}function Gg(t,e,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!e)return null;let a=e&&(r||o||!n);if(a){if(t.someProp("transformPastedText",f=>{e=f(e,o||r,t)}),o)return e?new j(A.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):j.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)l=d;else{let f=i.marks(),{schema:p}=t.state,h=Lr.fromSchema(p);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let x=s.appendChild(document.createElement("p"));y&&x.appendChild(h.serializeNode(p.text(y,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=cx(n),Fo&&dx(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||ki.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!ax.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)l=fx(ap(l,+c[1],+c[2]),c[4]);else if(l=j.maxOpen(ux(l.content,i),!0),l.openStart||l.openEnd){let d=0,f=0;for(let p=l.content.firstChild;d<l.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=l.content.lastChild;f<l.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);l=ap(l,d,f)}return t.someProp("transformPasted",d=>{l=d(l,t)}),l}const ax=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ux(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(l=>{if(!s)return;let a=i.findWrapping(l.type),u;if(!a)return s=null;if(u=s.length&&o.length&&Xg(a,o,l,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=Zg(s[s.length-1],o.length));let c=Yg(l,a);s.push(c),i=i.matchType(c.type),o=a}}),s)return A.from(s)}return t}function Yg(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,A.from(t));return t}function Xg(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=Xg(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(A.from(Yg(n,t,i+1))))}}function Zg(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Zg(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(A.empty,!0);return t.copy(n.append(r))}function qu(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,l=s.content;return t.childCount>1&&(o=0),i<r-1&&(l=qu(l,e,n,r,i+1,o)),i>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(A.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function ap(t,e,n){return e<t.openStart&&(t=new j(qu(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new j(qu(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const ey={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let up=null;function ty(){return up||(up=document.implementation.createHTMLDocument("title"))}function cx(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=ty().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&ey[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function dx(t){let e=t.querySelectorAll(Je?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function fx(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=A.from(a.create(r[l+1],i)),o++,s++}return new j(i,o,s)}const tt={},nt={},px={touchstart:!0,touchmove:!0};class hx{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function mx(t){for(let e in tt){let n=tt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{yx(t,r)&&!nd(t,r)&&(t.editable||!(r.type in nt))&&n(t,r)},px[e]?{passive:!0}:void 0)}et&&t.dom.addEventListener("input",()=>null),Qu(t)}function zn(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function gx(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Qu(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>nd(t,r))})}function nd(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function yx(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function vx(t,e){!nd(t,e)&&tt[e.type]&&(t.editable||!(e.type in nt))&&tt[e.type](t,e)}nt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!ry(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ht&&Je&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),wi&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,ur(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||lx(t,n)?n.preventDefault():zn(t,"key")};nt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};nt.keypress=(t,e)=>{let n=e;if(ry(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Nt&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof J)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function _l(t){return{left:t.clientX,top:t.clientY}}function kx(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function rd(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,l=>s>o.depth?l(t,n,o.nodeAfter,o.before(s),i,!0):l(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function di(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function xx(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&W.isSelectable(r)?(di(t,new W(n)),!0):!1}function Sx(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof W&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(W.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(di(t,W.create(t.state.doc,i)),!0):!1}function wx(t,e,n,r,i){return rd(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?Sx(t,n):xx(t,n))}function Cx(t,e,n,r){return rd(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function Ex(t,e,n,r){return rd(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||Mx(t,n,r)}function Mx(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(di(t,J.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)di(t,J.create(r,l+1,l+1+s.content.size));else if(W.isSelectable(s))di(t,W.create(r,l));else continue;return!0}}function id(t){return al(t)}const ny=Nt?"metaKey":"ctrlKey";tt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=id(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&kx(n,t.input.lastClick)&&!n[ny]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(_l(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Nx(t,s,n,!!r)):(o=="doubleClick"?Cx:Ex)(t,s.pos,s.inside,n)?n.preventDefault():zn(t,"pointer"))};class Nx{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[ny],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,s=c.depth?c.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a&&a.dom.nodeType==1?a.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof W&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&qt&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),zn(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>yn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(_l(e))),this.updateAllowDefault(e),this.allowDefault||!n?zn(this.view,"pointer"):wx(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||et&&this.mightDrag&&!this.mightDrag.node.isAtom||Je&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(di(this.view,q.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):zn(this.view,"pointer")}move(e){this.updateAllowDefault(e),zn(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}tt.touchstart=t=>{t.input.lastTouch=Date.now(),id(t),zn(t,"pointer")};tt.touchmove=t=>{t.input.lastTouch=Date.now(),zn(t,"pointer")};tt.contextmenu=t=>id(t);function ry(t,e){return t.composing?!0:et&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Tx=Ht?5e3:-1;nt.compositionstart=nt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),al(t,!0),t.markCursor=null;else if(al(t),qt&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}iy(t,Tx)};nt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,iy(t,20))};function iy(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>al(t),e))}function oy(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Ox());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function bx(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=Sk(e.focusNode,e.focusOffset),r=wk(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function Ox(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function al(t,e=!1){if(!(Ht&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),oy(t),e||t.docView&&t.docView.dirty){let n=ed(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function Px(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const To=pt&&Kn<15||wi&&Tk<604;tt.copy=nt.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=To?null:n.clipboardData,s=r.content(),{dom:l,text:a}=Qg(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",a)):Px(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Ax(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Dx(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?bo(t,r.value,null,i,e):bo(t,r.textContent,r.innerHTML,i,e)},50)}function bo(t,e,n,r,i){let o=Gg(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,i,o||j.empty)))return!0;if(!o)return!1;let s=Ax(o),l=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function sy(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}nt.paste=(t,e)=>{let n=e;if(t.composing&&!Ht)return;let r=To?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&bo(t,sy(r),r.getData("text/html"),i,n)?n.preventDefault():Dx(t,n)};class ly{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const ay=Nt?"altKey":"ctrlKey";tt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(_l(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof W?i.to-1:i.to))){if(r&&r.mightDrag)s=W.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(s=W.create(t.state.doc,d.posBefore))}}let l=(s||t.state.selection).content(),{dom:a,text:u,slice:c}=Qg(t,l);(!n.dataTransfer.files.length||!Je||Ig>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(To?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",To||n.dataTransfer.setData("text/plain",u),t.dragging=new ly(c,!n[ay],s)};tt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};nt.dragover=nt.dragenter=(t,e)=>e.preventDefault();nt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(_l(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",h=>{s=h(s,t)}):s=Gg(t,sy(n.dataTransfer),To?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&!n[ay]);if(t.someProp("handleDrop",h=>h(t,n,s||j.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let a=s?Mg(t.state.doc,o.pos,s):o.pos;a==null&&(a=o.pos);let u=t.state.tr;if(l){let{node:h}=r;h?h.replace(u):u.deleteSelection()}let c=u.mapping.map(a),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(f))return;let p=u.doc.resolve(c);if(d&&W.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new W(p));else{let h=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((y,x,m,g)=>h=g),u.setSelection(td(t,p,u.doc.resolve(h)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};tt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&yn(t)},20))};tt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};tt.beforeinput=(t,e)=>{if(Je&&Ht&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,ur(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in nt)tt[t]=nt[t];function Oo(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class ul{constructor(e,n){this.toDOM=e,this.spec=n||wr,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Pt(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof ul&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Oo(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class qn{constructor(e,n){this.attrs=e,this.spec=n||wr}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Pt(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof qn&&Oo(this.attrs,e.attrs)&&Oo(this.spec,e.spec)}static is(e){return e.type instanceof qn}destroy(){}}class od{constructor(e,n){this.attrs=e,this.spec=n||wr}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Pt(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof od&&Oo(this.attrs,e.attrs)&&Oo(this.spec,e.spec)}destroy(){}}class Pt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Pt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Pt(e,e,new ul(n,r))}static inline(e,n,r,i){return new Pt(e,n,new qn(r,i))}static node(e,n,r,i){return new Pt(e,n,new od(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof qn}get widget(){return this.type instanceof ul}}const Vr=[],wr={};class Ce{constructor(e,n){this.local=e.length?e:Vr,this.children=n.length?n:Vr}static create(e,n){return n.length?cl(n,e,0,wr):We}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,r,i+l,o)}}map(e,n,r){return this==We||e.maps.length==0?this:this.mapInner(e,n,0,0,r||wr)}mapInner(e,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(n,a)?(s||(s=[])).push(a):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?Ix(this.children,s||[],e,n,r,i,o):s?new Ce(s.sort(Cr),Vr):We}add(e,n){return n.length?this==We?Ce.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((l,a)=>{let u=a+r,c;if(c=cy(n,l,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<a;)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(l,c,u+1):i.splice(o,0,a,a+l.nodeSize,cl(c,l,u+1,wr)),o+=3}});let s=uy(o?dy(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new Ce(s.length?this.local.concat(s).sort(Cr):this.local,i||this.children)}remove(e){return e.length==0||this==We?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,a=r[o+1]+n;for(let c=0,d;c<e.length;c++)(d=e[c])&&d.from>l&&d.to<a&&(e[c]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,l+1);u!=We?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Ce(i,r):We}forChild(e,n){if(this==We)return this;if(n.isLeaf)return Ce.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let o=e+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<s&&a.to>o&&a.type instanceof qn){let u=Math.max(o,a.from)-o,c=Math.min(s,a.to)-o;u<c&&(i||(i=[])).push(a.copy(u,c))}}if(i){let l=new Ce(i.sort(Cr),Vr);return r?new Dn([l,r]):l}return r||We}eq(e){if(this==e)return!0;if(!(e instanceof Ce)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return sd(this.localsInner(e))}localsInner(e){if(this==We)return Vr;if(e.inlineContent||!this.local.some(qn.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof qn||n.push(this.local[r]);return n}}Ce.empty=new Ce([],[]);Ce.removeOverlap=sd;const We=Ce.empty;class Dn{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,wr));return Dn.from(r)}forChild(e,n){if(n.isLeaf)return Ce.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=We&&(o instanceof Dn?r=r.concat(o.members):r.push(o))}return Dn.from(r)}eq(e){if(!(e instanceof Dn)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?sd(r?n:n.sort(Cr)):Vr}static from(e){switch(e.length){case 0:return We;case 1:return e[0];default:return new Dn(e.every(n=>n instanceof Ce)?e:e.reduce((n,r)=>n.concat(r instanceof Ce?r:r.members),[]))}}}function Ix(t,e,n,r,i,o,s){let l=t.slice();for(let u=0,c=o;u<n.maps.length;u++){let d=0;n.maps[u].forEach((f,p,h,y)=>{let x=y-h-(p-f);for(let m=0;m<l.length;m+=3){let g=l[m+1];if(g<0||f>g+c-d)continue;let v=l[m]+c-d;p>=v?l[m+1]=f<=v?-2:-1:f>=c&&x&&(l[m]+=x,l[m+1]+=x)}d+=x}),c=n.maps[u].map(c,-1)}let a=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){a=!0,l[u+1]=-1;continue}let c=n.map(t[u]+o),d=c-i;if(d<0||d>=r.content.size){a=!0;continue}let f=n.map(t[u+1]+o,-1),p=f-i,{index:h,offset:y}=r.content.findIndex(d),x=r.maybeChild(h);if(x&&y==d&&y+x.nodeSize==p){let m=l[u+2].mapInner(n,x,c+1,t[u]+o+1,s);m!=We?(l[u]=d,l[u+1]=p,l[u+2]=m):(l[u+1]=-2,a=!0)}else a=!0}if(a){let u=Rx(l,t,e,n,i,o,s),c=cl(u,r,0,s);e=c.local;for(let d=0;d<l.length;d+=3)l[d+1]<0&&(l.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let p=c.children[d];for(;f<l.length&&l[f]<p;)f+=3;l.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Ce(e.sort(Cr),l)}function uy(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Pt(i.from+e,i.to+e,i.type))}return n}function Rx(t,e,n,r,i,o,s){function l(a,u){for(let c=0;c<a.local.length;c++){let d=a.local[c].map(r,i,u);d?n.push(d):s.onRemove&&s.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)l(a.children[c+2],a.children[c]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+o+1);return n}function cy(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function dy(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function cl(t,e,n,r){let i=[],o=!1;e.forEach((l,a)=>{let u=cy(t,l,a+n);if(u){o=!0;let c=cl(u,l,n+a+1,r);c!=We&&i.push(a,a+l.nodeSize,c)}});let s=uy(o?dy(t):t,-n).sort(Cr);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new Ce(s,i):We}function Cr(t,e){return t.from-e.from||t.to-e.to}function sd(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),cp(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),cp(e,i,r.copy(o.from,r.to)));break}}}return e}function cp(t,e,n){for(;e<t.length&&Cr(n,t[e])>0;)e++;t.splice(e,0,n)}function Oa(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=We&&e.push(r)}),t.cursorWrapper&&e.push(Ce.create(t.state.doc,[t.cursorWrapper.deco])),Dn.from(e)}const Lx={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},jx=pt&&Kn<=11;class zx{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class _x{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new zx,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);pt&&Kn<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),jx&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Lx)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(np(this.view)){if(this.suppressingSelectionUpdates)return yn(this.view);if(pt&&Kn<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ar(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=No(o))n.add(o);for(let o=e.anchorNode;o;o=No(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&np(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,l=!1,a=[];if(e.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],a);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(l=!0))}if(qt&&a.length){let c=a.filter(d=>d.nodeName=="BR");if(c.length==2){let[d,f]=c;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of c){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||Vx(e,d)!=p)&&f.remove()}}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&jl(r)&&(u=ed(e))&&u.eq(q.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,yn(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),Fx(e)),this.handleDOMChange(o,s,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||yn(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let d=e.addedNodes[c];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(pt&&Kn<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=e.addedNodes[c];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let s=i&&i.parentNode==e.target?ze(i)+1:0,l=r.localPosFromDOM(e.target,s,-1),a=o&&o.parentNode==e.target?ze(o):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let dp=new WeakMap,fp=!1;function Fx(t){if(!dp.has(t)&&(dp.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=qt,fp)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),fp=!0}}function pp(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return Ar(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function Bx(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return pp(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?pp(t,n):null}function Vx(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function $x(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),u,c=a.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:a.anchorOffset}],jl(a)||u.push({node:a.focusNode,offset:a.focusOffset})),Je&&t.input.lastKeyCode===8)for(let x=o;x>i;x--){let m=r.childNodes[x-1],g=m.pmViewDesc;if(m.nodeName=="BR"&&!g){o=x;break}if(!g||g.size)break}let d=t.state.doc,f=t.someProp("domParser")||ki.fromSchema(t.state.schema),p=d.resolve(s),h=null,y=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Hx,context:p});if(u&&u[0].pos!=null){let x=u[0].pos,m=u[1]&&u[1].pos;m==null&&(m=x),h={anchor:x+s,head:m+s}}return{doc:y,sel:h,from:s,to:l}}function Hx(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(et&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||et&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Wx=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Ux(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let L=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,B=ed(t,L);if(B&&!t.state.selection.eq(B)){if(Je&&Ht&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",me=>me(t,ur(13,"Enter"))))return;let X=t.state.tr.setSelection(B);L=="pointer"?X.setMeta("pointer",!0):L=="key"&&X.scrollIntoView(),o&&X.setMeta("composition",o),t.dispatch(X)}return}let s=t.state.doc.resolve(e),l=s.sharedDepth(n);e=s.before(l+1),n=t.state.doc.resolve(n).after(l+1);let a=t.state.selection,u=$x(t,e,n),c=t.state.doc,d=c.slice(u.from,u.to),f,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,p="end"):(f=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let h=qx(d.content,u.doc.content,u.from,f,p);if((wi&&t.input.lastIOSEnter>Date.now()-225||Ht)&&i.some(L=>L.nodeType==1&&!Wx.test(L.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",L=>L(t,ur(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&a instanceof J&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))h={start:a.from,endA:a.to,endB:a.to};else{if(u.sel){let L=hp(t,t.state.doc,u.sel);if(L&&!L.eq(t.state.selection)){let B=t.state.tr.setSelection(L);o&&B.setMeta("composition",o),t.dispatch(B)}}return}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof J&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),pt&&Kn<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>u.from&&u.doc.textBetween(h.start-u.from-1,h.start-u.from+1)=="  "&&(h.start--,h.endA--,h.endB--);let y=u.doc.resolveNoCache(h.start-u.from),x=u.doc.resolveNoCache(h.endB-u.from),m=c.resolve(h.start),g=y.sameParent(x)&&y.parent.inlineContent&&m.end()>=h.endA,v;if((wi&&t.input.lastIOSEnter>Date.now()-225&&(!g||i.some(L=>L.nodeName=="DIV"||L.nodeName=="P"))||!g&&y.pos<u.doc.content.size&&!y.sameParent(x)&&(v=q.findFrom(u.doc.resolve(y.pos+1),1,!0))&&v.head==x.pos)&&t.someProp("handleKeyDown",L=>L(t,ur(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&Jx(c,h.start,h.endA,y,x)&&t.someProp("handleKeyDown",L=>L(t,ur(8,"Backspace")))){Ht&&Je&&t.domObserver.suppressSelectionUpdates();return}Je&&Ht&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),Ht&&!g&&y.start()!=x.start()&&x.parentOffset==0&&y.depth==x.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==h.endA&&(h.endB-=2,x=u.doc.resolveNoCache(h.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(L){return L(t,ur(13,"Enter"))})},20));let S=h.start,M=h.endA,N,O,R;if(g){if(y.pos==x.pos)pt&&Kn<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>yn(t),20)),N=t.state.tr.delete(S,M),O=c.resolve(h.start).marksAcross(c.resolve(h.endA));else if(h.endA==h.endB&&(R=Kx(y.parent.content.cut(y.parentOffset,x.parentOffset),m.parent.content.cut(m.parentOffset,h.endA-m.start()))))N=t.state.tr,R.type=="add"?N.addMark(S,M,R.mark):N.removeMark(S,M,R.mark);else if(y.parent.child(y.index()).isText&&y.index()==x.index()-(x.textOffset?0:1)){let L=y.parent.textBetween(y.parentOffset,x.parentOffset);if(t.someProp("handleTextInput",B=>B(t,S,M,L)))return;N=t.state.tr.insertText(L,S,M)}}if(N||(N=t.state.tr.replace(S,M,u.doc.slice(h.start-u.from,h.endB-u.from))),u.sel){let L=hp(t,N.doc,u.sel);L&&!(Je&&Ht&&t.composing&&L.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(L.head==S||L.head==N.mapping.map(M)-1)||pt&&L.empty&&L.head==S)&&N.setSelection(L)}O&&N.ensureMarks(O),o&&N.setMeta("composition",o),t.dispatch(N.scrollIntoView())}function hp(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:td(t,e.resolve(n.anchor),e.resolve(n.head))}function Kx(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,l,a;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(i.length==1&&o.length==0)l=i[0],s="add",a=c=>c.mark(l.addToSet(c.marks));else if(i.length==0&&o.length==1)l=o[0],s="remove",a=c=>c.mark(l.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(a(e.child(c)));if(A.from(u).eq(t))return{mark:l,type:s}}function Jx(t,e,n,r,i){if(n-e<=i.pos-r.pos||Pa(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let l=o.nodeAfter;return l!=null&&n==e+l.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(Pa(o,!0,!0));return!s.parent.isTextblock||s.pos>n||Pa(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Pa(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function qx(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let a=Math.max(0,o-Math.min(s,l));r-=s+a-o}if(s<o&&t.size<e.size){let a=r<=o&&r>=s?o-r:0;o-=a,o&&o<e.size&&mp(e.textBetween(o-1,o+1))&&(o+=a?1:-1),l=o+(l-s),s=o}else if(l<o){let a=r<=o&&r>=l?o-r:0;o-=a,o&&o<t.size&&mp(t.textBetween(o-1,o+1))&&(o+=a?1:-1),s=o+(s-l),l=o}return{start:o,endA:s,endB:l}}function mp(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class Qx{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new hx,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(xp),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=vp(this),yp(this),this.nodeViews=kp(this),this.docView=Gf(this.state.doc,gp(this),Oa(this),this.dom,this),this.domObserver=new _x(this,(r,i,o,s)=>Ux(this,r,i,o,s)),this.domObserver.start(),mx(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Qu(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(xp),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(oy(this),s=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=kp(this);Yx(p,this.nodeViews)&&(this.nodeViews=p,o=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&Qu(this),this.editable=vp(this),yp(this);let a=Oa(this),u=gp(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(e.doc,u,a);(d||!e.selection.eq(i.selection))&&(s=!0);let f=c=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Pk(this);if(s){this.domObserver.stop();let p=d&&(pt||Je)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Gx(i.selection,e.selection);if(d){let h=Je?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=bx(this)),(o||!this.docView.update(e.doc,u,a,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=Gf(e.doc,u,a,this.dom,this)),h&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&ex(this))?yn(this,p):(Kg(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&Ak(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof W){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Wf(this,n.getBoundingClientRect(),e)}else Wf(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new ly(e.slice,e.move,i<0?void 0:W.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(i=n?n(l):l))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let l=o[s].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(pt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Dk(this.dom),yn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return zk(this,e)}coordsAtPos(e,n=1){return _g(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return $k(this,n||this.state,e)}pasteHTML(e,n){return bo(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return bo(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(gx(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Oa(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,kk())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return vx(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return et&&this.root.nodeType===11&&Ek(this.dom.ownerDocument)==this.dom&&Bx(this,e)||e}domSelection(){return this.root.getSelection()}}function gp(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Pt.node(0,t.state.doc.content.size,e)]}function yp(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Pt.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function vp(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Gx(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function kp(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Yx(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function xp(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Yn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},dl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Xx=typeof navigator<"u"&&/Mac/.test(navigator.platform),Zx=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var _e=0;_e<10;_e++)Yn[48+_e]=Yn[96+_e]=String(_e);for(var _e=1;_e<=24;_e++)Yn[_e+111]="F"+_e;for(var _e=65;_e<=90;_e++)Yn[_e]=String.fromCharCode(_e+32),dl[_e]=String.fromCharCode(_e);for(var Aa in Yn)dl.hasOwnProperty(Aa)||(dl[Aa]=Yn[Aa]);function eS(t){var e=Xx&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Zx&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?dl:Yn)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const tS=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function nS(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))tS?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function rS(t){let e=Object.create(null);for(let n in t)e[nS(n)]=t[n];return e}function Da(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function iS(t){return new jt({props:{handleKeyDown:fy(t)}})}function fy(t){let e=rS(t);return function(n,r){let i=eS(r),o,s=e[Da(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[Da(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=Yn[r.keyCode])&&o!=i){let l=e[Da(o,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const oS=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function py(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const sS=(t,e,n)=>{let r=py(t,n);if(!r)return!1;let i=ld(r);if(!i){let s=r.blockRange(),l=s&&Oi(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&yy(t,i,e))return!0;if(r.parent.content.size==0&&(Ci(o,"end")||W.isSelectable(o))){let s=Rl(t.doc,r.before(),r.after(),j.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Ci(o,"end")?q.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):W.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},lS=(t,e,n)=>{let r=py(t,n);if(!r)return!1;let i=ld(r);return i?hy(t,i,e):!1},aS=(t,e,n)=>{let r=my(t,n);if(!r)return!1;let i=ad(r);return i?hy(t,i,e):!1};function hy(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let s=e.nodeAfter,l=s,a=e.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let c=l.firstChild;if(!c)return!1;l=c}let u=Rl(t.doc,o,a,j.empty);if(!u||u.from!=o||u instanceof Oe&&u.slice.size>=a-o)return!1;if(n){let c=t.tr.step(u);c.setSelection(J.create(c.doc,o)),n(c.scrollIntoView())}return!0}function Ci(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const uS=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=ld(r)}let s=o&&o.nodeBefore;return!s||!W.isSelectable(s)?!1:(e&&e(t.tr.setSelection(W.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function ld(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function my(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const cS=(t,e,n)=>{let r=my(t,n);if(!r)return!1;let i=ad(r);if(!i)return!1;let o=i.nodeAfter;if(yy(t,i,e))return!0;if(r.parent.content.size==0&&(Ci(o,"start")||W.isSelectable(o))){let s=Rl(t.doc,r.before(),r.after(),j.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Ci(o,"start")?q.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):W.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},dS=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=ad(r)}let s=o&&o.nodeAfter;return!s||!W.isSelectable(s)?!1:(e&&e(t.tr.setSelection(W.create(t.doc,o.pos)).scrollIntoView()),!0)};function ad(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const fS=(t,e)=>{let n=t.selection,r=n instanceof W,i;if(r){if(n.node.isTextblock||!tr(t.doc,n.from))return!1;i=n.from}else if(i=Il(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(W.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},pS=(t,e)=>{let n=t.selection,r;if(n instanceof W){if(n.node.isTextblock||!tr(t.doc,n.to))return!1;r=n.to}else if(r=Il(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},hS=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&Oi(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},mS=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function gy(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const gS=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=gy(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,s.createAndFill());a.setSelection(q.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},yS=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Dt||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=gy(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(s,o.createAndFill());l.setSelection(J.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},vS=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(ui(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Oi(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},kS=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(W.create(t.doc,i))),!0)};function xS(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||tr(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function yy(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(xS(t,e,n))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let d=e.pos+i.nodeSize,f=A.empty;for(let y=o.length-1;y>=0;y--)f=A.from(o[y].create(null,f));f=A.from(r.copy(f));let p=t.tr.step(new Ae(e.pos-1,d,e.pos,d,new j(f,1,0),o.length,!0)),h=d+2*o.length;tr(p.doc,h)&&p.join(h),n(p.scrollIntoView())}return!0}let a=q.findFrom(e,1),u=a&&a.$from.blockRange(a.$to),c=u&&Oi(u);if(c!=null&&c>=e.depth)return n&&n(t.tr.lift(u,c).scrollIntoView()),!0;if(l&&Ci(i,"start",!0)&&Ci(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let p=i,h=1;for(;!p.isTextblock;p=p.firstChild)h++;if(d.canReplace(d.childCount,d.childCount,p.content)){if(n){let y=A.empty;for(let m=f.length-1;m>=0;m--)y=A.from(f[m].copy(y));let x=t.tr.step(new Ae(e.pos-f.length,e.pos+i.nodeSize,e.pos+h,e.pos+i.nodeSize-h,new j(y,f.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function vy(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(J.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const SS=vy(-1),wS=vy(1);function CS(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=s&&Yc(s,t,e);return l?(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function Sp(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[o];n.doc.nodesBetween(s,l,(a,u)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)i=!0;else{let c=n.doc.resolve(u),d=c.index();i=c.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[s];o.setBlockType(l,a,t,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function ES(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=!1,a=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let c=n.doc.resolve(s.start-2);a=new rl(c,c,s.depth),s.endIndex<s.parent.childCount&&(s=new rl(i,n.doc.resolve(o.end(s.depth)),s.depth)),l=!0}let u=Yc(a,t,e,s);return u?(r&&r(MS(n.tr,s,u,l,t).scrollIntoView()),!0):!1}}function MS(t,e,n,r,i){let o=A.empty;for(let c=n.length-1;c>=0;c--)o=A.from(n[c].type.create(n[c].attrs,o));t.step(new Ae(e.start-(r?2:0),e.end,e.start,e.end,new j(o,0,0),n.length,!0));let s=0;for(let c=0;c<n.length;c++)n[c].type==i&&(s=c+1);let l=n.length-s,a=e.start+n.length-(r?2:0),u=e.parent;for(let c=e.startIndex,d=e.endIndex,f=!0;c<d;c++,f=!1)!f&&ui(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=u.child(c).nodeSize;return t}function NS(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?TS(e,n,t,o):bS(e,n,o):!0:!1}}function TS(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Ae(o-1,s,o,s,new j(A.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new rl(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const l=Oi(r);if(l==null)return!1;i.lift(r,l);let a=i.mapping.map(o,-1)-1;return tr(i.doc,a)&&i.join(a),e(i.scrollIntoView()),!0}function bS(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,h=n.endIndex-1,y=n.startIndex;h>y;h--)p-=i.child(h).nodeSize,r.delete(p-1,p+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(l?0:1),c+1,s.content.append(a?A.empty:A.from(i))))return!1;let d=o.pos,f=d+s.nodeSize;return r.step(new Ae(d-(l?1:0),f+(a?1:0),d+1,f-1,new j((l?A.empty:A.from(i.copy(A.empty))).append(a?A.empty:A.from(i.copy(A.empty))),l?0:1,a?0:1),l?0:1)),e(r.scrollIntoView()),!0}function OS(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let l=o.parent,a=l.child(s-1);if(a.type!=t)return!1;if(n){let u=a.lastChild&&a.lastChild.type==l.type,c=A.from(u?t.create():null),d=new j(A.from(t.create(null,A.from(l.type.create(null,c)))),u?3:1,0),f=o.start,p=o.end;n(e.tr.step(new Ae(f-(u?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}function Fl(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class Bl{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...c)=>{const d=a(...c)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l=[],a=!!e,u=e||o.tr,c=()=>(!a&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),l.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...y)=>{const x=this.buildProps(u,n),m=p(...y)(x);return l.push(m),d}])),run:c};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([a,u])=>[a,(...c)=>u(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l={tr:e,editor:i,view:s,state:Fl({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([a,u])=>[a,(...c)=>u(...c)(l)]))}};return l}}class PS{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function F(t,e,n){return t.config[e]===void 0&&t.parent?F(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?F(t.parent,e,n):null}):t.config[e]}function Vl(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function ky(t){const e=[],{nodeExtensions:n,markExtensions:r}=Vl(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage,extensions:i},a=F(s,"addGlobalAttributes",l);if(!a)return;a().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([f,p])=>{e.push({type:d,name:f,attribute:{...o,...p}})})})})}),i.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=F(s,"addAttributes",l);if(!a)return;const u=a();Object.entries(u).forEach(([c,d])=>{const f={...o,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:s.name,name:c,attribute:f})})}),e}function Ie(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Me(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const l=o?o.split(" "):[],a=r[i]?r[i].split(" "):[],u=l.filter(c=>!a.includes(c));r[i]=[...a,...u].join(" ")}else i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function Gu(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Me(n,r),{})}function xy(t){return typeof t=="function"}function Q(t,e=void 0,...n){return xy(t)?e?t.bind(e)(...n):t(...n):t}function AS(t={}){return Object.keys(t).length===0&&t.constructor===Object}function DS(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function wp(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):DS(n.getAttribute(s.name));return l==null?o:{...o,[s.name]:l}},{});return{...r,...i}}}}function Cp(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&AS(n)?!1:n!=null))}function IS(t,e){var n;const r=ky(t),{nodeExtensions:i,markExtensions:o}=Vl(t),s=(n=i.find(u=>F(u,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(i.map(u=>{const c=r.filter(m=>m.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((m,g)=>{const v=F(g,"extendNodeSchema",d);return{...m,...v?v(u):{}}},{}),p=Cp({...f,content:Q(F(u,"content",d)),marks:Q(F(u,"marks",d)),group:Q(F(u,"group",d)),inline:Q(F(u,"inline",d)),atom:Q(F(u,"atom",d)),selectable:Q(F(u,"selectable",d)),draggable:Q(F(u,"draggable",d)),code:Q(F(u,"code",d)),whitespace:Q(F(u,"whitespace",d)),defining:Q(F(u,"defining",d)),isolating:Q(F(u,"isolating",d)),attrs:Object.fromEntries(c.map(m=>{var g;return[m.name,{default:(g=m==null?void 0:m.attribute)===null||g===void 0?void 0:g.default}]}))}),h=Q(F(u,"parseHTML",d));h&&(p.parseDOM=h.map(m=>wp(m,c)));const y=F(u,"renderHTML",d);y&&(p.toDOM=m=>y({node:m,HTMLAttributes:Gu(m,c)}));const x=F(u,"renderText",d);return x&&(p.toText=x),[u.name,p]})),a=Object.fromEntries(o.map(u=>{const c=r.filter(x=>x.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((x,m)=>{const g=F(m,"extendMarkSchema",d);return{...x,...g?g(u):{}}},{}),p=Cp({...f,inclusive:Q(F(u,"inclusive",d)),excludes:Q(F(u,"excludes",d)),group:Q(F(u,"group",d)),spanning:Q(F(u,"spanning",d)),code:Q(F(u,"code",d)),attrs:Object.fromEntries(c.map(x=>{var m;return[x.name,{default:(m=x==null?void 0:x.attribute)===null||m===void 0?void 0:m.default}]}))}),h=Q(F(u,"parseHTML",d));h&&(p.parseDOM=h.map(x=>wp(x,c)));const y=F(u,"renderHTML",d);return y&&(p.toDOM=x=>y({mark:x,HTMLAttributes:Gu(x,c)})),[u.name,p]}));return new mg({topNode:s,nodes:l,marks:a})}function Ia(t,e){return e.nodes[t]||e.marks[t]||null}function Ep(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const RS=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,l)=>{var a,u;const c=((u=(a=i.type.spec).toText)===null||u===void 0?void 0:u.call(a,{node:i,pos:o,parent:s,index:l}))||i.textContent||"%leaf%";n+=c.slice(0,Math.max(0,r-o))}),n};function ud(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class $l{constructor(e){this.find=e.find,this.handler=e.handler}}const LS=(t,e)=>{if(ud(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function us(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:l}=t,{view:a}=n;if(a.composing)return!1;const u=a.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let c=!1;const d=RS(u)+o;return s.forEach(f=>{if(c)return;const p=LS(d,f.find);if(!p)return;const h=a.state.tr,y=Fl({state:a.state,transaction:h}),x={from:r-(p[0].length-o.length),to:i},{commands:m,chain:g,can:v}=new Bl({editor:n,state:y});f.handler({state:y,range:x,match:p,commands:m,chain:g,can:v})===null||!h.steps.length||(h.setMeta(l,{transform:h,from:r,to:i,text:o}),a.dispatch(h),c=!0)}),c}function jS(t){const{editor:e,rules:n}=t,r=new jt({state:{init(){return null},apply(i,o){const s=i.getMeta(r);if(s)return s;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{const{from:u,text:c}=l,d=u+c.length;us({editor:e,from:u,to:d,text:c,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,s,l){return us({editor:e,from:o,to:s,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&us({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?us({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function zS(t){return typeof t=="number"}class _S{constructor(e){this.find=e.find,this.handler=e.handler}}const FS=(t,e,n)=>{if(ud(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function BS(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:l}=t,{commands:a,chain:u,can:c}=new Bl({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(p,h)=>{if(!p.isTextblock||p.type.spec.code)return;const y=Math.max(r,h),x=Math.min(i,h+p.content.size),m=p.textBetween(y-h,x-h,void 0,"￼");FS(m,o.find,s).forEach(v=>{if(v.index===void 0)return;const S=y+v.index+1,M=S+v[0].length,N={from:n.tr.mapping.map(S),to:n.tr.mapping.map(M)},O=o.handler({state:n,range:N,match:v,commands:a,chain:u,can:c,pasteEvent:s,dropEvent:l});d.push(O)})}),d.every(p=>p!==null)}const VS=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function $S(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l=typeof DragEvent<"u"?new DragEvent("drop"):null;const a=({state:c,from:d,to:f,rule:p,pasteEvt:h})=>{const y=c.tr,x=Fl({state:c,transaction:y});if(!(!BS({editor:e,state:x,from:Math.max(d-1,0),to:f.b-1,rule:p,pasteEvent:h,dropEvent:l})||!y.steps.length))return l=typeof DragEvent<"u"?new DragEvent("drop"):null,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y};return n.map(c=>new jt({view(d){const f=p=>{var h;r=!((h=d.dom.parentElement)===null||h===void 0)&&h.contains(p.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(d,f)=>(o=r===d.dom.parentElement,l=f,!1),paste:(d,f)=>{var p;const h=(p=f.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return s=f,i=!!(h!=null&&h.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,p)=>{const h=d[0],y=h.getMeta("uiEvent")==="paste"&&!i,x=h.getMeta("uiEvent")==="drop"&&!o,m=h.getMeta("applyPasteRules"),g=!!m;if(!y&&!x&&!g)return;if(g){const{from:M,text:N}=m,O=M+N.length,R=VS(N);return a({rule:c,state:p,from:M,to:{b:O},pasteEvt:R})}const v=f.doc.content.findDiffStart(p.doc.content),S=f.doc.content.findDiffEnd(p.doc.content);if(!(!zS(v)||!S||v===S.b))return a({rule:c,state:p,from:v,to:S,pasteEvt:s})}}))}function HS(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class ti{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=ti.resolve(e),this.schema=IS(this.extensions,n),this.setupExtensions()}static resolve(e){const n=ti.sort(ti.flatten(e)),r=HS(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=F(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=F(r,"priority")||100,s=F(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Ia(n.name,this.schema)},i=F(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=ti.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:e,type:Ia(s.name,this.schema)},a=[],u=F(s,"addKeyboardShortcuts",l);let c={};if(s.type==="mark"&&F(s,"exitable",l)&&(c.ArrowRight=()=>un.handleExit({editor:e,mark:s})),u){const y=Object.fromEntries(Object.entries(u()).map(([x,m])=>[x,()=>m({editor:e})]));c={...c,...y}}const d=iS(c);a.push(d);const f=F(s,"addInputRules",l);Ep(s,e.options.enableInputRules)&&f&&r.push(...f());const p=F(s,"addPasteRules",l);Ep(s,e.options.enablePasteRules)&&p&&i.push(...p());const h=F(s,"addProseMirrorPlugins",l);if(h){const y=h();a.push(...y)}return a}).flat();return[jS({editor:e,rules:r}),...$S({editor:e,rules:i}),...o]}get attributes(){return ky(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Vl(this.extensions);return Object.fromEntries(n.filter(r=>!!F(r,"addNodeView")).map(r=>{const i=this.attributes.filter(a=>a.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Ie(r.name,this.schema)},s=F(r,"addNodeView",o);if(!s)return[];const l=(a,u,c,d)=>{const f=Gu(a,i);return s()({editor:e,node:a,getPos:c,decorations:d,HTMLAttributes:f,extension:r})};return[r.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Ia(e.name,this.schema)};e.type==="mark"&&(!((n=Q(F(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=F(e,"onBeforeCreate",r),o=F(e,"onCreate",r),s=F(e,"onUpdate",r),l=F(e,"onSelectionUpdate",r),a=F(e,"onTransaction",r),u=F(e,"onFocus",r),c=F(e,"onBlur",r),d=F(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),s&&this.editor.on("update",s),l&&this.editor.on("selectionUpdate",l),a&&this.editor.on("transaction",a),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}}function WS(t){return Object.prototype.toString.call(t).slice(8,-1)}function cs(t){return WS(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Hl(t,e){const n={...t};return cs(t)&&cs(e)&&Object.keys(e).forEach(r=>{cs(e[r])&&cs(t[r])?n[r]=Hl(t[r],e[r]):n[r]=e[r]}),n}class ht{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Q(F(this,"addOptions",{name:this.name}))),this.storage=Q(F(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ht(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Hl(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new ht({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Q(F(n,"addOptions",{name:n.name})),n.storage=Q(F(n,"addStorage",{name:n.name,options:n.options})),n}}function Sy(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let l="";return t.nodesBetween(r,i,(a,u,c,d)=>{var f;a.isBlock&&u>r&&(l+=o);const p=s==null?void 0:s[a.type.name];if(p)return c&&(l+=p({node:a,pos:u,parent:c,index:d,range:e})),!1;a.isText&&(l+=(f=a==null?void 0:a.text)===null||f===void 0?void 0:f.slice(Math.max(r,u)-u,i-u))}),l}function wy(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const US=ht.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new jt({key:new nr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(c=>c.$from.pos)),l=Math.max(...o.map(c=>c.$to.pos)),a=wy(n);return Sy(r,{from:s,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:a})}}})]}}),KS=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),JS=(t=!1)=>({commands:e})=>e.setContent("",t),qS=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(l,a)=>{if(l.type.isText)return;const{doc:u,mapping:c}=e,d=u.resolve(c.map(a)),f=u.resolve(c.map(a+l.nodeSize)),p=d.blockRange(f);if(!p)return;const h=Oi(p);if(l.type.isTextblock){const{defaultType:y}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,y)}(h||h===0)&&e.lift(p,h)})}),!0},QS=t=>e=>t(e),GS=()=>({state:t,dispatch:e})=>yS(t,e),YS=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new J(r.doc.resolve(s-1))),!0},XS=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const l=i.before(o),a=i.after(o);t.delete(l,a).scrollIntoView()}return!0}return!1},ZS=t=>({tr:e,state:n,dispatch:r})=>{const i=Ie(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const a=o.before(s),u=o.after(s);e.delete(a,u).scrollIntoView()}return!0}return!1},ew=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},tw=()=>({state:t,dispatch:e})=>oS(t,e),nw=()=>({commands:t})=>t.keyboardShortcut("Enter"),rw=()=>({state:t,dispatch:e})=>gS(t,e);function fl(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:ud(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Yu(t,e,n={}){return t.find(r=>r.type===e&&fl(r.attrs,n))}function iw(t,e,n={}){return!!Yu(t,e,n)}function cd(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=Yu([...r.node.marks],e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,l=o+1,a=s+r.node.nodeSize;for(Yu([...r.node.marks],e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&iw([...t.parent.child(l).marks],e,n);)a+=t.parent.child(l).nodeSize,l+=1;return{from:s,to:a}}function ir(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const ow=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=ir(t,r.schema),{doc:s,selection:l}=n,{$from:a,from:u,to:c}=l;if(i){const d=cd(a,o,e);if(d&&d.from<=u&&d.to>=c){const f=J.create(s,d.from,d.to);n.setSelection(f)}}return!0},sw=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function Cy(t){return t instanceof J}function gr(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function Ey(t,e=null){if(!e)return null;const n=q.atStart(t),r=q.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?J.create(t,gr(0,i,o),gr(t.content.size,i,o)):J.create(t,gr(e,i,o),gr(e,i,o))}function dd(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const lw=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{dd()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!Cy(n.state.selection))return s(),!0;const l=Ey(i.doc,t)||n.state.selection,a=n.state.selection.eq(l);return o&&(a||i.setSelection(l),a&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},aw=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),uw=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),My=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&My(r)}return t};function Mp(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return My(n)}function pl(t,e,n){n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{return Array.isArray(t)&&t.length>0?A.fromArray(t.map(s=>e.nodeFromJSON(s))):e.nodeFromJSON(t)}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),pl("",e,n)}if(i){let o=e,s=!1,l="";n.errorOnInvalidContent&&(o=new mg({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,l=typeof c=="string"?c:c.outerHTML,null)}]}})}));const a=ki.fromSchema(o),u=n.slice?a.parseSlice(Mp(t),n.parseOptions).content:a.parse(Mp(t),n.parseOptions);if(n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)});return u}return pl("",e,n)}function cw(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Oe||i instanceof Ae))return;const o=t.mapping.maps[r];let s=0;o.forEach((l,a,u,c)=>{s===0&&(s=c)}),t.setSelection(q.near(t.doc.resolve(s),n))}const dw=t=>!("type"in t),fw=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{var s;if(i){n={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;try{l=pl(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:o.options.enableContentCheck})}catch{return!1}let{from:a,to:u}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},c=!0,d=!0;if((dw(l)?l:[l]).forEach(h=>{h.check(),c=c?h.isText&&h.marks.length===0:!1,d=d?h.isBlock:!1}),a===u&&d){const{parent:h}=r.doc.resolve(a);h.isTextblock&&!h.type.spec.code&&!h.childCount&&(a-=1,u+=1)}let p;c?(Array.isArray(e)?p=e.map(h=>h.text||"").join(""):typeof e=="object"&&e&&e.text?p=e.text:p=e,r.insertText(p,a,u)):(p=l,r.replaceWith(a,u,p)),n.updateSelection&&cw(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:a,text:p}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:a,text:p})}return!0},pw=()=>({state:t,dispatch:e})=>fS(t,e),hw=()=>({state:t,dispatch:e})=>pS(t,e),mw=()=>({state:t,dispatch:e})=>sS(t,e),gw=()=>({state:t,dispatch:e})=>cS(t,e),yw=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Il(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},vw=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Il(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},kw=()=>({state:t,dispatch:e})=>lS(t,e),xw=()=>({state:t,dispatch:e})=>aS(t,e);function Ny(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Sw(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))dd()||Ny()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const ww=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=Sw(t).split(/-(?!$)/),s=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return a==null||a.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function Po(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?Ie(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),h=Math.min(i,f+d.nodeSize);l.push({node:d,from:p,to:h})});const a=i-r,u=l.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>fl(d.node.attrs,n,{strict:!1}));return o?!!u.length:u.reduce((d,f)=>d+f.to-f.from,0)>=a}const Cw=(t,e={})=>({state:n,dispatch:r})=>{const i=Ie(t,n.schema);return Po(n,i,e)?hS(n,r):!1},Ew=()=>({state:t,dispatch:e})=>vS(t,e),Mw=t=>({state:e,dispatch:n})=>{const r=Ie(t,e.schema);return NS(r)(e,n)},Nw=()=>({state:t,dispatch:e})=>mS(t,e);function Wl(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Np(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const Tw=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=Wl(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=Ie(t,r.schema)),l==="mark"&&(s=ir(t,r.schema)),i&&n.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.$from.pos,a.$to.pos,(u,c)=>{o&&o===u.type&&n.setNodeMarkup(c,void 0,Np(u.attrs,e)),s&&u.marks.length&&u.marks.forEach(d=>{s===d.type&&n.addMark(c,c+u.nodeSize,s.create(Np(d.attrs,e)))})})}),!0):!1},bw=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Ow=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),Pw=()=>({state:t,dispatch:e})=>uS(t,e),Aw=()=>({state:t,dispatch:e})=>dS(t,e),Dw=()=>({state:t,dispatch:e})=>kS(t,e),Iw=()=>({state:t,dispatch:e})=>wS(t,e),Rw=()=>({state:t,dispatch:e})=>SS(t,e);function Xu(t,e,n={},r={}){return pl(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const Lw=(t,e=!1,n={},r={})=>({editor:i,tr:o,dispatch:s,commands:l})=>{var a,u;const{doc:c}=o;if(n.preserveWhitespace!=="full"){const d=Xu(t,i.schema,n,{errorOnInvalidContent:(a=r.errorOnInvalidContent)!==null&&a!==void 0?a:i.options.enableContentCheck});return s&&o.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!e),!0}return s&&o.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:n,errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck})};function Ul(t,e){const n=ir(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,a=>{s.push(...a.marks)});const l=s.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function jw(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function zw(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function fd(t){return e=>zw(e.$from,t)}function _w(t,e){const n=Lr.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function Fw(t,e){const n={from:0,to:t.content.size};return Sy(t,n,e)}function Bw(t,e){const n=Ie(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,l=>{o.push(l)});const s=o.reverse().find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function Vw(t,e){const n=Wl(typeof e=="string"?e:e.name,t.schema);return n==="node"?Bw(t,e):n==="mark"?Ul(t,e):{}}function Ty(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t-1),s=cd(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function bs(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function Zu(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?ir(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>fl(d.attrs,n,{strict:!1}));let s=0;const l=[];if(i.forEach(({$from:d,$to:f})=>{const p=d.pos,h=f.pos;t.doc.nodesBetween(p,h,(y,x)=>{if(!y.isText&&!y.marks.length)return;const m=Math.max(p,x),g=Math.min(h,x+y.nodeSize),v=g-m;s+=v,l.push(...y.marks.map(S=>({mark:S,from:m,to:g})))})}),s===0)return!1;const a=l.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>fl(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),u=l.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,f)=>d+f.to-f.from,0);return(a>0?a+u:a)>=s}function $w(t,e,n={}){if(!e)return Po(t,null,n)||Zu(t,null,n);const r=Wl(e,t.schema);return r==="node"?Po(t,e,n):r==="mark"?Zu(t,e,n):!1}function Tp(t,e){const{nodeExtensions:n}=Vl(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Q(F(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function Hw(t){const e=t.type.createAndFill();return e?t.eq(e):!1}function Ww(t){return t instanceof W}function Uw(t,e,n){var r;const{selection:i}=e;let o=null;if(Cy(i)&&(o=i.$cursor),o){const l=(r=t.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:l,$to:a})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,a.pos,(c,d,f)=>{if(u)return!1;if(c.isInline){const p=!f||f.type.allowsMarkType(n),h=!!n.isInSet(c.marks)||!c.marks.some(y=>y.type.excludes(n));u=p&&h}return!u}),u})}const Kw=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:l}=o,a=ir(t,r.schema);if(i)if(s){const u=Ul(r,a);n.addStoredMark(a.create({...u,...e}))}else l.forEach(u=>{const c=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(c,d,(f,p)=>{const h=Math.max(p,c),y=Math.min(p+f.nodeSize,d);f.marks.find(m=>m.type===a)?f.marks.forEach(m=>{a===m.type&&n.addMark(h,y,a.create({...m.attrs,...e}))}):n.addMark(h,y,a.create(e))})});return Uw(r,n,a)},Jw=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),qw=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=Ie(t,n.schema);return o.isTextblock?i().command(({commands:s})=>Sp(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>Sp(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Qw=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=gr(t,0,r.content.size),o=W.create(r,i);e.setSelection(o)}return!0},Gw=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=J.atStart(r).from,l=J.atEnd(r).to,a=gr(i,s,l),u=gr(o,s,l),c=J.create(r,a,u);e.setSelection(c)}return!0},Yw=t=>({state:e,dispatch:n})=>{const r=Ie(t,e.schema);return OS(r)(e,n)};function bp(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const Xw=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:l,$to:a}=o,u=i.extensionManager.attributes,c=bs(u,l.node().type.name,l.node().attrs);if(o instanceof W&&o.node.isBlock)return!l.parentOffset||!ui(s,l.pos)?!1:(r&&(t&&bp(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(r){const d=a.parentOffset===a.parent.content.size;o instanceof J&&e.deleteSelection();const f=l.depth===0?void 0:jw(l.node(-1).contentMatchAt(l.indexAfter(-1)));let p=d&&f?[{type:f,attrs:c}]:void 0,h=ui(e.doc,e.mapping.map(l.pos),1,p);if(!p&&!h&&ui(e.doc,e.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(h=!0,p=f?[{type:f,attrs:c}]:void 0),h&&(e.split(e.mapping.map(l.pos),1,p),f&&!d&&!l.parentOffset&&l.parent.type!==f)){const y=e.mapping.map(l.before()),x=e.doc.resolve(y);l.node(-1).canReplaceWith(x.index(),x.index()+1,f)&&e.setNodeMarkup(e.mapping.map(l.before()),f)}t&&bp(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},Zw=t=>({tr:e,state:n,dispatch:r,editor:i})=>{var o;const s=Ie(t,n.schema),{$from:l,$to:a}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(a))return!1;const c=l.node(-1);if(c.type!==s)return!1;const d=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let x=A.empty;const m=l.index(-1)?1:l.index(-2)?2:3;for(let O=l.depth-m;O>=l.depth-3;O-=1)x=A.from(l.node(O).copy(x));const g=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,v=bs(d,l.node().type.name,l.node().attrs),S=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(v))||void 0;x=x.append(A.from(s.createAndFill(null,S)||void 0));const M=l.before(l.depth-(m-1));e.replace(M,l.after(-g),new j(x,4-m,0));let N=-1;e.doc.nodesBetween(M,e.doc.content.size,(O,R)=>{if(N>-1)return!1;O.isTextblock&&O.content.size===0&&(N=R+1)}),N>-1&&e.setSelection(J.near(e.doc.resolve(N))),e.scrollIntoView()}return!0}const f=a.pos===l.end()?c.contentMatchAt(0).defaultType:null,p=bs(d,c.type.name,c.attrs),h=bs(d,l.node().type.name,l.node().attrs);e.delete(l.pos,a.pos);const y=f?[{type:s,attrs:p},{type:f,attrs:h}]:[{type:s,attrs:p}];if(!ui(e.doc,l.pos,2))return!1;if(r){const{selection:x,storedMarks:m}=n,{splittableMarks:g}=i.extensionManager,v=m||x.$to.parentOffset&&x.$from.marks();if(e.split(l.pos,2,y).scrollIntoView(),!v||!r)return!0;const S=v.filter(M=>g.includes(M.type.name));e.ensureMarks(S)}return!0},Ra=(t,e)=>{const n=fd(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&tr(t.doc,n.pos)&&t.join(n.pos),!0},La=(t,e)=>{const n=fd(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&tr(t.doc,r)&&t.join(r),!0},eC=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:l,chain:a,commands:u,can:c})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,p=Ie(t,s.schema),h=Ie(e,s.schema),{selection:y,storedMarks:x}=s,{$from:m,$to:g}=y,v=m.blockRange(g),S=x||y.$to.parentOffset&&y.$from.marks();if(!v)return!1;const M=fd(N=>Tp(N.type.name,d))(y);if(v.depth>=1&&M&&v.depth-M.depth<=1){if(M.node.type===p)return u.liftListItem(h);if(Tp(M.node.type.name,d)&&p.validContent(M.node.content)&&l)return a().command(()=>(o.setNodeMarkup(M.pos,p),!0)).command(()=>Ra(o,p)).command(()=>La(o,p)).run()}return!n||!S||!l?a().command(()=>c().wrapInList(p,r)?!0:u.clearNodes()).wrapInList(p,r).command(()=>Ra(o,p)).command(()=>La(o,p)).run():a().command(()=>{const N=c().wrapInList(p,r),O=S.filter(R=>f.includes(R.type.name));return o.ensureMarks(O),N?!0:u.clearNodes()}).wrapInList(p,r).command(()=>Ra(o,p)).command(()=>La(o,p)).run()},tC=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=ir(t,r.schema);return Zu(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},nC=(t,e,n={})=>({state:r,commands:i})=>{const o=Ie(t,r.schema),s=Ie(e,r.schema);return Po(r,o,n)?i.setNode(s):i.setNode(o,n)},rC=(t,e={})=>({state:n,commands:r})=>{const i=Ie(t,n.schema);return Po(n,i,e)?r.lift(i):r.wrapIn(i,e)},iC=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,l=o.transform;for(let a=l.steps.length-1;a>=0;a-=1)s.step(l.steps[a].invert(l.docs[a]));if(o.text){const a=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,a))}else s.delete(o.from,o.to)}return!0}}return!1},oC=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},sC=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:l}=n,a=ir(t,r.schema),{$from:u,empty:c,ranges:d}=l;if(!i)return!0;if(c&&s){let{from:f,to:p}=l;const h=(o=u.marks().find(x=>x.type===a))===null||o===void 0?void 0:o.attrs,y=cd(u,a,h);y&&(f=y.from,p=y.to),n.removeMark(f,p,a)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,a)});return n.removeStoredMark(a),!0},lC=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=Wl(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=Ie(t,r.schema)),l==="mark"&&(s=ir(t,r.schema)),i&&n.selection.ranges.forEach(a=>{const u=a.$from.pos,c=a.$to.pos;r.doc.nodesBetween(u,c,(d,f)=>{o&&o===d.type&&n.setNodeMarkup(f,void 0,{...d.attrs,...e}),s&&d.marks.length&&d.marks.forEach(p=>{if(s===p.type){const h=Math.max(f,u),y=Math.min(f+d.nodeSize,c);n.addMark(h,y,s.create({...p.attrs,...e}))}})})}),!0):!1},aC=(t,e={})=>({state:n,dispatch:r})=>{const i=Ie(t,n.schema);return CS(i,e)(n,r)},uC=(t,e={})=>({state:n,dispatch:r})=>{const i=Ie(t,n.schema);return ES(i,e)(n,r)};var cC=Object.freeze({__proto__:null,blur:KS,clearContent:JS,clearNodes:qS,command:QS,createParagraphNear:GS,cut:YS,deleteCurrentNode:XS,deleteNode:ZS,deleteRange:ew,deleteSelection:tw,enter:nw,exitCode:rw,extendMarkRange:ow,first:sw,focus:lw,forEach:aw,insertContent:uw,insertContentAt:fw,joinBackward:mw,joinDown:hw,joinForward:gw,joinItemBackward:yw,joinItemForward:vw,joinTextblockBackward:kw,joinTextblockForward:xw,joinUp:pw,keyboardShortcut:ww,lift:Cw,liftEmptyBlock:Ew,liftListItem:Mw,newlineInCode:Nw,resetAttributes:Tw,scrollIntoView:bw,selectAll:Ow,selectNodeBackward:Pw,selectNodeForward:Aw,selectParentNode:Dw,selectTextblockEnd:Iw,selectTextblockStart:Rw,setContent:Lw,setMark:Kw,setMeta:Jw,setNode:qw,setNodeSelection:Qw,setTextSelection:Gw,sinkListItem:Yw,splitBlock:Xw,splitListItem:Zw,toggleList:eC,toggleMark:tC,toggleNode:nC,toggleWrap:rC,undoInputRule:iC,unsetAllMarks:oC,unsetMark:sC,updateAttributes:lC,wrapIn:aC,wrapInList:uC});const dC=ht.create({name:"commands",addCommands(){return{...cC}}}),fC=ht.create({name:"editable",addProseMirrorPlugins(){return[new jt({key:new nr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),pC=ht.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new jt({key:new nr("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),hC=ht.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:a,doc:u}=l,{empty:c,$anchor:d}=a,{pos:f,parent:p}=d,h=d.parent.isTextblock&&f>0?l.doc.resolve(f-1):d,y=h.parent.type.spec.isolating,x=d.pos-d.parentOffset,m=y&&h.parent.childCount===1?x===d.pos:q.atStart(u).from===f;return!c||!p.type.isTextblock||p.textContent.length||!m||m&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return dd()||Ny()?o:i},addProseMirrorPlugins(){return[new jt({key:new nr("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(h=>h.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:i,from:o,to:s}=e.selection,l=q.atStart(e.doc).from,a=q.atEnd(e.doc).to;if(i||!(o===l&&s===a)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const d=n.tr,f=Fl({state:n,transaction:d}),{commands:p}=new Bl({editor:this.editor,state:f});if(p.clearNodes(),!!d.steps.length)return d}})]}}),mC=ht.create({name:"tabindex",addProseMirrorPlugins(){return[new jt({key:new nr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class cr{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new cr(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new cr(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new cr(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=this.pos+r+1,s=this.resolvedPos.doc.resolve(o);if(!i&&s.depth<=this.depth)return;const l=new cr(s,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new cr(s,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const o=i.node.attrs,s=Object.keys(n);for(let l=0;l<s.length;l+=1){const a=s[l];if(o[a]!==n[a])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===e&&o.every(a=>n[a]===s.node.attrs[a])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(e,n,r))))}),i}setAttribute(e){const n=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(n.from).run()}}const gC=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function yC(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}let vC=class extends PS{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n}},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=yC(gC,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=xy(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[fC,US.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),dC,pC,hC,mC]:[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new ti(i,this)}createCommandManager(){this.commandManager=new Bl({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=Xu(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.options.extensions=this.options.extensions.filter(s=>s.name!=="collaboration"),this.createExtensionManager()}}),e=Xu(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=Ey(e,this.options.autofocus);this.view=new Qx(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:ei.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Vw(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return $w(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return _w(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return Fw(this.state.doc,{blockSeparator:n,textSerializers:{...wy(this.schema),...r}})}get isEmpty(){return Hw(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new cr(n,this)}get $doc(){return this.$pos(0)}};function Ei(t){return new $l({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Q(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],l=r[0];if(s){const a=l.search(/\S/),u=n.from+l.indexOf(s),c=u+s.length;if(Ty(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(y=>y===t.type&&y!==p.mark.type)).filter(p=>p.to>u).length)return null;c<n.to&&o.delete(c,n.to),u>n.from&&o.delete(n.from+a,u);const f=n.from+a+s.length;o.addMark(n.from+a,f,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function kC(t){return new $l({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Q(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let l=n.to;const a=t.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let c=s+u;c>l?c=l:l=c+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,s+r[0].length-1),o.replaceWith(c,l,a)}else if(r[0]){const u=t.type.isInline?s:s-1;o.insert(u,t.type.create(i)).delete(o.mapping.map(s),o.mapping.map(l))}o.scrollIntoView()}})}function ec(t){return new $l({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=Q(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function Ao(t){return new $l({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=Q(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),a=s.doc.resolve(n.from).blockRange(),u=a&&Yc(a,t.type,o);if(!u)return null;if(s.wrap(a,u),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:p}=t.editor.extensionManager,h=f||d.$to.parentOffset&&d.$from.marks();if(h){const y=h.filter(x=>p.includes(x.type.name));s.ensureMarks(y)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}const c=s.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&tr(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,c))&&s.join(n.from-1)}})}class un{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Q(F(this,"addOptions",{name:this.name}))),this.storage=Q(F(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new un(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Hl(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new un(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Q(F(n,"addOptions",{name:n.name})),n.storage=Q(F(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const a=s.find(u=>(u==null?void 0:u.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}class Qe{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Q(F(this,"addOptions",{name:this.name}))),this.storage=Q(F(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Qe(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Hl(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Qe(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Q(F(n,"addOptions",{name:n.name})),n.storage=Q(F(n,"addStorage",{name:n.name,options:n.options})),n}}function Mi(t){return new _S({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=Q(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=e,l=r[r.length-1],a=r[0];let u=n.to;if(l){const c=a.search(/\S/),d=n.from+a.indexOf(l),f=d+l.length;if(Ty(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(x=>x===t.type&&x!==h.mark.type)).filter(h=>h.to>d).length)return null;f<n.to&&s.delete(f,n.to),d>n.from&&s.delete(n.from+c,d),u=n.from+c+l.length,s.addMark(n.from+c,u,t.type.create(o||{})),s.removeStoredMark(t.type)}}})}const xC=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},SC=({renderers:t})=>Ue.createElement(Ue.Fragment,null,Object.entries(t).map(([e,n])=>fv.createPortal(n.reactElement,n.element,e)));class wC extends Ue.Component{constructor(e){super(e),this.editorContentRef=Ue.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?Al.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[e],{renderers:r}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return Ue.createElement(Ue.Fragment,null,Ue.createElement("div",{ref:xC(n,this.editorContentRef),...r}),Ue.createElement(SC,{renderers:this.state.renderers}))}}const CC=G.forwardRef((t,e)=>{const n=Ue.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ue.createElement(wC,{key:n,innerRef:e,...t})}),EC=Ue.memo(CC);class ds extends vC{constructor(){super(...arguments),this.contentComponent=null}}var by={exports:{}},ja={},za={exports:{}},_a={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function MC(){if(Op)return _a;Op=1;var t=Ue;function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function l(d,f){var p=f(),h=r({inst:{value:p,getSnapshot:f}}),y=h[0].inst,x=h[1];return o(function(){y.value=p,y.getSnapshot=f,a(y)&&x({inst:y})},[d,p,f]),i(function(){return a(y)&&x({inst:y}),d(function(){a(y)&&x({inst:y})})},[d]),s(p),p}function a(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!n(d,p)}catch{return!0}}function u(d,f){return f()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return _a.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:c,_a}var Pp;function NC(){return Pp||(Pp=1,za.exports=MC()),za.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function TC(){if(Ap)return ja;Ap=1;var t=Ue,e=NC();function n(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,l=t.useMemo,a=t.useDebugValue;return ja.useSyncExternalStoreWithSelector=function(u,c,d,f,p){var h=o(null);if(h.current===null){var y={hasValue:!1,value:null};h.current=y}else y=h.current;h=l(function(){function m(N){if(!g){if(g=!0,v=N,N=f(N),p!==void 0&&y.hasValue){var O=y.value;if(p(O,N))return S=O}return S=N}if(O=S,r(v,N))return O;var R=f(N);return p!==void 0&&p(O,R)?O:(v=N,S=R)}var g=!1,v,S,M=d===void 0?null:d;return[function(){return m(c())},M===null?void 0:function(){return m(M())}]},[c,d,f,p]);var x=i(u,h[0],h[1]);return s(function(){y.hasValue=!0,y.value=x},[x]),a(x),x},ja}by.exports=TC();var bC=by.exports;function OC(t){let e=0,n=0,r={editor:t,transactionNumber:0},i=t;const o=new Set;return{getSnapshot(){return e===n||(n=e,r={editor:i,transactionNumber:e}),r},getServerSnapshot(){return{editor:null,transactionNumber:0}},subscribe(l){return o.add(l),()=>{o.delete(l)}},watch(l){if(i=l,i){const a=()=>{e+=1,o.forEach(c=>c())},u=i;return u.on("transaction",a),()=>{u.off("transaction",a)}}}}}function PC(t){const[e]=G.useState(()=>OC(t.editor)),n=bC.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getServerSnapshot,t.selector,t.equalityFn);return G.useEffect(()=>e.watch(t.editor),[t.editor]),G.useDebugValue(n),n}const AC=!1,tc=typeof window>"u",DC=tc||!!(typeof window<"u"&&window.next);function IC(t={},e=[]){const n=G.useRef(!1),[r,i]=G.useState(()=>{if(t.immediatelyRender===void 0)return tc||DC?null:new ds(t);if(t.immediatelyRender&&tc&&AC)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return t.immediatelyRender?new ds(t):null});G.useDebugValue(r),G.useEffect(()=>{let O=r;O?Array.isArray(e)&&e.length?(O=new ds(t),i(O)):O.setOptions(t):(O=new ds(t),i(O))},e);const{onBeforeCreate:o,onBlur:s,onCreate:l,onDestroy:a,onFocus:u,onSelectionUpdate:c,onTransaction:d,onUpdate:f,onContentError:p}=t,h=G.useRef(o),y=G.useRef(s),x=G.useRef(l),m=G.useRef(a),g=G.useRef(u),v=G.useRef(c),S=G.useRef(d),M=G.useRef(f),N=G.useRef(p);return G.useEffect(()=>{r&&(o&&(r.off("beforeCreate",h.current),r.on("beforeCreate",o),h.current=o),s&&(r.off("blur",y.current),r.on("blur",s),y.current=s),l&&(r.off("create",x.current),r.on("create",l),x.current=l),a&&(r.off("destroy",m.current),r.on("destroy",a),m.current=a),u&&(r.off("focus",g.current),r.on("focus",u),g.current=u),c&&(r.off("selectionUpdate",v.current),r.on("selectionUpdate",c),v.current=c),d&&(r.off("transaction",S.current),r.on("transaction",d),S.current=d),f&&(r.off("update",M.current),r.on("update",f),M.current=f),p&&(r.off("contentError",N.current),r.on("contentError",p),N.current=p))},[o,s,l,a,u,c,d,f,p,r]),G.useEffect(()=>(n.current=!0,()=>{n.current=!1,r&&setTimeout(()=>{!n.current&&!r.isDestroyed&&r.destroy()})}),[]),PC({editor:r,selector:({transactionNumber:O})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&O===0?0:O+1}),r}const RC=G.createContext({editor:null});RC.Consumer;const LC=G.createContext({onDragStart:void 0}),jC=()=>G.useContext(LC);Ue.forwardRef((t,e)=>{const{onDragStart:n}=jC(),r=t.as||"div";return Ue.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const zC=/^\s*>\s$/,_C=Qe.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ao({find:zC,type:this.type})]}}),FC=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,BC=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,VC=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,$C=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,HC=un.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ei({find:FC,type:this.type}),Ei({find:VC,type:this.type})]},addPasteRules(){return[Mi({find:BC,type:this.type}),Mi({find:$C,type:this.type})]}}),WC=Qe.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Me(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Dp=un.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Ul(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),Ip=/^\s*([-+*])\s$/,Oy=Qe.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(WC.name,this.editor.getAttributes(Dp.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Ao({find:Ip,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ao({find:Ip,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Dp.name),editor:this.editor})),[t]}}),UC=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,KC=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,JC=un.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ei({find:UC,type:this.type})]},addPasteRules(){return[Mi({find:KC,type:this.type})]}}),qC=/^```([a-z]+)?[\s\n]$/,QC=/^~~~([a-z]+)?[\s\n]$/,GC=Qe.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Me(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0||r.nodeAt(l)?!1:t.commands.exitCode()}}},addInputRules(){return[ec({find:qC,type:this.type,getAttributes:t=>({language:t[1]})}),ec({find:QC,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new jt({key:new nr("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s,schema:l}=t.state,a=l.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:o},a)),s.selection.$from.parent.type!==this.type&&s.setSelection(J.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),YC=Qe.create({name:"doc",topNode:!0,content:"block+"});function XC(t={}){return new jt({view(e){return new ZC(e,t)}})}class ZC{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let l=e.nodeBefore,a=e.nodeAfter;if(l||a){let u=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(u){let c=u.getBoundingClientRect(),d=l?c.bottom:c.top;l&&a&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:c.left,right:c.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let l=i.getBoundingClientRect();o=l.left-i.scrollLeft,s=l.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=Mg(this.editorView.state.doc,s,this.editorView.dragging.slice);l!=null&&(s=l)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const eE=ht.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[XC(this.options)]}});class ve extends q{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return ve.valid(r)?new ve(r):q.near(r)}content(){return j.empty}eq(e){return e instanceof ve&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ve(e.resolve(n.pos))}getBookmark(){return new pd(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!tE(e)||!nE(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&ve.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let l=e.node(s);if(n>0?e.indexAfter(s)<l.childCount:e.index(s)>0){o=l.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let a=e.doc.resolve(i);if(ve.valid(a))return a}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!W.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let l=e.doc.resolve(i);if(ve.valid(l))return l}return null}}}ve.prototype.visible=!1;ve.findFrom=ve.findGapCursorFrom;q.jsonID("gapcursor",ve);class pd{constructor(e){this.pos=e}map(e){return new pd(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ve.valid(n)?new ve(n):q.near(n)}}function tE(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function nE(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function rE(){return new jt({props:{decorations:lE,createSelectionBetween(t,e,n){return e.pos==n.pos&&ve.valid(n)?new ve(n):null},handleClick:oE,handleKeyDown:iE,handleDOMEvents:{beforeinput:sE}}})}const iE=fy({ArrowLeft:fs("horiz",-1),ArrowRight:fs("horiz",1),ArrowUp:fs("vert",-1),ArrowDown:fs("vert",1)});function fs(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,l=e>0?s.$to:s.$from,a=s.empty;if(s instanceof J){if(!o.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=ve.findGapCursorFrom(l,e,a);return u?(i&&i(r.tr.setSelection(new ve(u))),!0):!1}}function oE(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!ve.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&W.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ve(r))),!0)}function sE(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ve))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=A.empty;for(let s=r.length-1;s>=0;s--)i=A.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new j(i,0,0));return o.setSelection(J.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function lE(t){if(!(t.selection instanceof ve))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ce.create(t.doc,[Pt.widget(t.selection.head,e,{key:"gapcursor"})])}const aE=ht.create({name:"gapCursor",addProseMirrorPlugins(){return[rE()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Q(F(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),uE=Qe.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Me(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:l}=r.extensionManager,a=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&a&&s){const d=a.filter(f=>l.includes(f.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),cE=Qe.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Me(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>ec({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var hl=200,De=function(){};De.prototype.append=function(e){return e.length?(e=De.from(e),!this.length&&e||e.length<hl&&this.leafAppend(e)||this.length<hl&&e.leafPrepend(this)||this.appendInner(e)):this};De.prototype.prepend=function(e){return e.length?De.from(e).append(this):this};De.prototype.appendInner=function(e){return new dE(this,e)};De.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?De.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};De.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};De.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};De.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};De.from=function(e){return e instanceof De?e:e&&e.length?new Py(e):De.empty};var Py=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,l){for(var a=o;a<s;a++)if(i(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,l){for(var a=o-1;a>=s;a--)if(i(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=hl)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=hl)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(De);De.empty=new Py([]);var dE=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(i,l),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(De);const fE=500;class Wt{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,l,a,u=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),o=i.maps.length),o--,c.push(d);return}if(i){c.push(new en(d.map));let p=d.step.map(i.slice(o)),h;p&&s.maybeStep(p).doc&&(h=s.mapping.maps[s.mapping.maps.length-1],u.push(new en(h,void 0,void 0,u.length+c.length))),o--,h&&i.appendMap(h,o)}else s.maybeStep(d.step);if(d.selection)return l=i?d.selection.map(i.slice(o)):d.selection,a=new Wt(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:s,selection:l}}addTransform(e,n,r,i){let o=[],s=this.eventCount,l=this.items,a=!i&&l.length?l.get(l.length-1):null;for(let c=0;c<e.steps.length;c++){let d=e.steps[c].invert(e.docs[c]),f=new en(e.mapping.maps[c],d,n),p;(p=a&&a.merge(f))&&(f=p,c?o.pop():l=l.slice(0,l.length-1)),o.push(f),n&&(s++,n=void 0),i||(a=f)}let u=s-r.depth;return u>hE&&(l=pE(l,u),s-=u),new Wt(l.append(o),s)}remapping(e,n){let r=new ai;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new Wt(this.items.append(e.map(n=>new en(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},i);let a=n;this.items.forEach(f=>{let p=o.getMirror(--a);if(p==null)return;s=Math.min(s,p);let h=o.maps[p];if(f.step){let y=e.steps[p].invert(e.docs[p]),x=f.selection&&f.selection.map(o.slice(a+1,p));x&&l++,r.push(new en(h,y,x))}else r.push(new en(h))},i);let u=[];for(let f=n;f<s;f++)u.push(new en(o.maps[f]));let c=this.items.slice(0,i).append(u).append(r),d=new Wt(c,l);return d.emptyItemCount()>fE&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,l)=>{if(l>=e)i.push(s),s.selection&&o++;else if(s.step){let a=s.step.map(n.slice(r)),u=a&&a.getMap();if(r--,u&&n.appendMap(u,r),a){let c=s.selection&&s.selection.map(n.slice(r));c&&o++;let d=new en(u.invert(),a,c),f,p=i.length-1;(f=i.length&&i[p].merge(d))?i[p]=f:i.push(d)}}else s.map&&r--},this.items.length,0),new Wt(De.from(i.reverse()),o)}}Wt.empty=new Wt(De.empty,0);function pE(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class en{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new en(n.getMap().invert(),n,this.selection)}}}class On{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const hE=20;function mE(t,e,n,r){let i=n.getMeta(Er),o;if(i)return i.historyState;n.getMeta(vE)&&(t=new On(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Er))return s.getMeta(Er).redo?new On(t.done.addTransform(n,void 0,r,Os(e)),t.undone,Rp(n.mapping.maps),t.prevTime,t.prevComposition):new On(t.done,t.undone.addTransform(n,void 0,r,Os(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!s&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!gE(n,t.prevRanges)),u=s?Fa(t.prevRanges,n.mapping):Rp(n.mapping.maps);return new On(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,Os(e)),Wt.empty,u,n.time,l??t.prevComposition)}else return(o=n.getMeta("rebased"))?new On(t.done.rebased(n,o),t.undone.rebased(n,o),Fa(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new On(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Fa(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function gE(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function Rp(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,s)=>e.push(o,s));return e}function Fa(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function yE(t,e,n){let r=Os(e),i=Er.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),l=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),a=new On(n?l:o.remaining,n?o.remaining:l,null,0,-1);return o.transform.setSelection(s).setMeta(Er,{redo:n,historyState:a})}let Ba=!1,Lp=null;function Os(t){let e=t.plugins;if(Lp!=e){Ba=!1,Lp=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Ba=!0;break}}return Ba}const Er=new nr("history"),vE=new nr("closeHistory");function kE(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new jt({key:Er,state:{init(){return new On(Wt.empty,Wt.empty,null,0,-1)},apply(e,n,r){return mE(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?Dy:r=="historyRedo"?Iy:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function Ay(t,e){return(n,r)=>{let i=Er.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=yE(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const Dy=Ay(!1,!0),Iy=Ay(!0,!0),xE=ht.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Dy(t,e),redo:()=>({state:t,dispatch:e})=>Iy(t,e)}},addProseMirrorPlugins(){return[kE(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),SE=Qe.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Me(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,o=t();return r.parentOffset===0?o.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):Ww(n)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:s,dispatch:l})=>{var a;if(l){const{$to:u}=s.selection,c=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?s.setSelection(J.create(s.doc,u.pos+1)):u.nodeAfter.isBlock?s.setSelection(W.create(s.doc,u.pos)):s.setSelection(J.create(s.doc,u.pos));else{const d=(a=u.parent.type.contentMatch.defaultType)===null||a===void 0?void 0:a.create();d&&(s.insert(c,d),s.setSelection(J.create(s.doc,c+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[kC({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),wE=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,CE=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,EE=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,ME=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,NE=un.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ei({find:wE,type:this.type}),Ei({find:EE,type:this.type})]},addPasteRules(){return[Mi({find:CE,type:this.type}),Mi({find:ME,type:this.type})]}}),Ry=Qe.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Me(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),TE=Qe.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Me(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),jp=un.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Ul(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),zp=/^(\d+)\.\s$/,bE=Qe.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Me(this.options.HTMLAttributes,n),0]:["ol",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(TE.name,this.editor.getAttributes(jp.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Ao({find:zp,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ao({find:zp,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(jp.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),OE=Qe.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),PE=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,AE=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,DE=un.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Me(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ei({find:PE,type:this.type})]},addPasteRules(){return[Mi({find:AE,type:this.type})]}}),IE=Qe.create({name:"text",group:"inline"}),RE=ht.create({name:"starterKit",addExtensions(){var t,e,n,r,i,o,s,l,a,u,c,d,f,p,h,y,x,m;const g=[];return this.options.bold!==!1&&g.push(HC.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&g.push(_C.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&g.push(Oy.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&g.push(JC.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&g.push(GC.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&g.push(YC.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&g.push(eE.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&g.push(aE.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&g.push(uE.configure((a=this.options)===null||a===void 0?void 0:a.hardBreak)),this.options.heading!==!1&&g.push(cE.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&g.push(xE.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&g.push(SE.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&g.push(NE.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&g.push(Ry.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&g.push(bE.configure((h=this.options)===null||h===void 0?void 0:h.orderedList)),this.options.paragraph!==!1&&g.push(OE.configure((y=this.options)===null||y===void 0?void 0:y.paragraph)),this.options.strike!==!1&&g.push(DE.configure((x=this.options)===null||x===void 0?void 0:x.strike)),this.options.text!==!1&&g.push(IE.configure((m=this.options)===null||m===void 0?void 0:m.text)),g}});ht.create({name:"indent",defaultOptions:{types:["listItem","paragraph","heading"],minLevel:0,maxLevel:4},addGlobalAttributes(){return[{types:this.options.types,attributes:{indent:{renderHTML:t=>t.indent>this.options.minLevel?{"data-indent":t.indent}:null,parseHTML:t=>{const e=Number(t.getAttribute("data-indent"));return e&&e>this.options.minLevel?e:null}}}}]},addCommands(){const t=(r,i,o)=>{var l;const s=(l=r==null?void 0:r.doc)==null?void 0:l.nodeAt(i);if(s){const a=(s.attrs.indent||0)+o,{minLevel:u,maxLevel:c}=this.options,d=a<u?u:a>c?c:a;if(d!==s.attrs.indent){const{indent:f,...p}=s.attrs,h=d>u?{...p,indent:d}:p;return r.setNodeMarkup(i,s.type,h,s.marks)}}return r},e=(r,i)=>{const{doc:o,selection:s}=r;if(o&&s&&(s instanceof J||s instanceof Dt)){const{from:l,to:a}=s;o.nodesBetween(l,a,(u,c)=>this.options.types.includes(u.type.name)?(r=t(r,c,i),!1):!0)}return r},n=r=>()=>({tr:i,state:o,dispatch:s})=>{console.log("got to apply indent");const{selection:l}=o;return i=i.setSelection(l),i=e(i,r),i.docChanged?(s==null||s(i),!0):!1};return{indent:n(1),outdent:n(-1)}},addKeyboardShortcuts(){return{Tab:()=>(console.log("got to tab"),this.editor.commands.indent()),"Shift-Tab":()=>this.editor.commands.outdent()}}});const LE=[RE,Ry,Oy.configure({HTMLAttributes:{class:"my-custom-class"},itemTypeName:"listItem",keepMarks:!0,keepAttributes:!0})];function jE({changeExtracurricularDescription:t,forms:e}){const n=e.content[e.isEditing].description,r=IC({extensions:LE,content:n,onUpdate({editor:i}){t(i.getHTML())}});return r?k.jsxs("div",{className:"edit-extracurricular-description",children:[k.jsxs("div",{className:"menu-buttons",children:[k.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleBold().run(),className:r.isActive("bold")?"is-active":"",children:k.jsx("i",{className:"fas fa-bold"})}),k.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleItalic().run(),className:r.isActive("italic")?"is-active":"",children:k.jsx("i",{className:"fas fa-italic"})}),k.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleBulletList().run(),className:r.isActive("bulletList")?"is-active":"",children:k.jsx("i",{className:"fas fa-list-ul"})}),k.jsx("button",{type:"button",onClick:()=>r.chain().focus().sinkListItem("listItem").run(),disabled:!r.can().sinkListItem("listItem"),children:k.jsx("i",{className:"fas fa-indent text-gray-400"})})]}),k.jsx(EC,{editor:r})]}):null}function zE({forms:t,onSave:e,onCancel:n,onChange:r,changeExtracurricularDescription:i}){return k.jsx(k.Fragment,{children:k.jsxs("form",{children:[k.jsxs("div",{className:"input-group",children:[k.jsx("label",{htmlFor:"extracurricular",children:"Extracurricular "}),k.jsx("input",{type:"text",id:"extracurricular","data-key":"title","data-section":"extracurriculars",placeholder:"Enter extracurricular title",value:t.content[t.isEditing].title,onChange:r})]}),k.jsxs("div",{className:"input-group",children:[k.jsx("label",{htmlFor:"hours",children:"Hours Per Week "}),k.jsx("input",{type:"text",id:"hours","data-key":"hoursPerWeek","data-section":"extracurriculars",placeholder:"Enter hours per week",value:t.content[t.isEditing].hoursPerWeek,onChange:r})]}),k.jsxs("div",{className:"input-group",children:[k.jsx("label",{htmlFor:"grades",children:"Grade Levels "}),k.jsx("input",{type:"text",id:"grades","data-key":"gradeLevels","data-section":"extracurriculars",placeholder:"Enter grade levels",value:t.content[t.isEditing].gradeLevels,onChange:r})]}),k.jsxs("div",{className:"input-group",children:[k.jsx("label",{htmlFor:"description",children:"Description "}),k.jsx(jE,{changeExtracurricularDescription:i,forms:t})]}),k.jsx(Xm,{section:"extracurriculars",save:e,cancel:n})]})})}function _E({extracurriculars:t,onChange:e,onCollapsedChange:n,onSave:r,onRemove:i,onCancel:o,onAdd:s,onUp:l,onDown:a,setOpen:u,isOpen:c,changeExtracurricularDescription:d}){return k.jsxs("div",{className:"extracurriculars-section content-box",children:[k.jsx(zo,{setOpen:u,isOpen:c,sectionTitle:"Extracurriculars",sectionName:"Extracurriculars",iconName:"fas fa-church",isOptional:"false"}),k.jsxs("div",{className:`section-content ${c?"open":""}`,children:[k.jsx(Ym,{forms:t,FormComponent:zE,onCollapsedChange:n,section:"extracurriculars",onChange:e,onSave:r,onRemove:i,onCancel:o,onUp:l,onDown:a,changeExtracurricularDescription:d}),k.jsx(Zm,{section:"extracurriculars",buttonContent:"+",onClick:s,isEditing:t.isEditing})]})]})}function FE({profile:t,onChange:e,setOpen:n,isOpen:r}){return k.jsxs("div",{className:"profile-section content-box",children:[k.jsx(zo,{setOpen:n,isOpen:r,sectionTitle:"Profile",sectionName:"Profile",iconName:"none",isOptional:"true"}),k.jsx("form",{className:`section-content ${r?"open":""}`,children:k.jsx("textarea",{id:"profile-description",placeholder:"Add a profile description",value:t,onChange:e})})]})}var Ly={exports:{}};(function(t,e){(function(n,r){t.exports=r(G,Al)})(typeof self<"u"?self:By,function(n,r){return function(){var i={328:function(a,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.PrintContextConsumer=u.PrintContext=void 0;var d=c(496),f=Object.prototype.hasOwnProperty.call(d,"createContext");u.PrintContext=f?d.createContext({}):null,u.PrintContextConsumer=u.PrintContext?u.PrintContext.Consumer:function(){return null}},428:function(a,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.ReactToPrint=void 0;var d=c(316),f=c(496),p=c(190),h=c(328),y=c(940),x=function(m){function g(){var v=m.apply(this,d.__spreadArray([],d.__read(arguments),!1))||this;return v.startPrint=function(S){var M=v.props,N=M.onAfterPrint,O=M.onPrintError,R=M.print,L=M.documentTitle;setTimeout(function(){var B,X;if(S.contentWindow)if(S.contentWindow.focus(),R)R(S).then(function(){return N==null?void 0:N()}).then(function(){return v.handleRemoveIframe()}).catch(function(Ve){O?O("print",Ve):v.logMessages(["An error was thrown by the specified `print` function"])});else{if(S.contentWindow.print){var me=(X=(B=S.contentDocument)===null||B===void 0?void 0:B.title)!==null&&X!==void 0?X:"",te=S.ownerDocument.title;L&&(S.ownerDocument.title=L,S.contentDocument&&(S.contentDocument.title=L)),S.contentWindow.print(),L&&(S.ownerDocument.title=te,S.contentDocument&&(S.contentDocument.title=me))}else v.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);N==null||N(),v.handleRemoveIframe()}else v.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},v.triggerPrint=function(S){var M=v.props,N=M.onBeforePrint,O=M.onPrintError;if(N){var R=N();R&&typeof R.then=="function"?R.then(function(){v.startPrint(S)}).catch(function(L){O&&O("onBeforePrint",L)}):v.startPrint(S)}else v.startPrint(S)},v.handlePrint=function(S){var M=v.props,N=M.bodyClass,O=M.content,R=M.copyStyles,L=M.fonts,B=M.pageStyle,X=M.nonce,me=typeof S=="function"?S():null;if(me&&typeof O=="function"&&v.logMessages(['"react-to-print" received a `content` prop and a content param passed the callback return by `useReactToPrint. The `content` prop will be ignored.'],"warning"),me||typeof O!="function"||(me=O()),me!==void 0)if(me!==null){var te=document.createElement("iframe");te.width="".concat(document.documentElement.clientWidth,"px"),te.height="".concat(document.documentElement.clientHeight,"px"),te.style.position="absolute",te.style.top="-".concat(document.documentElement.clientHeight+100,"px"),te.style.left="-".concat(document.documentElement.clientWidth+100,"px"),te.id="printWindow",te.srcdoc="<!DOCTYPE html>";var Ve=(0,p.findDOMNode)(me);if(Ve){var Ye=Ve.cloneNode(!0),Re=Ye instanceof Text,V=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),T=Re?[]:Ye.querySelectorAll("img"),I=Re?[]:Ye.querySelectorAll("video"),z=L?L.length:0;v.numResourcesToLoad=V.length+T.length+I.length+z,v.resourcesLoaded=[],v.resourcesErrored=[];var $=function(ne,ot){v.resourcesLoaded.includes(ne)?v.logMessages(["Tried to mark a resource that has already been handled",ne],"debug"):(ot?(v.logMessages(d.__spreadArray(['"react-to-print" was unable to load a resource but will continue attempting to print the page'],d.__read(ot),!1)),v.resourcesErrored.push(ne)):v.resourcesLoaded.push(ne),v.resourcesLoaded.length+v.resourcesErrored.length===v.numResourcesToLoad&&v.triggerPrint(te))};te.onload=function(){var ne,ot,st,Qt;te.onload=null;var le=te.contentDocument||((ot=te.contentWindow)===null||ot===void 0?void 0:ot.document);if(le){le.body.appendChild(Ye),L&&(!((st=te.contentDocument)===null||st===void 0)&&st.fonts&&(!((Qt=te.contentWindow)===null||Qt===void 0)&&Qt.FontFace)?L.forEach(function(gt){var ie=new FontFace(gt.family,gt.source,{weight:gt.weight,style:gt.style});te.contentDocument.fonts.add(ie),ie.loaded.then(function(){$(ie)}).catch(function(ge){$(ie,["Failed loading the font:",ie,"Load error:",ge])})}):(L.forEach(function(gt){return $(gt)}),v.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));var Gt=typeof B=="function"?B():B;if(typeof Gt!="string")v.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof Gt,'". Styles from `pageStyle` will not be applied.')]);else{var jr=le.createElement("style");X&&(jr.setAttribute("nonce",X),le.head.setAttribute("nonce",X)),jr.appendChild(le.createTextNode(Gt)),le.head.appendChild(jr)}if(N&&(ne=le.body.classList).add.apply(ne,d.__spreadArray([],d.__read(N.split(" ")),!1)),!Re){for(var w=Re?[]:Ve.querySelectorAll("canvas"),C=le.querySelectorAll("canvas"),E=0;E<w.length;++E){var b=w[E],P=C[E].getContext("2d");P&&P.drawImage(b,0,0)}var K=function(gt){var ie=T[gt],ge=ie.getAttribute("src");if(ge){var Mt=new Image;Mt.onload=function(){return $(ie)},Mt.onerror=function(sr,Pi,Vo,_t,lt){return $(ie,["Error loading <img>",ie,"Error",lt])},Mt.src=ge}else $(ie,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it. The <img> is:',ie])};for(E=0;E<T.length;E++)K(E);var H=function(gt){var ie=I[gt];ie.preload="auto";var ge=ie.getAttribute("poster");if(ge){var Mt=new Image;Mt.onload=function(){return $(ie)},Mt.onerror=function(sr,Pi,Vo,_t,lt){return $(ie,["Error loading video poster",ge,"for video",ie,"Error:",lt])},Mt.src=ge}else ie.readyState>=2?$(ie):(ie.onloadeddata=function(){return $(ie)},ie.onerror=function(sr,Pi,Vo,_t,lt){return $(ie,["Error loading video",ie,"Error",lt])},ie.onstalled=function(){return $(ie,["Loading video stalled, skipping",ie])})};for(E=0;E<I.length;E++)H(E);var Z="input",Ne=Ve.querySelectorAll(Z),Te=le.querySelectorAll(Z);for(E=0;E<Ne.length;E++)Te[E].value=Ne[E].value;var U="input[type=checkbox],input[type=radio]",re=Ve.querySelectorAll(U),mt=le.querySelectorAll(U);for(E=0;E<re.length;E++)mt[E].checked=re[E].checked;var Et="select",zt=Ve.querySelectorAll(Et),Cn=le.querySelectorAll(Et);for(E=0;E<zt.length;E++)Cn[E].value=zt[E].value}if(R)for(var Yt=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']"),or=function(gt,ie){var ge=Yt[gt];if(ge.tagName.toLowerCase()==="style"){var Mt=le.createElement(ge.tagName),sr=ge.sheet;if(sr){var Pi="";try{for(var Vo=sr.cssRules.length,_t=0;_t<Vo;++_t)typeof sr.cssRules[_t].cssText=="string"&&(Pi+="".concat(sr.cssRules[_t].cssText,`\r
`))}catch{v.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",ge],"warning")}Mt.setAttribute("id","react-to-print-".concat(gt)),X&&Mt.setAttribute("nonce",X),Mt.appendChild(le.createTextNode(Pi)),le.head.appendChild(Mt)}}else if(ge.getAttribute("href"))if(ge.hasAttribute("disabled"))v.logMessages(["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",ge],"warning"),$(ge);else{for(var lt=le.createElement(ge.tagName),zy=(_t=0,ge.attributes.length);_t<zy;++_t){var Kl=ge.attributes[_t];Kl&&lt.setAttribute(Kl.nodeName,Kl.nodeValue||"")}lt.onload=function(){return $(lt)},lt.onerror=function(_y,YE,XE,ZE,Fy){return $(lt,["Failed to load",lt,"Error:",Fy])},X&&lt.setAttribute("nonce",X),le.head.appendChild(lt)}else v.logMessages(["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",ge],"warning"),$(ge)},jy=(E=0,Yt.length);E<jy;++E)or(E)}v.numResourcesToLoad!==0&&R||v.triggerPrint(te)},v.handleRemoveIframe(!0),document.body.appendChild(te)}else v.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else v.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else v.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},v.handleRemoveIframe=function(S){var M=v.props.removeAfterPrint;if(S||M){var N=document.getElementById("printWindow");N&&document.body.removeChild(N)}},v.logMessages=function(S,M){M===void 0&&(M="error"),v.props.suppressErrors||(M==="error"?console.error(S):M==="warning"?console.warn(S):M==="debug"&&console.debug(S))},v}return d.__extends(g,m),g.prototype.handleClick=function(v,S){var M=this,N=this.props,O=N.onBeforeGetContent,R=N.onPrintError;if(O){var L=O();L&&typeof L.then=="function"?L.then(function(){return M.handlePrint(S)}).catch(function(B){R&&R("onBeforeGetContent",B)}):this.handlePrint(S)}else this.handlePrint(S)},g.prototype.render=function(){var v=this.props,S=v.children,M=v.trigger;if(M)return f.cloneElement(M(),{onClick:this.handleClick.bind(this)});if(!h.PrintContext)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var N={handlePrint:this.handleClick.bind(this)};return f.createElement(h.PrintContext.Provider,{value:N},S)},g.defaultProps=y.defaultProps,g}(f.Component);u.ReactToPrint=x},940:function(a,u){Object.defineProperty(u,"__esModule",{value:!0}),u.defaultProps=void 0,u.defaultProps={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1}},892:function(a,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.useReactToPrint=void 0;var d=c(316),f=c(496),p=c(428),h=c(940),y=c(860),x=Object.prototype.hasOwnProperty.call(f,"useMemo")&&Object.prototype.hasOwnProperty.call(f,"useCallback");u.useReactToPrint=function(m){if(!x)return m.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var g=f.useMemo(function(){return new p.ReactToPrint(d.__assign(d.__assign({},h.defaultProps),m))},[m]);return f.useCallback(function(v,S){return(0,y.wrapCallbackWithArgs)(g,g.handleClick,S)(v)},[g])}},860:function(a,u,c){Object.defineProperty(u,"__esModule",{value:!0}),u.wrapCallbackWithArgs=void 0;var d=c(316);u.wrapCallbackWithArgs=function(f,p){for(var h=[],y=2;y<arguments.length;y++)h[y-2]=arguments[y];return function(){for(var x=[],m=0;m<arguments.length;m++)x[m]=arguments[m];return p.apply(f,d.__spreadArray(d.__spreadArray([],d.__read(x),!1),d.__read(h),!1))}}},496:function(a){a.exports=n},190:function(a){a.exports=r},316:function(a,u,c){c.r(u),c.d(u,{__addDisposableResource:function(){return le},__assign:function(){return p},__asyncDelegator:function(){return V},__asyncGenerator:function(){return Re},__asyncValues:function(){return T},__await:function(){return Ye},__awaiter:function(){return N},__classPrivateFieldGet:function(){return ot},__classPrivateFieldIn:function(){return Qt},__classPrivateFieldSet:function(){return st},__createBinding:function(){return R},__decorate:function(){return y},__disposeResources:function(){return jr},__esDecorate:function(){return m},__exportStar:function(){return L},__extends:function(){return f},__generator:function(){return O},__importDefault:function(){return ne},__importStar:function(){return $},__makeTemplateObject:function(){return I},__metadata:function(){return M},__param:function(){return x},__propKey:function(){return v},__read:function(){return X},__rest:function(){return h},__runInitializers:function(){return g},__setFunctionName:function(){return S},__spread:function(){return me},__spreadArray:function(){return Ve},__spreadArrays:function(){return te},__values:function(){return B}});var d=function(w,C){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,b){E.__proto__=b}||function(E,b){for(var P in b)Object.prototype.hasOwnProperty.call(b,P)&&(E[P]=b[P])},d(w,C)};function f(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function E(){this.constructor=w}d(w,C),w.prototype=C===null?Object.create(C):(E.prototype=C.prototype,new E)}var p=function(){return p=Object.assign||function(w){for(var C,E=1,b=arguments.length;E<b;E++)for(var P in C=arguments[E])Object.prototype.hasOwnProperty.call(C,P)&&(w[P]=C[P]);return w},p.apply(this,arguments)};function h(w,C){var E={};for(var b in w)Object.prototype.hasOwnProperty.call(w,b)&&C.indexOf(b)<0&&(E[b]=w[b]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function"){var P=0;for(b=Object.getOwnPropertySymbols(w);P<b.length;P++)C.indexOf(b[P])<0&&Object.prototype.propertyIsEnumerable.call(w,b[P])&&(E[b[P]]=w[b[P]])}return E}function y(w,C,E,b){var P,K=arguments.length,H=K<3?C:b===null?b=Object.getOwnPropertyDescriptor(C,E):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(w,C,E,b);else for(var Z=w.length-1;Z>=0;Z--)(P=w[Z])&&(H=(K<3?P(H):K>3?P(C,E,H):P(C,E))||H);return K>3&&H&&Object.defineProperty(C,E,H),H}function x(w,C){return function(E,b){C(E,b,w)}}function m(w,C,E,b,P,K){function H(or){if(or!==void 0&&typeof or!="function")throw new TypeError("Function expected");return or}for(var Z,Ne=b.kind,Te=Ne==="getter"?"get":Ne==="setter"?"set":"value",U=!C&&w?b.static?w:w.prototype:null,re=C||(U?Object.getOwnPropertyDescriptor(U,b.name):{}),mt=!1,Et=E.length-1;Et>=0;Et--){var zt={};for(var Cn in b)zt[Cn]=Cn==="access"?{}:b[Cn];for(var Cn in b.access)zt.access[Cn]=b.access[Cn];zt.addInitializer=function(or){if(mt)throw new TypeError("Cannot add initializers after decoration has completed");K.push(H(or||null))};var Yt=(0,E[Et])(Ne==="accessor"?{get:re.get,set:re.set}:re[Te],zt);if(Ne==="accessor"){if(Yt===void 0)continue;if(Yt===null||typeof Yt!="object")throw new TypeError("Object expected");(Z=H(Yt.get))&&(re.get=Z),(Z=H(Yt.set))&&(re.set=Z),(Z=H(Yt.init))&&P.unshift(Z)}else(Z=H(Yt))&&(Ne==="field"?P.unshift(Z):re[Te]=Z)}U&&Object.defineProperty(U,b.name,re),mt=!0}function g(w,C,E){for(var b=arguments.length>2,P=0;P<C.length;P++)E=b?C[P].call(w,E):C[P].call(w);return b?E:void 0}function v(w){return typeof w=="symbol"?w:"".concat(w)}function S(w,C,E){return typeof C=="symbol"&&(C=C.description?"[".concat(C.description,"]"):""),Object.defineProperty(w,"name",{configurable:!0,value:E?"".concat(E," ",C):C})}function M(w,C){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(w,C)}function N(w,C,E,b){return new(E||(E=Promise))(function(P,K){function H(Te){try{Ne(b.next(Te))}catch(U){K(U)}}function Z(Te){try{Ne(b.throw(Te))}catch(U){K(U)}}function Ne(Te){var U;Te.done?P(Te.value):(U=Te.value,U instanceof E?U:new E(function(re){re(U)})).then(H,Z)}Ne((b=b.apply(w,C||[])).next())})}function O(w,C){var E,b,P,K,H={label:0,sent:function(){if(1&P[0])throw P[1];return P[1]},trys:[],ops:[]};return K={next:Z(0),throw:Z(1),return:Z(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function Z(Ne){return function(Te){return function(U){if(E)throw new TypeError("Generator is already executing.");for(;K&&(K=0,U[0]&&(H=0)),H;)try{if(E=1,b&&(P=2&U[0]?b.return:U[0]?b.throw||((P=b.return)&&P.call(b),0):b.next)&&!(P=P.call(b,U[1])).done)return P;switch(b=0,P&&(U=[2&U[0],P.value]),U[0]){case 0:case 1:P=U;break;case 4:return H.label++,{value:U[1],done:!1};case 5:H.label++,b=U[1],U=[0];continue;case 7:U=H.ops.pop(),H.trys.pop();continue;default:if(!((P=(P=H.trys).length>0&&P[P.length-1])||U[0]!==6&&U[0]!==2)){H=0;continue}if(U[0]===3&&(!P||U[1]>P[0]&&U[1]<P[3])){H.label=U[1];break}if(U[0]===6&&H.label<P[1]){H.label=P[1],P=U;break}if(P&&H.label<P[2]){H.label=P[2],H.ops.push(U);break}P[2]&&H.ops.pop(),H.trys.pop();continue}U=C.call(w,H)}catch(re){U=[6,re],b=0}finally{E=P=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}([Ne,Te])}}}var R=Object.create?function(w,C,E,b){b===void 0&&(b=E);var P=Object.getOwnPropertyDescriptor(C,E);P&&!("get"in P?!C.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return C[E]}}),Object.defineProperty(w,b,P)}:function(w,C,E,b){b===void 0&&(b=E),w[b]=C[E]};function L(w,C){for(var E in w)E==="default"||Object.prototype.hasOwnProperty.call(C,E)||R(C,w,E)}function B(w){var C=typeof Symbol=="function"&&Symbol.iterator,E=C&&w[C],b=0;if(E)return E.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&b>=w.length&&(w=void 0),{value:w&&w[b++],done:!w}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")}function X(w,C){var E=typeof Symbol=="function"&&w[Symbol.iterator];if(!E)return w;var b,P,K=E.call(w),H=[];try{for(;(C===void 0||C-- >0)&&!(b=K.next()).done;)H.push(b.value)}catch(Z){P={error:Z}}finally{try{b&&!b.done&&(E=K.return)&&E.call(K)}finally{if(P)throw P.error}}return H}function me(){for(var w=[],C=0;C<arguments.length;C++)w=w.concat(X(arguments[C]));return w}function te(){for(var w=0,C=0,E=arguments.length;C<E;C++)w+=arguments[C].length;var b=Array(w),P=0;for(C=0;C<E;C++)for(var K=arguments[C],H=0,Z=K.length;H<Z;H++,P++)b[P]=K[H];return b}function Ve(w,C,E){if(E||arguments.length===2)for(var b,P=0,K=C.length;P<K;P++)!b&&P in C||(b||(b=Array.prototype.slice.call(C,0,P)),b[P]=C[P]);return w.concat(b||Array.prototype.slice.call(C))}function Ye(w){return this instanceof Ye?(this.v=w,this):new Ye(w)}function Re(w,C,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,P=E.apply(w,C||[]),K=[];return b={},H("next"),H("throw"),H("return"),b[Symbol.asyncIterator]=function(){return this},b;function H(re){P[re]&&(b[re]=function(mt){return new Promise(function(Et,zt){K.push([re,mt,Et,zt])>1||Z(re,mt)})})}function Z(re,mt){try{(Et=P[re](mt)).value instanceof Ye?Promise.resolve(Et.value.v).then(Ne,Te):U(K[0][2],Et)}catch(zt){U(K[0][3],zt)}var Et}function Ne(re){Z("next",re)}function Te(re){Z("throw",re)}function U(re,mt){re(mt),K.shift(),K.length&&Z(K[0][0],K[0][1])}}function V(w){var C,E;return C={},b("next"),b("throw",function(P){throw P}),b("return"),C[Symbol.iterator]=function(){return this},C;function b(P,K){C[P]=w[P]?function(H){return(E=!E)?{value:Ye(w[P](H)),done:!1}:K?K(H):H}:K}}function T(w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,E=w[Symbol.asyncIterator];return E?E.call(w):(w=B(w),C={},b("next"),b("throw"),b("return"),C[Symbol.asyncIterator]=function(){return this},C);function b(P){C[P]=w[P]&&function(K){return new Promise(function(H,Z){(function(Ne,Te,U,re){Promise.resolve(re).then(function(mt){Ne({value:mt,done:U})},Te)})(H,Z,(K=w[P](K)).done,K.value)})}}}function I(w,C){return Object.defineProperty?Object.defineProperty(w,"raw",{value:C}):w.raw=C,w}var z=Object.create?function(w,C){Object.defineProperty(w,"default",{enumerable:!0,value:C})}:function(w,C){w.default=C};function $(w){if(w&&w.__esModule)return w;var C={};if(w!=null)for(var E in w)E!=="default"&&Object.prototype.hasOwnProperty.call(w,E)&&R(C,w,E);return z(C,w),C}function ne(w){return w&&w.__esModule?w:{default:w}}function ot(w,C,E,b){if(E==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof C=="function"?w!==C||!b:!C.has(w))throw new TypeError("Cannot read private member from an object whose class did not declare it");return E==="m"?b:E==="a"?b.call(w):b?b.value:C.get(w)}function st(w,C,E,b,P){if(b==="m")throw new TypeError("Private method is not writable");if(b==="a"&&!P)throw new TypeError("Private accessor was defined without a setter");if(typeof C=="function"?w!==C||!P:!C.has(w))throw new TypeError("Cannot write private member to an object whose class did not declare it");return b==="a"?P.call(w,E):P?P.value=E:C.set(w,E),E}function Qt(w,C){if(C===null||typeof C!="object"&&typeof C!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof w=="function"?C===w:w.has(C)}function le(w,C,E){if(C!=null){if(typeof C!="object"&&typeof C!="function")throw new TypeError("Object expected.");var b;if(E){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");b=C[Symbol.asyncDispose]}if(b===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");b=C[Symbol.dispose]}if(typeof b!="function")throw new TypeError("Object not disposable.");w.stack.push({value:C,dispose:b,async:E})}else E&&w.stack.push({async:!0});return C}var Gt=typeof SuppressedError=="function"?SuppressedError:function(w,C,E){var b=new Error(E);return b.name="SuppressedError",b.error=w,b.suppressed=C,b};function jr(w){function C(E){w.error=w.hasError?new Gt(E,w.error,"An error was suppressed during disposal."):E,w.hasError=!0}return function E(){for(;w.stack.length;){var b=w.stack.pop();try{var P=b.dispose&&b.dispose.call(b.value);if(b.async)return Promise.resolve(P).then(E,function(K){return C(K),E()})}catch(K){C(K)}}if(w.hasError)throw w.error}()}u.default={__extends:f,__assign:p,__rest:h,__decorate:y,__param:x,__metadata:M,__awaiter:N,__generator:O,__createBinding:R,__exportStar:L,__values:B,__read:X,__spread:me,__spreadArrays:te,__spreadArray:Ve,__await:Ye,__asyncGenerator:Re,__asyncDelegator:V,__asyncValues:T,__makeTemplateObject:I,__importStar:$,__importDefault:ne,__classPrivateFieldGet:ot,__classPrivateFieldSet:st,__classPrivateFieldIn:Qt,__addDisposableResource:le,__disposeResources:jr}}},o={};function s(a){var u=o[a];if(u!==void 0)return u.exports;var c=o[a]={exports:{}};return i[a](c,c.exports,s),c.exports}s.d=function(a,u){for(var c in u)s.o(u,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:u[c]})},s.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},s.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var l={};return function(){var a=l;Object.defineProperty(a,"__esModule",{value:!0}),a.useReactToPrint=a.ReactToPrint=a.PrintContextConsumer=void 0;var u=s(328);Object.defineProperty(a,"PrintContextConsumer",{enumerable:!0,get:function(){return u.PrintContextConsumer}});var c=s(428);Object.defineProperty(a,"ReactToPrint",{enumerable:!0,get:function(){return c.ReactToPrint}});var d=s(892);Object.defineProperty(a,"useReactToPrint",{enumerable:!0,get:function(){return d.useReactToPrint}});var f=s(428);a.default=f.ReactToPrint}(),l}()})})(Ly);var BE=Ly.exports;const VE=G.forwardRef(({personal:t,education:e,awards:n,extracurriculars:r},i)=>{console.log("checking resume: ",n.map(l=>l.title));const o=["January","February","March","April","May","June","July","August","September","October","November","December"];function s(l){if(l==null)return"";const a=parseInt(l.slice(0,4)),u=parseInt(l.slice(5))-1,c=new Date;return a<c.getFullYear()-4||a>c.getFullYear()+4?"":o[u]+" "+a}return k.jsxs("div",{className:"resume display-side content-box",id:"pdf-content",ref:i,children:[k.jsxs("div",{className:"resume-header",children:[k.jsx("p",{className:"personal-1",children:t.name}),k.jsxs("div",{className:"personal-2",children:[k.jsx("p",{children:t.phoneNumber}),k.jsx("p",{children:"◇"}),k.jsx("p",{children:t.address})]}),k.jsx("p",{className:"personal-3",children:t.email})]}),k.jsxs("div",{className:"section-display education-display",children:[k.jsx("p",{className:"education-header",children:" EDUCATION "}),k.jsx("div",{className:"education-info",children:k.jsxs("div",{className:"school info-box",children:[k.jsx("p",{className:"title",children:e.schoolName}),k.jsxs("p",{className:"school-date",children:[" ",e.schoolStart," - ",e.schoolEnd]})]})})]}),k.jsxs("div",{className:"section-display awards-display",children:[k.jsx("p",{className:"awards-header",children:" AWARDS AND HONORS"}),k.jsx("div",{className:"awards-list",children:n.map(l=>k.jsxs("div",{className:"award info-box",children:[k.jsx("p",{className:"title",children:l.title}),k.jsx("p",{className:"award-date",children:s(l.date)})]}))})]}),k.jsxs("div",{className:"section-display extracurriculars-display",children:[k.jsx("p",{className:"extracurriculars-header",children:" EXTRACURRICULAR ACTIVITIES"}),k.jsx("div",{className:"extracurriculars-list",children:r.map(l=>k.jsxs("div",{className:"extracurricular info-box",children:[k.jsxs("div",{className:"extracurricular-row1",children:[k.jsx("p",{className:"title",children:l.title}),k.jsxs("div",{className:"extracurricular-numerical-info",children:[l.hoursPerWeek==""?k.jsx("p",{}):k.jsxs("p",{className:"extracurricular-hours-per-week",children:["(",l.hoursPerWeek," hrs/week)"]}),k.jsx("p",{className:"extracurricular-grade-levels",children:l.gradeLevels})]})]}),k.jsx("div",{className:"extracurricular-description",dangerouslySetInnerHTML:{__html:l.description}})]}))})]})]})}),$E=G.forwardRef(({personal:t,education:e,awards:n,extracurriculars:r,profile:i},o)=>{const s=["January","February","March","April","May","June","July","August","September","October","November","December"];function l(a){if(a==null)return"";const u=parseInt(a.slice(0,4)),c=parseInt(a.slice(5))-1,d=new Date;return u<d.getFullYear()-4||u>d.getFullYear()+4?"":s[c]+" "+u}return k.jsxs("div",{className:"resume2 display-side content-box flex p-0",id:"pdf-content",ref:o,children:[k.jsxs("div",{className:"resume2-left w-1/3",children:[k.jsxs("div",{className:"resume2-personal",children:[k.jsx("p",{className:"resume2-name font-bold text-xl",children:t.name}),k.jsxs("div",{children:[k.jsx("i",{className:"fas fa-envelope"}),k.jsx("p",{className:"resume2-email text-base",children:t.email})]}),k.jsxs("div",{children:[k.jsx("i",{className:"fas fa-phone"}),k.jsx("p",{className:"resume2-phone text-base",children:t.phoneNumber})]}),k.jsxs("div",{children:[k.jsx("i",{className:"fas fa-location-dot"}),k.jsx("p",{className:"resume2-address text-base",children:t.address})]})]}),k.jsxs("div",{className:"resume2-profile",children:[k.jsx("h2",{className:"title",children:" Profile "}),k.jsx("p",{children:i})]}),k.jsxs("div",{className:"resume2-education",children:[k.jsx("h2",{className:"title",children:" Education "}),k.jsxs("p",{className:"font-semibold",children:[e.schoolName,","]}),k.jsxs("p",{className:"italic",children:[e.city,", ",e.state]}),k.jsxs("p",{children:[" Class of ",e.schoolEnd,"  |  ",e.gpa," GPA"]})]})]}),k.jsxs("div",{className:"resume2-right flex-auto",children:[k.jsxs("div",{className:"resume2-awards section",children:[k.jsx("p",{className:"resume2-section-header",children:" Awards & Honors"}),k.jsx("div",{className:"resume2-awards-list",children:n.map(a=>k.jsxs("div",{className:"award info-box",children:[k.jsx("p",{className:"title",children:a.title}),k.jsx("p",{className:"award-date",children:l(a.date)})]}))})]}),k.jsxs("div",{className:"resume2-extracurriculars section",children:[k.jsx("p",{className:"resume2-section-header",children:" Extracurricular Activities"}),k.jsx("div",{className:"extracurriculars-list",children:r.map(a=>k.jsxs("div",{className:"resume2-extracurricular",children:[k.jsxs("div",{className:"resume2-extracurriculars-row1 flex gap-2",children:[k.jsxs("p",{className:"font-semibold",children:[a.title,", "]}),k.jsxs("p",{children:[a.gradeLevels," "]})]}),k.jsxs("p",{className:"italic",children:[a.hoursPerWeek," hours/week"]}),k.jsx("div",{className:"resume2-extracurricular-description leading-tight",dangerouslySetInnerHTML:{__html:a.description}})]}))})]})]})]})});function HE({onDownload:t}){return k.jsx("button",{id:"download-button",onClick:t,children:"Preview"})}function WE({onClear:t}){return k.jsx("button",{id:"clear-button",onClick:t,children:"Clear Resume"})}function UE({onLoadExample:t}){return k.jsx("button",{id:"load-example-button",onClick:t,children:" Load Example"})}const ps={personalInfo:{name:"beastgert",email:"galarblemarble@gmail.com",phoneNumber:"469-744-9264",address:"Plano, TX"},sections:{education:{schoolName:"Westwood High School",schoolStart:2020,schoolEnd:2024,city:"Austin",state:"Texas",gpa:4.8},awards:{content:[{title:"Science Fair Winner",date:"2024-03"},{title:"AMC 12 Perfect Score",date:"2023-12"},{title:"Speech and Debate Champion",date:"2022-09"}],isEditing:-1},extracurriculars:{content:[{title:"Computer Club",hoursPerWeek:5,gradeLevels:"11th - 12th",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{title:"Speech and Debate",hoursPerWeek:10,gradeLevels:"9th - 12th",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{title:"Community Service",hoursPerWeek:13,gradeLevels:"9th - 12th",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}],isEditing:-1},profile:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}};function KE({onChange:t,isContent:e}){return k.jsxs("div",{className:"sidebar content-box",children:[k.jsxs("button",{onClick:t,className:`sidebar-container ${e?"bg-gray-300":""}`,"data-key":"content",children:[k.jsx("i",{className:"fa-regular fa-folder"}),k.jsx("p",{children:"Content"})]}),k.jsxs("button",{onClick:t,className:`sidebar-container ${e?"":"bg-gray-300"}`,"data-key":"customize",children:[k.jsx("i",{className:"fa-regular fa-pen-to-square"}),k.jsx("p",{children:"Customize"})]})]})}function JE({onChange:t,resumeIndex:e}){return k.jsxs("div",{className:"template-section content-box customize-section",children:[k.jsx("h2",{children:" Template "}),k.jsxs("div",{className:"template-content",children:[k.jsx("div",{className:"resume-button-container","data-key":"0",onClick:t,children:k.jsx("button",{className:e==0?"bg-gray-300 scale-90":"",children:"1"})}),k.jsx("div",{className:"resume-button-container","data-key":"1",onClick:t,children:k.jsx("button",{className:e==1?"bg-gray-300 scale-90":"",children:"2"})})]})]})}function qE({}){const[t,e]=G.useState("serif");return G.useEffect(()=>{console.log("got here"),document.body.style.setProperty("--resume-font",t==="sans"?'ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"':t==="serif"?'ui-serif, Georgia, Cambria, "Times New Roman", Times, serif':'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace')},[t]),k.jsxs("div",{className:"template-section content-box customize-section",children:[k.jsx("h2",{children:" Font "}),k.jsxs("div",{className:"font-content flex gap-4 h-20",children:[k.jsxs("div",{className:`font-serif flex flex-col justify-between cursor-pointer ${t==="serif"?"bg-gray-300":""}`,onClick:()=>{e("serif")},children:[k.jsx("p",{className:"font-demo1 bg-inherit",children:"Aa"}),k.jsx("p",{className:"flex justify-center bg-inherit",children:"Serif"})]}),k.jsxs("div",{className:`font-sans flex flex-col justify-between cursor-pointer ${t==="sans"?"bg-gray-300":""}`,onClick:()=>{e("sans")},children:[k.jsx("p",{className:"font-demo2 bg-inherit",children:"Aa"}),k.jsx("p",{className:"flex justify-center bg-inherit",children:"Sans"})]}),k.jsxs("div",{className:`font-mono flex flex-col justify-between cursor-pointer ${t==="mono"?"bg-gray-300":""}`,onClick:()=>{e("mono")},children:[k.jsx("p",{className:"font-demo3 bg-inherit",children:"Aa"}),k.jsx("p",{className:"flex justify-center bg-inherit",children:"Mono"})]})]})]})}function QE({onResumeChange:t,resumeIndex:e}){return k.jsxs("div",{className:"customize",children:[k.jsx(JE,{onChange:t,resumeIndex:e}),k.jsx(qE,{})]})}function GE(){const[t,e]=G.useState(localStorage.getItem("hasVisited")==="true"?JSON.parse(localStorage.getItem("personalInfo")):{...ps.personalInfo}),[n,r]=G.useState(localStorage.getItem("hasVisited")==="true"?JSON.parse(localStorage.getItem("sections")):{...ps.sections}),[i,o]=G.useState(null),[s,l]=G.useState("Personal"),[a,u]=G.useState(!0),[c,d]=G.useState(0);G.useEffect(()=>{localStorage.setItem("sections",JSON.stringify(n)),localStorage.setItem("personalInfo",JSON.stringify(t)),localStorage.setItem("hasVisited","true")},[n,t]);const f=G.useRef(),p=BE.useReactToPrint({content:()=>f.current});function h(V){const T=parseInt(V.target.closest(".resume-button-container").dataset.key);d(T)}function y(V){const T=V.target.closest(".sidebar-container").dataset.key;u(T=="content")}function x(V){const T=V.target.dataset.key;e({...t,[T]:V.target.value})}function m(V){const T={...n},I=V.target.dataset.key;T.education[I]=V.target.value,r(T)}function g(V){console.log("got to extracurricular description");const T={...n};T.extracurriculars.content[T.extracurriculars.isEditing].description=V,console.log("last dance: ",T),r(T)}function v(V){console.log("got to change section: ",V.target.value);const T={...n},I=V.target.dataset.section,z=V.target.dataset.key,$=T[I].isEditing;T[I].content[$][z]=V.target.value,r(T)}function S(V){const T={...n};T.profile=V.target.value,r(T)}function M(V){console.log("opening changeForm");const T=V.target.dataset.index,I={...n},z=V.target.dataset.section;o({...I[z].content[T]}),I[z].isEditing=T,r(I)}function N(V){const T={...n},I=V.target.dataset.section;T[I].isEditing=-1,r(T)}function O(V){const T={...n},I=V.target.dataset.section,z=T[I].isEditing;console.log("got to cancel",z,i),T[I].content[z]=i,T[I].isEditing=-1,r(T)}function R(V){V.stopPropagation();const T={...n},I=V.target.dataset.section,z=V.target.dataset.index;T[I].content.splice(z,1),r(T)}function L(V){const T={...n},I=V.target.dataset.section;T[I].content.push(I=="awards"?B():X()),T[I].isEditing=T[I].content.length-1,o({...T[I].content.slice(-1)}),r(T)}function B(){return{title:"",date:""}}function X(){return{title:"",hoursPerWeek:"",gradeLevels:"",description:""}}function me(V){V.stopPropagation();const T=V.target.closest(".collapsed-form"),I={...n},z=T.dataset.section,$=parseInt(T.dataset.index);$!=0&&([I[z].content[$-1],I[z].content[$]]=[I[z].content[$],I[z].content[$-1]],r(I))}function te(V){console.log(n),V.stopPropagation();const T=V.target.closest(".collapsed-form"),I={...n},z=T.dataset.section,$=parseInt(T.dataset.index);$!=I[z].content.length-1&&(console.log("first: ",I[z].content),console.log("brawl stars: ",I[z].content[$],I[z].content[$+1]),console.log("cur index: ",$),[I[z].content[$],I[z].content[$+1]]=[I[z].content[$+1],I[z].content[$]],r(I))}function Ve(){const V={...n},T={...t};V.personalInfo={},V.awards.content=[],V.awards.isEditing=-1,V.extracurriculars.content=[],V.extracurriculars.isEditing=-1,V.profile="",Object.keys(V.education).forEach(I=>V.education[I]=""),Object.keys(T).forEach(I=>T[I]=""),r(V),e(T)}function Ye(){e({...ps.personalInfo}),r(JSON.parse(JSON.stringify(ps.sections)))}function Re(V){l(V)}return k.jsxs(k.Fragment,{children:[k.jsx(KE,{onChange:y,isContent:a}),k.jsxs("div",{className:"edit-side",children:[a?k.jsxs(k.Fragment,{children:[k.jsx(pv,{onChange:x,name:t.name,email:t.email,phoneNumber:t.phoneNumber,address:t.address,setOpen:Re,isOpen:s==="Personal"}),k.jsx(hv,{onChange:m,education:n.education,setOpen:Re,isOpen:s==="Education"}),k.jsx(kv,{awards:n.awards,onChange:v,onCollapsedChange:M,onSave:N,onCancel:O,onRemove:R,onAdd:L,onUp:me,onDown:te,setOpen:Re,isOpen:s==="Awards"}),k.jsx(_E,{extracurriculars:n.extracurriculars,onChange:v,onCollapsedChange:M,onSave:N,onCancel:O,onRemove:R,onAdd:L,onUp:me,onDown:te,setOpen:Re,isOpen:s==="Extracurriculars",changeExtracurricularDescription:g}),k.jsx(FE,{profile:n.profile,onChange:S,setOpen:Re,isOpen:s==="Profile"}),k.jsx("p",{className:"disclaimer bg-transparent mb-3",children:"*May not appear in certain templates"})]}):k.jsx(QE,{onResumeChange:h,resumeIndex:c}),k.jsxs("div",{className:"utility",children:[k.jsx(WE,{onClear:Ve}),k.jsx(UE,{onLoadExample:Ye}),k.jsx(HE,{onDownload:p})]})]}),c==0?k.jsx(VE,{personal:t,education:n.education,awards:n.awards.content,extracurriculars:n.extracurriculars.content,ref:f}):c==1?k.jsx($E,{personal:t,education:n.education,awards:n.awards.content,extracurriculars:n.extracurriculars.content,profile:n.profile,ref:f}):""]})}Va.createRoot(document.getElementById("root")).render(k.jsx(Ue.StrictMode,{children:k.jsx(k.Fragment,{children:k.jsx(GE,{})})}));
